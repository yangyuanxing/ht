this.ht=this.ht||{},this.ht.vector=function(){"use strict";var ne="top",le="bottom",ye="right",be="left",ge="center",fe="middle",l="multiple",s="single",x="radio",C="checkbox",_="x",X="y",G="HT2018-11",p="category",R="time",xe="Previous",me="Next",we="Previous Jump",Ce="Next Jump",ke="First",Ve="Last",_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)};function u(e){this.value=e}function e(a){var r,n;function l(e,t){try{var i=a[e](t),o=i.value;o instanceof u?Promise.resolve(o.value).then(function(e){l("next",e)},function(e){l("throw",e)}):h(i.done?"return":"normal",i.value)}catch(e){h("throw",e)}}function h(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?l(r.key,r.arg):n=null}this._invoke=function(o,a){return new Promise(function(e,t){var i={key:o,arg:a,resolve:e,reject:t,next:null};n?n=n.next=i:(r=n=i,l(o,a))})},"function"!=typeof a.return&&(this.return=void 0)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Be(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var De=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=ht.Default,K=a.drawText,Z=a.drawStretchImage,$=a.getImage,q=[2,8],r=ht.Default,re=r.drawText,he=r.drawStretchImage,se=r.getImage,Ie={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ee=ht.Default.drawText,f={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"},d=/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/,g=/^[rR][gG][Bb][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?))\)$/,v=/^[rR][gG][Bb][Aa][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){3}(0\.\d{1,22}|1|0)?[\)]{1}$/,y=(t(b,[{key:"setColor",value:function(e,t,i,o){if(e&&!t)if(e=e.replace(/\s+/g,""),d.test(e))4===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[3],16),this.b=parseInt(e[3]+e[3],16)):7===e.length&&(this.r=parseInt(e.substring(1,3),16),this.g=parseInt(e.substring(3,5),16),this.b=parseInt(e.substring(5,7),16));else if(g.test(e)){var a=(e=e.replace(/[rRgGbB\(\)\s]*/g,"")).split(",");this.r=parseInt(a[0]),this.g=parseInt(a[1]),this.b=parseInt(a[2])}else if(v.test(e)){var r=(e=e.replace(/[rRgGbBaA\(\)\s]*/g,"")).split(",");this.r=parseInt(r[0]),this.g=parseInt(r[1]),this.b=parseInt(r[2]),this.a=parseFloat(r[3])}}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"rgb("+e+", "+t+", "+i+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,i=this.b,o=this.a;return null!==e&&null!==t&&null!==i?"rgba("+e+", "+t+", "+i+", "+(null===o?1:o.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(i):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),b);function b(e,t,i,o){h(this,b),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,o)}function z(e,t){return e<=1?t*e:e}function U(e,t){return t?(e-Le)/oe*ae+pe:Te-(e-Le)/oe*ae}function ue(e,t){return e<1?t*e:e}var m=ht.Default,j=m.drawText,Y=m.drawStretchImage,J=m.getImage,Q="#ffffff",te="#cccccc",ie=new y,w=ht.Default,ce=w.drawText,de=w.drawStretchImage,ve=w.getImage,oe=void 0,ae=void 0,pe=void 0,Te=void 0,Se=void 0,Le=void 0,Pe=ht.Default.drawText,k=Math.max,V=Math.min,D=ht.Default.containsPoint;function Lt(e,t,i,o,a,r){var n=4<arguments.length&&void 0!==a?a:{},l=r,h=t.x,s=t.y,u=t.width,c=t.height,d=i.width,g=i.height,f=o.x,v=o.y,p=void 0,y=void 0,b=null,x=null,m=void 0,w=void 0,C=n.color,k=void 0===C?"red":C,V=n.barWidth,_=void 0===V?8:V,D=n.gap,I=void 0===D?2:D,T=n.visible;if(e.save(),c<g){var S=c*(w=c/g);x=[h+u-_-I,s+-v*w,_,Math.max(S,4)],y=c-g,T&&(e.beginPath(),Pa.apply(void 0,[e].concat(Be(x),[Math.min(_,S)/2])),e.fillStyle=k,e.fill())}if(u<d-2){var L=u*(m=u/d);b=[h+-f*m,s+c-_-I,Math.max(L,4),_],p=u-d,T&&(e.beginPath(),Pa.apply(void 0,[e].concat(Be(b),[Math.min(_,L)/2])),e.fillStyle=k,e.fill())}l.scrollInfo={scrollBarX:b,scrollBarY:x,scaleX:m,scaleY:w,minX:p,minY:y},e.restore()}function N(e,t,i,o,a,r,n){var l=ya(e,"translateY"),h=ya(e,"translateX"),s=ha(i,t,e),u=sa(i,t,e),c=u.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,d=u.scrollInfo;if(d){var g=d.minX,f=d.minY,v=d.scrollBarX,p=d.scrollBarY,y=d.scaleX,b=d.scaleY,x=void 0,m={x:o.x+s.rect.x,y:o.y+s.rect.y};if(v){var w=(c-(v=la(v)).height)/2;v.y-=w,v.height=c}if(p){var C=(c-(p=la(p)).width)/2;p.x-=C,p.width=c}if(v&&h&&D(v,m))x={downPoint:o,startX:t.a(h)||0,scaleX:y,minX:g,axis:_};else if(p&&l&&D(p,m))x={downPoint:o,startY:t.a(l)||0,scaleY:b,minY:f,axis:X};else{var k=u.headHeight,V={x:0,y:k,width:a,height:r-k};!n&&u.pannable&&D(V,o)&&(v||p)&&(x={downPoint:o,scaleX:y,minX:g,scaleY:b,minY:f,isPan:!0},v&&h&&(x.startX=t.a(h)||0,x.scaleX=y,x.minX=g),p&&l&&(x.startY=t.a(l)||0,x.scaleY=b,x.minY=f))}return x}}function I(e,t,i,o,a,r){var n=sa(i,t,this),l=N(this,t,i,o,a,r);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function T(e,g,t,f,i,o){var v=sa(t,g,this),p=v._scrollDragInfo,y=ya(this,"translateY"),b=ya(this,"translateX");v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,i=p.minY,o=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,h=p.isPan;if(e===_){var s=a+(o.x-f.x)/n;s=V(0,s),s=k(t,s),b&&g.a(b,s)}else if(e===X){var u=r+(o.y-f.y)/l;u=V(0,u),u=k(i,u),y&&g.a(y,u)}else if(h){if(void 0!==a){var c=a+(f.x-o.x);c=V(0,c),c=k(t,c),b&&g.a(b,c)}if(void 0!==r){var d=r+(f.y-o.y);d=V(0,d),d=k(i,d),y&&g.a(y,d)}}}delete v._dragTimer},10))}function S(e,t,i,o,a,r){var n=sa(i,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,u=n.autoHideScrollBar;(h||s)&&u&&(n.scrollBarVisible=!0,B(t,n)),delete n._scrollDragInfo}}function L(e,t,i,o,a,r){var n=sa(i,t,this),l=n.scrollInfo,h=n.scrollSpeed||1,s=ya(this,"translateY"),u=ya(this,"translateX");if(l){var c=l.scrollBarX,d=l.scrollBarY,g=l.minX,f=l.minY,v=(e.wheelDeltaX||0)/40*5*h,p=(e.wheelDeltaY||0)/40*5*h,y=!1;if(d&&s&&p){var b=(t.a(s)||0)+p;b=V(0,b),b=k(f,b),t.a(s,b),y=!0}if(c&&u&&v){var x=(t.a(u)||0)+v;x=V(0,x),x=k(g,x),t.a(u,x),y=!0}if(!y&&c&&!d&&u&&p){var m=(t.a(u)||0)+p;m=V(0,m),m=k(g,m),t.a(u,m)}var w=n.autoHideScrollBar;(c||d)&&w&&(n.scrollBarVisible=!0,B(t,n))}}function B(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var P=ht.Default,Me=P.drawText,Re=P.drawStretchImage,Ee=P.getImage,Ae=P.drawBorder,Oe=P.intersectsRect,He=/\n/g;var F=ht.Default.drawText,W=ht.Default.drawImage,We=ht.Default.drawImage,M=ht.Default,Fe=M.drawText,Ne=M.createGradient,E=(t(A,[{key:"addExitChildsMapById",value:function(e,t){this._exitChildsMap[e]||(this._exitChildsMap[e]=t)}},{key:"getExitChildsMapById",value:function(e){return this._exitChildsMap[e]}},{key:"clearExitChildsMap",value:function(){this._exitChildsMap={}}},{key:"traverseExitChildsMap",value:function(e){var t=this._exitChildsMap;for(var i in t)"function"==typeof e&&e(i,t[i])}},{key:"addChildsMapById",value:function(e,t){this._childsMap[e]||(this._childsMap[e]=t)}},{key:"getChildMapById",value:function(e){return this._childsMap[e]}},{key:"removeChildMapById",value:function(e){delete this._childsMap[e]}},{key:"clearChildsMap",value:function(){this._childsMap={}}},{key:"traverseChildsMap",value:function(e){var t=this._childsMap;for(var i in t)"function"==typeof e&&e(i,t[i])}},{key:"addChildren",value:function(e){this.children.push(e)}},{key:"removeChildren",value:function(e){var t=this.children;t.splice(t.indexOf(e),1),e.destory()}},{key:"expandAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!0)}),this.data.iv()}},{key:"collapseAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!1)}),this.data.iv()}},{key:"checkAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!0,e._checkStatus="check"}),this.data.iv()}},{key:"unCheckAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!1,e._checkStatus="unCheck"}),this.data.iv()}},{key:"disableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!0}),this.data.iv()}},{key:"enableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!1}),this.data.iv()}},{key:"getSelected",value:function(){return this.filterByBreadthFirst(function(e){return e.selected})}},{key:"getUnselected",value:function(){return this.filterByBreadthFirst(function(e){return!e.selected})}},{key:"getExpanded",value:function(){return this.filterByBreadthFirst(function(e){return e.expanded})}},{key:"getCollapsed",value:function(){return this.filterByBreadthFirst(function(e){return!e.expanded})}},{key:"getChecked",value:function(){return this.filterByBreadthFirst(function(e){return e.checked})}},{key:"getUnChecked",value:function(){return this.filterByBreadthFirst(function(e){return!e.checked})}},{key:"getEnabled",value:function(){return this.filterByBreadthFirst(function(e){return!e.disabled})}},{key:"getDisabled",value:function(){return this.filterByBreadthFirst(function(e){return e.disabled})}},{key:"filterByDepthFirst",value:function(e){for(var t=[],i=this.children,o=[],a=i.length-1;0<=a;a--)o.push(i[a]);for(;0!=o.length;){var r=o.pop();e(r)&&t.push(r);for(var n=r.children,l=n.length-1;0<=l;l--)o.push(n[l])}return t}},{key:"traverseByDepthFirst",value:function(e){for(var t=this.children,i=[],o=t.length-1;0<=o;o--)i.push(t[o]);for(;0!=i.length;){var a=i.pop();e(a);for(var r=a.children,n=r.length-1;0<=n;n--)i.push(r[n])}}},{key:"filterByBreadthFirst",value:function(e){for(var t=[].concat(this.children),i=[];0<t.length;){var o=t.shift(),a=o.children;t=t.concat(a),e(o)&&i.push(o)}return i}},{key:"traverseByBreadthFirst",value:function(e){for(var t=[].concat(this.children);0<t.length;){var i=t.shift(),o=i.children;t=t.concat(o),"function"==typeof e&&e(i)}}}]),A);function A(e){h(this,A),this.data=e,this.children=[],this._childsMap={},this._exitChildsMap={}}var O=(t(H,[{key:"getSiblings",value:function(){var e=this.parent.children,t=e.indexOf(this);return e.slice(0,t).concat(e.slice(t+1,e.length))}},{key:"getPreSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getNextSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)+1;return t===e.length?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t);)t=t.getPreSibling();return t&&e(t)?t:null}},{key:"setParent",value:function(e){if(this.parent){var t=this.parent.children;t.splice(t.indexOf(this),1)}this.parent=e,this.parent.addChildren(this)}},{key:"addChildren",value:function(e){if(e instanceof H)this.children.push(e);else if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)Bt(e[t],this)}},{key:"removeChildren",value:function(e){var t=this.children;t.splice(t.indexOf(e),1),e.destory()}},{key:"checkAfter",value:function(){var e=this.checked,t=this.children;this._checkStatus=e?"check":"unCheck";for(var i=0,o=t.length;i<o;i++){var a=t[i];a.checked=e,a._checkStatus=e?"check":"unCheck",a.checkAfter()}}},{key:"checkBefore",value:function(){var e=this.parent;if(e&&!(e instanceof E)){for(var t=e.children,i=0,o=!1,a=0;a<t.length;a++)t[a].checked&&i++,"unCheckAll"===t[a]._checkStatus&&(o=!0);i===t.length?(e.checked=!0,e._checkStatus="check"):0!==i||o?(e.checked=!1,e._checkStatus="unCheckAll"):(e.checked=!1,e._checkStatus="unCheck"),e.checkBefore()}}},{key:"destory",value:function(){this.rootTree=null,this.dataInfo=null}}]),H);function H(e,t){h(this,H),Object.assign(this,Object.assign({text:"Tree",icon:null,children:[],badges:[],expanded:!1,selected:!1,disabled:!1,checked:!1,isLeaf:!1,_isHovering:!1,_isLoading:!1,_treeItemRect:{},_elementRect:{}},e)),this.children=[],this.rootTree=t}function Pt(e){var t=e.x,i=e.y,o=e.width,a=e.height,r=o/2,n=a/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+a},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+o,y:i+n}}}function je(e,t,i,o){for(var a=[],r=0,n=zo(i,"图"),l=n.height/3,h=1,s=e.length;h<=s;h++)t<(l+=n.height+o)&&(r=h-1===r?(a.push(e.substring(r,h)),h):(a.push(e.substring(r,h-1)),h-1),l=n.height/3);return r!==h-1&&a.push(e.substring(r,h)),a}function Ge(e,t,i,o,a,r){return t?r:tt===e?o||i:e===it&&a||i}function Ye(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}function ze(e,t,i,o){for(var a=e,r=0;a<t;){r++,a=e;for(var n=0;n<r;n++)a+=2*i+2*e*(o+(1-o)*n/r)}return r}function Xe(e,t,i,o,a,r,n,l,h,s,u,c){var d=t.x,g=t.y,f=t.width,v=t.height,p=void 0;i!==we&&i!==Ce&&(e.beginPath(),Pa(e,d,g,f,v,n),e.closePath(),r&&l&&(e.strokeStyle=r,e.lineWidth=l,e.stroke()),h&&(e.fillStyle=h,e.fill())),0<=at.indexOf(i)&&(p=i===we||i===Ce?s.hover?ja(ot+(i===we?ke:Ve).toLowerCase()):ja("ht.vector.pagination.ellipsis"):ja(ot+i.toLowerCase())),p?Ra(e,p,"uniform",d,g,f,v,u,c,a):La(e,i,o,a,d,g,f,v,ge,fe)}function Ue(e,t,i,o,a,r){var n=e.active,l=e.disabled,h=e.hover;return l&&n?r:l?a:h?i:n?o:t}var Bt=function e(t,i){var o=i instanceof O?i.rootTree:i,a=t.id,r=t.text,n=t.icon,l=t.badges,h=t.expanded,s=t.selected,u=t.disabled,c=t.checked,d=t.isLeaf,g=t.children,f=o.getChildMapById(a);if(!o.getExitChildsMapById(a)){if(void 0===a&&(a=Fa(),t.id=a),f){var v=f.dataInfo,p=v.text,y=v.icon,b=v.badges,x=v.isLeaf,m=v.expanded,w=v.selected,C=v.disabled,k=v.checked;r!==p&&(f.text=void 0===r?"Tree":r),n!==y&&(f.icon=void 0===n?null:n),l!==b&&(f.badges=void 0===l?[]:l),d!==x&&(f.isLeaf=void 0!==d&&d),h!==m&&(f.expanded=void 0!==h&&h),s!==w&&(f.selected=void 0!==s&&s),u!==C&&(f.disabled=void 0!==u&&u),c!==k&&(f.checked=void 0!==c&&c)}else f=new O(t,o),o.addChildsMapById(a,this);if(f._checkStatus="unCheck",f.setParent(i),o.removeChildMapById(a),o.addExitChildsMapById(a,f),f.dataInfo=t,h&&g instanceof Array&&0<g.length)for(var V=0,_=g.length;V<_;V++)e(g[V],f);return f}},Mt=function(e){var t=e.showCheckbox,i=e.showIcon,o=e.expandIconSize,a=e.iconSize,r=e.checkIconSize,n=e.space,l=o+n;return i&&(l+=a+n),t&&(l+=r+n),l},Ke=ht.Default,Rt=Ke.drawStretchImage,Et=Ke.getImage,At=Ke.intersectsRect,Ze=ht.Default,$e=Ze.drawText,qe=Ze.drawStretchImage,Je=Ze.getImage,Qe={},et=ht.Default.drawText,tt=void 0,it=void 0,ot="ht.vector.pagination.",at=[xe,me,Ve,ke,we,Ce],rt=(t(nt,[{key:"onClick",value:function(e,t,i,o,a,r){}},{key:"onDoubleClick",value:function(e,t,i,o,a,r){}},{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onUp",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onHover",value:function(e,t,i,o,a,r){}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){}},{key:"onDrag",value:function(e,t,i,o,a,r){}},{key:"onEndDrag",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){}}]),nt);function nt(){h(this,nt)}var lt=(i(st,rt),t(st,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?va(i,"not-allowed"):va(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=sa(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,c=n.textColor,d=n.wordBreak,g=n.selectTextOnFocus,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,b=n.lineHeight,x=Ko("textarea"),m=x.style,w=ya(this,"value"),C=Xo(f),k=De(C,4),V=k[0],_=k[1],D=k[2],I=k[3];m.color=c,m.font=l,m.paddingTop=V+"px",m.paddingRight=_+"px",m.paddingBottom=D+"px",m.paddingLeft=2+I+"px",m.textAlign=s,m.resize="none",m.overflow="hidden",m.lineHeight=b+"px",m.wordBreak=d?"break-all":"keep-word",x.value=h||"",u&&x.setAttribute("maxlength",u),r.appendHTML(x);var T=ha(r,a,this);T&&Zo(r,x,T),n.editing=!0,n.editingValue=h,n.inputDOM=x,a.iv();var S=function(e){Zo(r,x,T)},L=function e(t){var i=x.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),ca(a,r,x,n,w),r.ump(S),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=L,setTimeout(function(){g&&x.addEventListener("focus",function(e){x.select()}),x.focus(),r.mp(S);var t=null;x.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=x.value,a.a(w,x.value)},10),9===e.keyCode&&(ca(a,r,x,n,w),r.getView().removeEventListener("mousedown",L),r.getView().removeEventListener("touchstart",L)),v&&v(e,a,r)}),(p||y)&&(x.addEventListener("keyup",function(e){p&&p(e,a,r),Yo&&y&&y(x.value,a,r)}),Yo||x.addEventListener("input",function(e){y&&y(x.value,a,r)})),r.getView().addEventListener("mousedown",L),r.getView().addEventListener("touchstart",L)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ya(this,"value");n.editing&&n.inputDOM&&(ca(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),st);function st(){return h(this,st),c(this,(st.__proto__||Object.getPrototypeOf(st)).call(this))}var ut=(i(ct,rt),t(ct,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?va(i,"not-allowed"):va(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=sa(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,c=n.textColor,d=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,b=n.selectTextOnFocus,x=a.getAnchorRect(),m=Ko(),w=c||Ie.textColor,C=m.style,k=ya(this,"value"),V=Xo(f),_=De(V,4),D=_[0],I=_[1],T=_[2],S=_[3];d&&(m.type=d),C.color=w,C.font=l,C.paddingTop=D+"px",C.paddingRight=I+"px",C.paddingBottom=T+"px",C.paddingLeft=2+S+"px",C.lineHeight=x.height+"px",C.textAlign=s,m.value=h||"",m.spellcheck=!1,u&&m.setAttribute("maxlength",u),r.appendHTML(m);var L=ha(r,a,this);L&&Zo(r,m,L),n.editing=!0,n.editingValue=h,n.inputDOM=m,a.iv();var P=function(e){Zo(r,m,L)},B=function e(t){var i=m.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),ca(a,r,m,n,k),r.ump(P),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=B,setTimeout(function(){b&&m.addEventListener("focus",function(e){m.select()}),m.focus(),r.mp(P);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,a.a(k,m.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(ca(a,r,m,n,k),r.getView().removeEventListener("mousedown",B),r.getView().removeEventListener("touchstart",B)),v&&v(e,a,r)}),(p||y)&&m.addEventListener("keyup",function(e){p&&p(e,a,r),y&&y(m.value,a,r)}),r.getView().addEventListener("mousedown",B),r.getView().addEventListener("touchstart",B)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ya(this,"value");n.editing&&n.inputDOM&&(ca(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),ct);function ct(){return h(this,ct),c(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this))}function dt(e,t,i,o,a,r,n){if(o&&(o.editing=!1,delete o.dom),a){var l=parseFloat(i.value);ga(n)||(l=Math.min(l,n)),ga(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),t.getView().removeChild(i)}var gt=ht.Default.containsPoint,ft=(i(vt,rt),t(vt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?va(i,"not-allowed"):va(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){va(i,"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=sa(r,a,this),l=ha(r,a,this),h=n.buttonRects,s=n.onKeyDown,u=n.onKeyUp,c=n.onChange,d=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=h&&(gt(h[0],f)||gt(h[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,y=ya(this,"value");if(!y)return;var b=n.dom&&n.dom.value||a.a(y)||d||0,x=void 0;gt(h[0],f)?(x=ba(parseFloat(b),p),ga(g)||(x=Math.min(x,g))):(x=xa(parseFloat(b),p),ga(d)||(x=Math.max(x,d))),n.editing?(n.editingValue=n.dom.value=x,a.iv()):a.a(y,x),c&&b!==x&&c(x,a,r)}}else{var m=n.font,w=n.value,C=n.textAlign,k=n.maxLength,V=n.textColor,_=n.enterEndInputable,D=n.padding,I=n.selectTextOnFocus,T=a.getAnchorRect(),S=Ko(),L=V||Ie.textColor,P=S.style,B=ya(this,"value"),M=Xo(D),R=De(M,4),E=R[0],A=R[1],O=R[2],H=R[3];P.color=L,P.font=m,P.paddingTop=E+"px",P.paddingRight=A+"px",P.paddingBottom=O+"px",P.paddingLeft=2+H+"px",P.lineHeight=T.height+"px",P.textAlign=C,S.value=w||"",S.spellcheck=!1,k&&S.setAttribute("maxlength",k),r.appendHTML(S);var W=ha(r,a,this);W&&Zo(r,S,W),n.editing=!0,n.editingValue=w,n.dom=S,a.iv();var F=function(e){Zo(r,S,W)},N=function e(t){var i=S.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),dt(a,r,S,n,B,d,g),r.ump(F),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=N,setTimeout(function(){I&&S.addEventListener("focus",function(e){S.select()}),S.focus(),r.mp(F);var t=null;S.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){if(n.editingValue=S.value,B){var e=parseFloat(S.value);ga(g)||(e=Math.min(e,g)),ga(d)||(e=Math.max(e,d)),a.a(B,e)}},10),(9===e.keyCode||_&&ht.Default.isEnter(e))&&(dt(a,r,S,n,B,d,g),r.getView().removeEventListener("mousedown",N),r.getView().removeEventListener("touchstart",N)),s&&s(e,a,r)}),S.addEventListener("keyup",function(e){u&&u(e,a,r),c&&c(parseFloat(S.value),a,r)}),S.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",N),r.getView().addEventListener("touchstart",N)},1)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ha(i,t,this),h=n.buttonRects,s={x:o.x+l.rect.x,y:o.y+l.rect.y},u="text";n.disabled?u="not-allowed":h&&(ht.Default.containsPoint(h[0],s)||ht.Default.containsPoint(h[1],s))&&(u="pointer"),va(i,u),n.dom&&(n.dom.style.cursor=u)}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ya(this,"value");n.editing&&n.dom&&(dt(t,i,n.dom,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),vt);function vt(){return h(this,vt),c(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this))}var pt=(i(yt,rt),t(yt,[{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?va(i,"not-allowed"):va(i,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),yt);function yt(){return h(this,yt),c(this,(yt.__proto__||Object.getPrototypeOf(yt)).call(this))}var bt=(i(xt,pt),t(xt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<o.x&&o.x<a&&0<o.y&&o.y<r&&l(e,t,i))}}]),xt);function xt(){return h(this,xt),c(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this))}var mt=(i(wt,pt),t(wt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.disabled,h=(n.pressed,ya(this,"checked")),s=ya(this,"group");if(!l){delete n.pressed,t.iv();var u=n.value,c=n.onChange,d=n.group;if(!t.a(h)&&0<o.x&&o.x<a&&0<o.y&&o.y<r){var g=t.a(h);i&&i.dm()&&!g&&d&&i.dm().each(function(e){d===e.a(s)&&e.a(h,!1)}),t.a(h,!0),c&&c(void 0===u||u,t,i)}}}}]),wt);function wt(){return h(this,wt),c(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this))}var Ct=(i(kt,pt),t(kt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.disabled,h=n.pressed,s=ya(this,"checked"),u=ya(this,"group"),c=ya(this,"value");if(!l){t.a(h,!1),t.iv(),n.value;var d=n.group,g=n.onChange;if(0<o.x&&o.x<a&&0<o.y&&o.y<r){var f=t.a(s);if(t.a(s,!f),g)if(d){var v=[];i.dm().each(function(e){d===e.a(u)&&e.a(s)&&v.push(e.a(c))}),g(v,t,i)}else g(!f,t,i)}}}}]),kt);function kt(){return h(this,kt),c(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this))}var Vt=(t(_t,[{key:"init",value:function(){var t=this;this._initing=!0;var e=this.data,i=this.graph,o=(i.getZoom(),i.tx(),i.ty(),this.value),a=new this.dropDownClazz,r=a._dropDownView=a.initDropDownView(e,this.getDatas(),o);a.getDropDownView=function(){return r},r.on("d:click",function(e){e.stopPropagation()}),r.on("d:mousedown",function(e){e.stopPropagation()}),r.on("d:mousewheel",function(e){e.stopPropagation()}),r.on("d:mousemove",function(e){t.dropDownClazz!==ht.ui.ColorDropDown&&e.stopPropagation()}),this._dropDown=a,this._dropDownView=r,this.onInit(a,r),e.getWidth(),e.getHeight();var n=wa(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(a,r,{left:n.x,top:n.y,width:n.widht,height:n.height}),document.body.appendChild(r.getView()),a.addValueChangeListener(this.handleDropDownValueChange,this),a.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){t.registerCloseEvent(t._documentClickHandler)},100),a.afterOpen(o),r.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var o=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=i.left+r.left,l=i.top+i.height+r.top;n+o>r.left+r.width&&(n=r.left+r.width-o),l+a>r.top+r.height&&(l-=i.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(o),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unregisterCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,i=this.graph;if(ht.Default.isLeftButton(e)){var o=this._dropDown,a=this._dropDownView;if(a){var r=t.getWidth(),n=t.getHeight(),l=i.tx(),h=i.ty(),s=i.getZoom(),u={x:t.getX()*s+l-r*t.getAnchor().x,y:t.getY()*s+h-n*t.getAnchor().y,width:r,height:n},c=a.containsEvent?a.containsEvent(e):o.isClickOnDropDownView(e);ht.Default.containsPoint(u,ht.Default.getClientPoint(e))||c||this.close()}}}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this,i=t._dropDown,o=t._dropDownView;if(i){if(i.beforeClose(),"stop"===e.kind){var a=i.getDropDownValue();void 0!==a&&(this.value=a)}t._clearDropDown(),ht.Default.removeHTML(o.getView()),i.removeValueChangeListener(t.handleDropDownValueChange,t),this.unregisterCloseEvent(this._documentClickHandler),i.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),i=De(t,2),o=i[0],a=i[1];if("a"===o)return e.a(a);if("s"===o)return e.s(a);if("p"===o){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,i=this.valueType,o=this.graph,a=i.split("@"),r=De(a,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}h&&h(s,e,t,o)}}]),_t);function _t(t,e,i,o){h(this,_t),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=o,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}var Dt=(i(It,Vt),It);function It(e,t,i,o){h(this,It);var a=c(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.ColorDropDown,a}function Tt(e,t,i,o){var a=i.dropDown;a||(a=new Dt(e,t,i,"a@"+o),i.dropDown=a),a.open()}var St=(i(Ot,Vt),t(Ot,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Ot);function Ot(e,t,i,o){h(this,Ot);var a=c(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}function Ht(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new St(e,t,i,o),i.dropDown=a),a.open()}var Wt=(i(Ft,Vt),t(Ft,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Ft);function Ft(e,t,i,o){h(this,Ft);var a=c(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,e,t,i,o));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}i(Nt,Vt),t(Nt,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}]);function Nt(e,t,i){h(this,Nt);var o=c(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).call(this,e,t,i));return o.dropDownClazz=ht.ui.ListDropDown,o}var jt=(i(Gt,pt),t(Gt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=ya(this,"value",t,i);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Tt(t,i,n,l)}}}]),Gt);function Gt(){return h(this,Gt),c(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this))}var Yt=(i(zt,pt),t(zt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){var l=ya(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ht(t,i,n,"a@"+l)}}}]),zt);function zt(){return h(this,zt),c(this,(zt.__proto__||Object.getPrototypeOf(zt)).call(this))}var Xt,Ut=(Xt=ht.graph.Interactor,i(Kt,Xt),t(Kt,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,i=t.getDataAt(e);i&&t.sm().ss(i)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,o=t.getDataAt(e);o!==i&&(t._hoverData=o&&t.sm().contains(o)?null:o,t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),Kt);function Kt(e){return h(this,Kt),c(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this,e))}var Zt,$t={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},qt=(Zt=ht.graph.GraphView,i(Jt,Zt),t(Jt,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),o=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=o?0:o<e?e:o}},{key:"handleScroll",value:function(e){var t=Go?-e.detail:e.wheelDelta/40;!Go&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){n(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1,this._lastWidth=this.getWidth();var i=this._iconHeight,o=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*o,l=.5*a;r.forEach(function(e,t){e.setSize(o,i),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(i){var o=this,a=this._rowHeight,r=this.getWidth(),n=this._hoverData,l=this._dropBorderColor,h=this._dropBorderWidth;if(this.dm().toDatas(this.isVisible,this).each(function(e){if(i.beginPath(),i.rect(0,e.p().y-a/2,r,a),o.isSelected(e)?(i.fillStyle=o.getActiveColor()||$t.baseColor,i.fill()):e===n&&(i.fillStyle=o.getHoverBackground()||$t.hoverBackground,i.fill()),l&&h){var t=e.p().y+a/2-.5*h;i.beginPath(),i.moveTo(0,t),i.lineTo(r,t),i.strokeStyle=l,i.lineWidth=h,i.stroke()}}),l&&h){var e=this.getViewRect(),t=e.x,s=e.y,u=e.width,c=e.height;i.strokeStyle=l,i.lineWidth=h,i.strokeRect(t+.5*h,s+.5*h,u-h,c-h)}}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){n(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),o=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(o*=1.5),i.height>t.height&&a.x-t.x>t.width-o}}]),Jt);function Jt(e){h(this,Jt);var t=c(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new Ut(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var i=t.getView().style;return i.transition="all 0.2s",i.transitionOrigin="0 0",t}ea(qt,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var Qt=(i(ei,qt),t(ei,[{key:"_initStyleByMaster",value:function(){var e=this._vectorInfo;this.setIconHeight(e.dropIconWidth),this.setIconWidth(e.dropIconHeight),this.setRowHeight(e.dropRowHeight),this.setDropWidth(e.dropWidth),this.setBackground(e.dropBackground),this.setHoverBackground(e.dropHoverBackground),this.setActiveColor(e.dropActiveBackground),this.setDropLabelColor(e.dropLabelColor),this.setDropActiveLabelColor(e.dropActiveLabelColor),this.setDropLabelFont(e.dropLabelFont),this.setMaxHeight(e.dropMaxHeight),this.setDropBorderColor(e.dropBorderColor),this.setDropBorderWidth(e.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,o=i.onChange,a=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(a===s)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===s)t.a(this._valueName,n),t.a(f.LABEL,this.__getLabel()),t.a(f.ICON,e.a("icon"));else{var l=this._previousValue,h=i.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}o&&o(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){l!==e&&s!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,o=this.dm();o.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),o.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(s===o)return 0===i.size()?null:this.getNodeValue(i.get(0));if(l!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(s===o)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(l!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),o=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),Ta(r)?Ia(r)?r.length&&r.forEach(function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(o),this.setHeight(a),$o(t,"transform","scaleY(0)"),document.body.appendChild(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){$o(t,"transform","scaleY(1)"),setTimeout(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=wa(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),i=this.getView().style,o=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+o>t.width&&(r=t.width-o),i.left=r+"px",i.top=n+"px",$o(i,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),i=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),$o(i,"transform","scaleY(0)"),setTimeout(function(){document.body.removeChild(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unRegisterCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,o=wa(this._vectorInfo.comp,t,i);ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return n(ei.prototype.__proto__||Object.getPrototypeOf(ei.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),ei);function ei(e,t,i,o,a){h(this,ei);var r=c(this,(ei.__proto__||Object.getPrototypeOf(ei)).call(this));r.setSelectionMode(a?l:s),r._master=e,r._masterGraph=t,r._vectorInfo=i,r._valueName=o,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",$o(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,i=r.getDataAt(e);i!==t&&(r._hoverData=i&&r.sm().contains(i)?null:i,r.redraw())}),r._initStyleByMaster(),r}function ti(e,t,i,o,a){var r=i.dropDown;r||((r=new Qt(e,t,i,o,a)).getView().className="ht-vector-dropdown",i.dropDown=r),r._transition||(r.isOpened()||r.setData(i.dataSource),r.toggle())}ea(Qt,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:$t.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:$t.inputTextColor});var ii=(i(oi,pt),t(oi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=ya(this,"value",t,i);0<o.x&&o.x<a&&0<o.y&&o.y<r&&ti(t,i,n,l)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),oi);function oi(){return h(this,oi),c(this,(oi.__proto__||Object.getPrototypeOf(oi)).call(this))}function ai(e,t,i,o,a){var r=sa(i,t,o),n=r.rowHeights,l=r.colWidths,h=r.headHeight,s=r.rowLineWidth,u=r.translateY,c=r.translateX,d=null,g=null;if(0<(u=Math.floor(a.y-u-h))&&n&&n.length){for(var f=d=0;d<n.length&&!(u<(f+=n[d]+s));d++);d===n.length&&(d=null)}if(0<(c=Math.floor(a.x-c))&&l&&l.length){for(var v=g=0;g<l.length&&!(c<(v+=l[g]));g++);g===l.length&&(g=null)}return{row:d,col:g}}var ri=(i(ni,rt),t(ni,[{key:"onDown",value:function(e,t,i,o,a,r){if(!N(this,t,i,o,a,r,!0)){var n=sa(i,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,u=n.onClickHeadCell,c=n.headRect,d=n.headHeight,g=_a(i,t,this,o),f=ya(this,"selectedIndex");if(c=c&&la(c),!ga(l)){var v=n.dataSource||[],p=n.onSelectRow,y=n.selectedIndex;if(v&&v[l]){if(h)if(y="number"==typeof y?[y]:null==y?[]:y.slice(0),ht.Default.isCtrlDown()){var b=y.indexOf(l);0<=b?y.splice(b,1):y.push(l)}else if(ht.Default.isShiftDown()&&0<y.length){var x=y[y.length-1];if(x<l)for(var m=x+1;m<=l;m++)y.indexOf(m)<0&&y.push(m);else if(l<x)for(var w=x-1;l<=w;w--)y.indexOf(w)<0&&y.push(w)}else y=[l];else y=[l];f&&t.a(f,y),p&&p(v[l],t,i)}}if(s){var C=n.colWidths,k=n.rowHeights,V=n.columns,_=n.dataSource,D=n.rawColIndexs,I=n.rawIndexs,T=ai(0,t,i,this,o),S=I[T.row],L=D[T.col];if(null!=L&&null!=S&&T.row<=k.length&&T.col<=C.length&&V&&_&&V[L].key){var P=V[L],B=_[S],M=B[P.key];P.format&&(M=P.format(M,B,S,L)),s(e,M,B,P,S,L,t,i)}}if(u&&d&&c&&ga(n.resizeColIndex)&&Ba(c,g))for(var R=n.rawCols,E=n.colWidths,A=n.headHeight,O=n.rawColIndexs,H=c.x,W=0;W<E.length;W++){var F={x:H,y:c.y,width:E[W],height:A};if(Ba(F,g)){u(e,R[W],O[W],t,i);break}H+=E[W]}}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,u=n.columns,c=n.rawDatas,d=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,y=n.bodyRect,b=ai(0,t,i,this,o),x=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=b.row,C=b.col,k=_a(i,t,this,o);if(!n._scrollDragInfo&&d&&c){if(p=p&&la(p),y=la(y),Ba(y,k)&&n.autoHideScrollBar&&x&&(x.scrollBarX&&o.y>r-m||x.scrollBarY&&o.x>a-m))return n.scrollBarVisible=!0,t.iv(),void B(t,n);if(Ba(y,k)){if(f)if(null!=C&&null!==w&&w<=l.length&&C<=h.length&&u&&c&&u[C].key){var V=u[C],_=c[w],D=d[w],I=g[C],T=_[V.key];V.format&&(T=V.format(T,_,D,I)),f(e,T,_,V,D,I,t,i)}else f();s!==d[w]&&(n.hoverIndex=d[w],t.iv())}else if(p&&!n.resizeBeginPoint&&v&&Ba(p,k)){for(var S=n.resizeRects,L=void 0,P=0;P<S.length;P++)if(Ba(S[P],k)){L=P;break}n.resizeColIndex=L,Ta(L)?va(i,"ew-resize"):va(i,"default")}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){I.apply(this,arguments);var n=sa(i,t,this);if(Ta(n.resizeColIndex)){var l=n.colWidths,h=n.rawColIndexs,s=n.rawCols;n.resizeSourceWidth=l[h[n.resizeColIndex]],n.resizeBeginPoint=o,s.forEach(function(e,t){e.width=l[t]})}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.resizeBeginPoint;if(l){var h=n.rawCols,s=n.rawColIndexs,u=n.resizeColIndex,c=n.resizeSourceWidth,d=n.resizeRects,g=h[s[u]],f=o.x-l.x,v=d[u],p=v.x,y=v.y,b=v.width;return n.resizeDragPoint={x:p+b/2,y:y},g.width=Math.max(c+f,1),void t.iv()}T.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){S.apply(this,arguments);var n=sa(i,t,this);if(n.resizeBeginPoint){var l=ya(this,"translateX"),h=(t.a(l),n.colWidths),s=0;h.forEach(function(e){s+=e}),console.log(t.a(l)),delete n.resizeBeginPoint,delete n.resizeDragPoint,delete n.resizeColIndex,s<a?t.a(l,0):t.iv()}}},{key:"onScroll",value:function(e,t,i,o,a,r){L.apply(this,arguments)}}]),ni);function ni(){return h(this,ni),c(this,(ni.__proto__||Object.getPrototypeOf(ni)).call(this))}function li(e,t,i,o,a){var r=t.max,n=t.min,l=t.step,h=r-n,s=t.value,u=(i.x-o.x)/o.width*h+n,c=t.onChange,d=ya(t.comp,"value");if(u=Math.min(r,u),u=Math.max(n,u),l){var g=u%l;u=u-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(d,u),c&&c(s,u,e,a)}var hi=ht.Default.containsPoint,si=(i(ui,rt),t(ui,[{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){var l=ma(n.barRect,2),h=_a(i,t,this,o);hi(l,h)&&li(t,n,h,n.barRect,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ma(n.sliderRect,2),h=n.showToolTip,s=n.toolTipFormat,u=ya(this,"value"),c=_a(i,t,this,o);if(hi(l,c)&&h){var d=t.a(u);d=ga(d)?"0":d+"",ua.show(s?s(d):d,e)}else this.dragging||ua.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){sa(i,t,this).disabled?va(i,"not-allowed"):va(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,"default"),n.dragging||ua.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){var l=ma(n.sliderRect,2),h=_a(i,t,this,o);hi(l,h)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(n.dragging){var l=_a(i,t,this,o),h=n.barRect;li(t,n,l,h,i);var s=n.showToolTip,u=n.toolTipFormat,c=n.value;s&&ua.show(u?u(c):c,e)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){delete sa(i,t,this).dragging,ua.hide()}}]),ui);function ui(){return h(this,ui),c(this,(ui.__proto__||Object.getPrototypeOf(ui)).call(this))}function ci(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(i.x-o.x)/o.width*s+l,c=t.value,d=c[0],g=c[1],f=ya(t.comp,"value"),v=t.onChange;if(u=Math.min(n,u),u=Math.max(l,u),h){var p=u%h;u=u-p+(Math.abs(p)>h/2)*(p<0?-h:h)}var y=null;if(t.dragging){var b=t.dragging;y=b<=u?[b,u]:[u,b]}else{var x=Math.abs(d-u);y=Math.abs(g-u)<=x?[d,u]:[u,g]}return r||e.a(f,y),v&&v(c,y,e,a),u}var di=(i(gi,rt),t(gi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){var l=ma(n.barRect,2),h=ma(n.valueBarRect,2),s=n.valueBarDraggable,u=_a(i,t,this,o);s&&ht.Default.containsPoint(h,u)||ht.Default.containsPoint(l,u)&&ci(t,n,u,l,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ma(n.sliderRect,2),h=ma(n.sliderRect2,2),s=n.showToolTip,u=n.toolTipFormat,c=n.value,d=_a(i,t,this,o);ht.Default.containsPoint(l,d)&&s?ua.show(u?u(c[0]):c[0],e):ht.Default.containsPoint(h,d)&&s?ua.show(u?u(c[1]):c[1],e):this.dragging||ua.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){sa(i,t,this).disabled?va(i,"not-allowed"):va(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,"default"),n.dragging||ua.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){var l=ma(n.barRect,2),h=ma(n.sliderRect,2),s=ma(n.sliderRect2,2),u=ma(n.valueBarRect,2),c=n.value,d=n.valueBarDraggable,g=_a(i,t,this,o);ht.Default.containsPoint(h,g)?n.dragging=c[1]:ht.Default.containsPoint(s,g)?n.dragging=c[0]:d&&ht.Default.containsPoint(u,g)&&(n.draggingValueBar=ci(t,n,g,l,i,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.showToolTip,h=n.toolTipFormat,s=n.barRect,u=_a(i,t,this,o);if(void 0!==n.dragging){var c=ci(t,n,u,s,i);l&&ua.show(h?h(c):c,e)}else if(void 0!==n.draggingValueBar){var d=n.draggingValueBar,g=ci(t,n,u,s,i,!0),f=g-d,v=n.value,p=n.min,y=n.max,b=[v[0]+f,v[1]+f],x=ya(this,"value");if(b[0]<p?b=[p,p+(v[1]-v[0])]:b[1]>y&&(b=[y-(v[1]-v[0]),y]),n.draggingValueBar=g,t.a(x,b),l){var m=b.join(",");h&&(m=b.map(function(e){return h(e)}).join(",")),ua.show(m,e)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);delete n.dragging,delete n.draggingValueBar,ua.hide()}}]),gi);function gi(){return h(this,gi),c(this,(gi.__proto__||Object.getPrototypeOf(gi)).call(this))}function fi(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var o=De(t[i].rect,4),a=o[0],r=o[1],n=o[2],l=o[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[i].value}}var vi=(i(pi,rt),t(pi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=ya(this,"value");if(!n.disabled&&l){var h=void 0;if((h=n.dropDown)&&h.isOpened())h.close();else{var s=n.value,u=s?s.slice(0):null,c=n.valueItemInfo,d=fi(o,c);if(d&&s&&0<=s.indexOf(d)){var g=s.indexOf(d);s.splice(g,1);var f=s.slice(0);t.a(l,f),n.onChange&&n.onChange(u,f,t,i),va(i,"default"),this._hitValue=s}}}}},{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=ya(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&ti(t,i,n,l,!0)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(n.disabled)va(i,"not-allowed");else{var l=n.valueItemInfo;fi(o,l)?(this._oldCursor=i.getView().style.cursor,va(i,"pointer")):va(i,"default")}}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n.disabled?va(i,"not-allowed"):va(i,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,i,o,a,r){va(i,"default")}}]),pi);function pi(){return h(this,pi),c(this,(pi.__proto__||Object.getPrototypeOf(pi)).call(this))}var yi=10,bi=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(c,e,t,i,o){var r=t.getValue("labelFont"),n=t.getColor("labelColor"),d=t.getValue("itemFont"),g=t.getColor("itemColor"),f=t.getValue("itemIconSize"),a=t.getValue("info");if(a){ht.Default.isArray(a)||(a=[a]);var v=e.x,l=e.y,p=(e.width,e.height,0),y=0,b=l;a.forEach(function(e,t){var i=e.label,o=e.datas,u=e.colors;if(0<t&&(b+=8,p+=8),i){var a=zo(r,i);p+=a.height,y=a.width,ht.Default.drawText(c,i,r,n,v,b,a.width,a.height,"left"),b+=a.height+2}o.forEach(function(e,t){var i=De(e,3),o=i[0],a=i[1],r=i[2],n=null!=o?o+"："+a:a,l=zo(d,n);p+=l.height+2,y=Math.max(y,l.width+f+3);var h=v;if(!ht.Default.isEmptyObject(u)){var s=f/2;c.fillStyle=u[t],c.beginPath(),c.moveTo(s,b+s),c.arc(s,b+s,s,0,2*Math.PI),c.fill(),h+=3+f}ht.Default.drawText(c,n,d,r||g,h,b,l.width,l.height,"left"),b+=l.height+2})}),bi=p,yi=y}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}},itemColor:{func:"attr@itemColor",value:"rgb(247, 247, 247)"}}]});var xi,mi=(xi=ht.graph.GraphView,i(wi,xi),t(wi,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===yi&&this.getHeight()===bi||(this._tipNode.setWidth(yi),this._tipNode.setHeight(bi),this.setWidth(yi),this.setHeight(bi),this.fitContent(!1,0))}},{key:"setAttr",value:function(e){this._tipNode.a(e)}}]),wi);function wi(){h(this,wi);var e=c(this,(wi.__proto__||Object.getPrototypeOf(wi)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(yi),e.setHeight(bi),e}function Ci(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<s){var c=l/s;if(ki({x:a+n-u,y:r-i*c,width:u,height:l*c},o))return!0}if(n<h-2){var d=n/h;if(ki({x:a-t*d,y:r+l-u,width:n*d,height:u},o))return!0}return!1}return!1}var ki=ht.Default.containsPoint,Vi=(i(_i,rt),t(_i,[{key:"onDown",value:function(h,s,e,t,i,o){var u=this,c=_a(e,s,this,t),l=sa(e,s,this),d=l.rootTree,a=l.scrollBarInfo,r=l.translateX,n=l.translateY,g=l.isScrollBarDragging,f=l.rectInfo,v=l.onClickBadge,p=l.onClickBack,y=l.onCheck,b=l.onSelect,x=l.onExpand,m=l.loadData,w=l.accordion,C=l.multiSelect,k=l.selectableFunc,V=l.expandableFunc,_=l.checkableFunc;if(g)l.isScrollBarDragging=!1;else if(!Ci(a,r,n,c)&&f){for(var D=f.expandIconRects,I=f.checkIconRects,T=f.treeBackRects,S=f.badgeRects,L=0,P=S.length;L<P;L++){var B=S[L],M=B.treeItem,R=B.info,E=B.badgeRect;if(ki(E,c)&&!M.disabled)return v.call(this,h,M,R),void s.iv()}for(var A=0,O=I.length;A<O;A++){var H=I[A],W=(M=H.treeItem,H.checkIconRect);if(ki(W,c)&&!M.disabled&&_(M))return M.checked=!M.checked,y.call(this,h,M,M.checked),M.checkAfter(),M.checkBefore(),void s.iv()}for(var F=function(e,t){var i=D[e],o=i.treeItem,a=i.expandIconRect;if(ki(a,c)){if(o._isLoading)return{v:void 0};if(!o.disabled&&V(o)){w&&o.getSiblings().forEach(function(e){e.expanded=!1}),o.expanded=!o.expanded;var r=o.children,n=o.dataInfo,l=o.expanded;return 0===r.length&&n.children?(o.addChildren(n.children),x.call(u,h,o,o.expanded)):l&&0===r.length?new Promise(function(e){o._isLoading=!0,m.call(u,o,e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];o._isLoading=!1,o.addChildren(e),o.checkAfter(),x.call(u,h,o,o.expanded),s.iv()}):x.call(u,h,o,o.expanded),s.iv(),{v:void 0}}}},N=0,j=D.length;N<j;N++){var G=F(N);if("object"===(void 0===G?"undefined":_e(G)))return G.v}for(var Y=function(e,t){var i=T[e],o=i.treeItem,a=i.backRect;if(ki(a,c)){if(!o.disabled&&k(o)){var r=d.getSelected(),n=[];r.forEach(function(e){var t=e.id,i=e.text;n.push({id:t,text:i}),C||e===o||(e.selected=!1)}),l.selectedInfos=n,o.selected=!o.selected,b.call(u,h,o,o.selected),s.iv()}return{v:void 0}}},z=0,X=T.length;z<X;z++){var U=Y(z);if("object"===(void 0===U?"undefined":_e(U)))return U.v}p&&p(h)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=_a(i,t,this,o),l=sa(i,t,this),h=l.scrollBarInfo,s=l.translateX,u=l.translateY,c=l.isScrollBarDragging,d=l.rectInfo,g=l.preHoverTreeItem,f=l.selectableFunc;if(!c)if(Ci(h,s,u,n))g&&(g.disabled&&va(i,"default"),g._isHovering=!1,t.iv());else if(d){for(var v=d.treeBackRects,p=0,y=v.length;p<y;p++){var b=v[p],x=b.treeItem,m=b.backRect;if(ki(m,n)&&f(x)){g!==x&&(g&&(g._isHovering=!1),l.preHoverTreeItem=x),x.disabled?(va(i,"not-allowed"),g!==x&&t.iv()):x._isHovering||(va(i,"default"),x._isHovering=!0,t.iv());break}}p===y&&g&&(va(i,"default"),g._isHovering=!1,delete l.preHoverTreeItem,t.iv())}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.preHoverTreeItem;l&&(va(i,"default"),l._isHovering=!1,delete n.preHoverTreeItem,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=_a(i,t,this,o),l=sa(i,t,this),h=l.scrollBarInfo,s=l.translateX,u=l.translateY;Ci(h,s,u,n)&&(l.isScrollBarDragging=!0),I.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){T.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);n&&(n.isScrollBarDragging=!1),S.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){L.apply(this,arguments)}}]),_i);function _i(){return h(this,_i),c(this,(_i.__proto__||Object.getPrototypeOf(_i)).call(this))}var Di=new mi,Ii=(i(Ti,rt),t(Ti,[{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){ha(i,t,this);var n=sa(i,t,this),l=n.ui,h=n.option;if(n._moveTimer&&clearTimeout(n._moveTimer),h&&h.tooltip.show&&!n._dragging){var s=l.interactiveInfo,u=l.bounds.bodyRect,c=s.axisInfos,d=_a(i,t,this,o);if(Ba(u,d)&&c.length){for(var g=l.valueAxis===_?d.y:d.x,f=void 0,v=1/0,p=c[0],y=0;y<p.length;y++){var b=Math.abs(p[y].position-g);b<v&&(v=b,f=y)}if(p[f]){var x=[],m=l.seriesColors.slice(0);c.forEach(function(e){var t=e[f];x.push({label:t.label,datas:t.series,colors:m.splice(0,t.series.length)})}),Di.setInfo(x),ua.show(Di.getView(),e)}n.hoverIndex!==f&&(n.hoverIndex=f,t.iv())}else delete n.hoverIndex,t.iv(),ua.hide()}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),ua.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=ha(i,t,this),l=sa(i,t,this),h=l.option,s=l.ui;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ua.hide());var u=s.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};Ba(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ha(i,t,this),l=sa(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=Ha(h,s),t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(n&&n._dragging){var d=n.ui,l=n.option,h=d.rectPoint1,s=d.rectPoint2,u=d.valueAxis,c=l.xAxis,g=l.yAxis,f=Ma(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};c.forEach(function(e){var t=e.type,i=[];if(v.x.push(i),p===t){var o=d.interactiveInfo;o.axisInfos&&o.axisInfos.length&&o.axisInfos[0].forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&i.push(t)})}else if(R===t){var a=e._axisObj.timeRange;if(a){var r=De(a,2),n=r[0],l=r[1],h=l-n,s=d.bounds.bodyRect,u=Math.floor((f.x-s.x)/s.width*h+n),c=Math.floor((f.x-s.x+f.width)/s.width*h+n);u=Math.max(u,n),c=Math.min(c,l),i.push(u),i.push(c)}}}),g.forEach(function(e){var t=[];if(v.y.push(t),X===u){var i=De(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=d.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}}]),Ti);function Ti(){return h(this,Ti),c(this,(Ti.__proto__||Object.getPrototypeOf(Ti)).call(this))}var Si=(i(Li,pt),t(Li,[{key:"onUp",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(!n.disabled){var l=ya(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&function(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Wt(e,t,i,o),i.dropDown=a),a.open()}(t,i,n,"a@"+l)}}}]),Li);function Li(){return h(this,Li),c(this,(Li.__proto__||Object.getPrototypeOf(Li)).call(this))}function Pi(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=o.rect,r=o.index;if(ht.Default.containsPoint(a,t))return r}}var Bi=(i(Mi,rt),t(Mi,[{key:"onEnter",value:function(e,t,i,o,a,r){var n="pointer";sa(i,t,this).disabled&&(n="not-allowed"),va(i,n)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,"default"),n.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.buttonRects,h=(n.values,n.disabled),s=_a(i,t,this,o),u=null;h||(l&&(u=Pi(l,s)),u!==n.hoverIndex&&(n.hoverIndex=u,t.iv()))}},{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.buttonRects,h=n.values,s=n.disabled,u=n.onChange,c=_a(i,t,this,o),d=ya(this,"value"),g=null;if(!s&&d){l&&(g=Pi(l,c));var f=ga(g)?null:h[g],v=t.a(d);f!==v&&(t.a(d,f),u&&u(v,f,t,i))}}}]),Mi);function Mi(){return h(this,Mi),c(this,(Mi.__proto__||Object.getPrototypeOf(Mi)).apply(this,arguments))}var Ri=Math.PI,Ei=Math.pow,Ai=Math.sin,Oi={swing:function(e){return-Math.cos(e*Ri)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-Ei(2,10*(e-=1))*Ai(2*Ri*(e-.075)/.3)},elasticOut:function(e){return 0===e||1===e?e:Ei(2,-10*e)*Ai(2*Ri*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Ei(2,10*(e-=1))*Ai(2*Ri*(e-.1125)/.45)*-.5:Ei(2,-10*(e-=1))*Ai(2*Ri*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},Hi=(i(Wi,rt),t(Wi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=_a(i,t,this,o),h=n.itemInfos,s=n.index,u=n.animation,c=n.onClickItem,d=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(Ba(v.rect,l)){g=v.index;break}}if(Ta(g)&&s!==g){var p=ya(this,"index");if(p)if(u){n._animationObj&&n._animationObj.stop();var y=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Oi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+y*e)}})}else t.a(p,g)}Ta(g)&&c&&c(d[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=_a(i,t,this,o),h=n.itemInfos,s=!1;if(h&&h.length)for(var u=0;u<h.length;u++){var c=h[u];if(Ba(c.rect,l)){s=!0;break}}va(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var c=s.length,d=ya(this,"index"),g=h+u;0<=g&&g<c&&t.a(d,g)}}}]),Wi);function Wi(){return h(this,Wi),c(this,(Wi.__proto__||Object.getPrototypeOf(Wi)).apply(this,arguments))}var Fi=(i(Ni,rt),t(Ni,[{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=_a(i,t,this,o),h=n.itemInfos,s=n.index,u=n.animation,c=n.onClickItem,d=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(Ba(v.rect,l)){g=v.index;break}}if(Ta(g)&&s!==g){var p=ya(this,"index");if(p)if(u){n._animationObj&&n._animationObj.stop();var y=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Oi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+y*e)}})}else t.a(p,g)}Ta(g)&&c&&c(d[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=_a(i,t,this,o),h=n.itemInfos,s=!1;if(h&&h.length)for(var u=0;u<h.length;u++){var c=h[u];if(Ba(c.rect,l)){s=!0;break}}va(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var c=s.length,d=ya(this,"index"),g=h+u;0<=g&&g<c&&t.a(d,g)}}}]),Ni);function Ni(){return h(this,Ni),c(this,(Ni.__proto__||Object.getPrototypeOf(Ni)).apply(this,arguments))}var ji=new mi,Gi=(i(Yi,rt),t(Yi,[{key:"onMove",value:function(e,t,i,o,a,r){ha(i,t,this);var n=sa(i,t,this),l=n.ui,h=n.option;if(l&&h.tooltip.show){if(n._dragging)return delete n.hoverTime,delete n.hoverPositionX,t.iv(),void ua.hide();n._moveTimer&&clearTimeout(n._moveTimer);var s,u=_a(i,t,this,o),c=l.xAxisRange&&2<=l.xAxisRange.length?l.xAxisRange:h.xAxis[0]._axisObj.timeRange;if(c&&h.series){var d=l.seriesDatas,g=l.bounds.bodyRect,f=g.x,v=(g.y,c[0]),p=c[1],y={},b=[];if(s=h.series.map(function(e){return e.name}),Ba(g,u)){for(var x in d.forEach(function(e,i){e&&e.forEach(function(e){var t=y[e[0]];(t=t||(y[e[0]]={time:e[0],series:[]})).series.push([s[i],e[1]])})}),y)b.push(y[x]);if(b.sort(function(e,t){return e.time>t.time?1:-1}),b.length){var m=Math.floor((u.x-f)/g.width*(p-v)+v),w=function(e,t){var i=t.length;if(1===i)return t[0];for(var o=void 0,a=void 0,r=void 0;1!==i;){var n=Math.floor(i/2),l=t[n],h=l.time;if(e===h)return l;if(r=Math.abs(e-h),Ta(o)&&a<r){for(var s=1/0,u=void 0,c=0;c<t.length;c++){var d=t[c],g=Math.abs(e-d.time);g<s&&(u=d,s=g)}return s<a&&u?u:o}i=(t=h<e?t.slice(Math.min(i-1,n+1)):t.slice(0,n)).length,o=l,a=r}var f=t[0];return a<(r=Math.abs(f.time-e))?o:f}(m,b);if(w){var C=(0,h.xAxis[0]._axisObj.formatter)(w.time),k=l.seriesColors.slice(0),V=[{label:C,datas:w.series,colors:k.splice(0,w.series.length)}];ji.setInfo(V),m=w.time,n.hoverTime!==m&&(n.hoverTime=m,t.iv()),ua.show(ji.getView(),e)}}}else delete n.hoverTime,t.iv(),ua.hide()}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);void 0!==n.hoverTime&&(delete n.hoverTime,t.iv(),ua.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=ha(i,t,this),l=sa(i,t,this),h=l.option,s=l.ui;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ua.hide());var u=s.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};Ba(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ha(i,t,this),l=sa(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=Ha(h,s),l._drawTimer&&clearTimeout(l._drawTimer),l._drawTimer=setTimeout(function(){t.iv(),delete l._drawTimer},2)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=sa(i,t,this);if(n&&n._dragging){var u=n.ui,l=n.option,h=u.rectPoint1,s=u.rectPoint2,c=u.valueAxis,d=l.xAxis,g=l.yAxis,f=Ma(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};d.forEach(function(e){var t=[];v.x.push(t);var i=e._axisObj.timeRange;if(i){var o=De(i,2),a=o[0],r=o[1],n=r-a,l=u.bounds.bodyRect,h=Math.floor((f.x-l.x)/l.width*n+a),s=Math.floor((f.x-l.x+f.width)/l.width*n+a);h=Math.max(h,a),s=Math.min(s,r),t.push(h),t.push(s)}}),g.forEach(function(e){var t=[];if(v.y.push(t),X===c){var i=De(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=u.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}}]),Yi);function Yi(){return h(this,Yi),c(this,(Yi.__proto__||Object.getPrototypeOf(Yi)).call(this))}var zi=(i(Xi,rt),t(Xi,[{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=n.hoverIndex;if(n.tipShow){var h,s=void 0,u=t._div;if(!u){var c=(u=t._div=document.createElement("div")).style;c.boxSizing="border-box",c.position="absolute",c.background="rgba(0,0,0,0.3)",c.margin=0,c.padding="8px",c.borderRadius="5px",c.color="#fff",c.pointerEvents="none"}if(h=n.tipInfoList){for(var d=0;d<h.length;d++)if(Ba(h[d],o)){var g=ht.Default.getClientPoint(e),f=g.x+10,v=g.y-40;u.style.left=f+"px",u.style.top=v+"px",s=d;break}if(l!==s&&(n.hoverIndex=s,t.iv()),void 0===s)u.parentNode&&u.parentNode.removeChild(u);else if(u.parentNode||document.body.appendChild(u),s!==l){var p=n.tipInfoList[s];t._div.innerHTML=p.text?p.name+":"+p.text:p.name}}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ht.vector.getVectorInfo(i,t,this);if(n.tipShow){void 0!==n.hoverIndex&&(n.hoverIndex=void 0,t.iv());var l=t._div;l.parentNode&&l.parentNode.removeChild(l)}}}]),Xi);function Xi(){return h(this,Xi),c(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this))}function Ui(e,t){for(var i=0;i<e.length;i++)if(Ba(e[i].rect,t))return e[i]}var Ki=[xe,me,ke,Ve,we,Ce],Zi=(i($i,rt),t($i,[{key:"onMove",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=_a(i,t,this,o);if(n.itemList){var h=Ui(n.itemList,l);va(i,h?h.isDisabled?"not-allowed":"pointer":"default");var s=h?h.label:void 0;n.hoverLabel!==s&&(n.hoverLabel=s,t.iv())}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=sa(i,t,this),l=_a(i,t,this,o);if(n.itemList){var h=Ui(n.itemList,l),s=h?h.label:void 0,u=ya(this,"current"),c=n.onChange,d=n.totalPage,g=t.a(u),f=s;!h||h&&h.isDisabled||(0<=Ki.indexOf(f)&&(f=f===xe?g-1:f===me?g+1:f===ke?1:f===we?Math.max(1,g-5):f===Ce?Math.min(d,g+5):n.itemList.length),g!==f&&(t.a(u,f),c&&c(g,f,t,i)))}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);va(i,"default"),n.hoverLabel&&(delete n.hoverLabel,t.iv())}}]),$i);function $i(){return h(this,$i),c(this,($i.__proto__||Object.getPrototypeOf($i)).call(this))}var qi=(i(Ji,rt),t(Ji,[{key:"onBeginDrag",value:function(e,t,i,o,a,r){I.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){T.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){S.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){L.apply(this,arguments)}}]),Ji);function Ji(){return h(this,Ji),c(this,(Ji.__proto__||Object.getPrototypeOf(Ji)).call(this))}var Qi=ht.Default.setImage;Qi("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),Qi("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),Qi("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",closePath:!0,points:[0,0,10,5,0,10]}]}),Qi("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",closePath:!0,points:[0,0,10,0,5,10]}]}),Qi("ht.vector.treeDefIcon",{width:22,height:16,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),Qi("ht.vector.treeLoadIcon",{width:32,height:32,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),Qi("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),Qi("ht.vector.treeUnCheckIcon",{width:160,height:160,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),Qi("ht.vector.treeUnCheckAllIcon",{width:160,height:160,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]}),Qi("ht.vector.pagination.previous",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",points:[28,17,18,25,28,33]}]}),Qi("ht.vector.pagination.next",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[32,17,22,25,32,33]}]}),Qi("ht.vector.pagination.first",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[35,17,25,25,35,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[29,17,19,25,29,33]}]}),Qi("ht.vector.pagination.last",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[29,17,19,25,29,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[35,17,25,25,35,33]}]}),Qi("ht.vector.pagination.ellipsis",{modified:"Mon Aug 26 2019 15:46:29 GMT+0800 (中国标准时间)",background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.18756,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[23,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[33.81244,23,4,4]}]});var eo=(t(to,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:(this._container.innerHTML="",this._container.appendChild(e)),document.body.appendChild(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),i=ht.Default.getWindowInfo(),o=this._container.style,a=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;o.pointerEvents="none",a=Math.max(0,a),r=Math.max(0,r),a+t.width>i.width&&(a=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=a+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){this._container.parentNode===document.body&&document.body.removeChild(this._container)}}]),to);function to(){h(this,to),(this._container=document.createElement("div")).className="ht-vector-tooltip"}function io(o,e,t,i,a){var r=a.seriesDatas[t],n=e.name,l=e.itemStyle||{},h=e.lineStyle||{},s=e.areaStyle||{},u=a.bounds,c=(u.xAxisRects,u.yAxisRects,u.bodyRect),d=(c.x,c.y),g=(c.width,c.height),f=pa(i.color,t),v=i.xAxis[e.xAxisIndex||0],p=i.yAxis[e.yAxisIndex||0],y=(v._axisObj.unitWidth,p._axisObj.valueRange),b=a.hoverIndex,x=y[0],m=y[1]-x,w=v._axisObj.axisInfos,C=e.smooth,k=void 0,V=void 0;if(r&&r.length&&w){var _=[],D=a.interactiveInfo.axisInfos[a.valueAxis===X?e.xAxisIndex||0:e.yAxisIndex||0];if(r.forEach(function(e,t){if(w[t]){var i={x:w[t].position,y:d+(1-e/m)*g};_.push(i),D[t].series.push([n,e,i.x,i.y])}}),V=_.slice(0),C&&2<=_.length){var I=Wa(_,"number"==typeof C?C:void 0);_=I.points,k=I.segments}if(o.save(),s.color){var T=_[0],S=_[_.length-1];Sa(o,_,k),o.lineTo(S.x,d+g),o.lineTo(T.x,d+g),o.closePath(),o.fillStyle=Ga(o,s.color,c),o.fill()}var L=h.color||f;o.lineWidth=h.width||2,o.strokeStyle=Ga(o,L),a.seriesColors.push(L),h.pattern&&o.setLineDash(h.pattern),Sa(o,_,k),o.stroke(),o.restore();var P=l.size||0,B=l.activeSize||3;P||1!==_.length||(P=1);var M=l.background,R=void 0===M?L:M,E=l.borderWidth,A=void 0===E?1:E,O=l.borderColor,H=void 0===O?L:O;if(P&&(o.beginPath(),V.forEach(function(e,t){var i=b===t?B:P;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),A&&H&&(o.lineWidth=A,o.strokeStyle=H,o.stroke()),R&&(o.fillStyle=R,o.fill())),void 0!==b&&B){var W=l.activeBackground,F=void 0===W?R:W,N=l.activeBorderColor,j=void 0===N?H:N,G=l.activeBorderWidth,Y=void 0===G?A:G;a._hoverHandlers||(a._hoverHandlers=[]);var z=V[b];if(!z)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(z.x,z.y),o.arc(z.x,z.y,B,0,2*Math.PI),F&&(o.fillStyle=F,o.fill()),Y&&j&&(o.lineWidth=Y,o.strokeStyle=j,o.stroke())})}}}function oo(n,e,t,i,o){var l=o.seriesDatas[t],a=e.name,r=(e.itemStyle,o.bounds),h=(r.xAxisRects,r.yAxisRects,r.bodyRect),s=(h.x,h.y),u=(h.width,h.height),c=e.color||pa(i.color,t),d=i.xAxis[e.xAxisIndex||0],g=i.yAxis[e.yAxisIndex||0],f=d._axisObj.unitWidth,v=g._axisObj.valueRange,p=(o.hoverIndex,v[0]),y=v[1]-p,b=d._axisObj.axisInfos,x=e.shadow,m=e.barWidth||.8,w=o.barSeries,C=w.length,k=w.indexOf(e),V=o.barCategoryGap||0,_=(f-2*(1<=V?V:f*V))/C,D=e.drawBar;if(m<1&&(m*=_),l&&l.length&&b){var I=[],T=o.interactiveInfo.axisInfos[o.valueAxis===X?e.xAxisIndex||0:e.yAxisIndex||0];l.forEach(function(e,t){if(b[t]){var i={x:b[t].position,y:s+(1-e/y)*u};T[t].series.push([a,e,i.x,i.y]),I.push({x:i.x-f/2+_*k+(_-m)/2+V,y:i.y,width:m,height:(e-p)/y*u})}}),o.seriesColors.push(pa(i.color,t)),n.save(),I.forEach(function(a,e){var r=void 0;r=Ga(n,"function"==typeof c?c(l[e],e,pa(i.color,e)):c,a);function t(){if(n.fillStyle=r,x){var e=x.color||ht.Default.darker(r),t=x.opacity;if(Ta(t)){var i=Na(e),o=i.splice(3,1)[0]||255;e="rgba("+i.join(",")+","+o/255*t+")"}n.shadowColor=e,n.shadowBlur=x.blur||0,n.shadowOffsetX=x.offsetX||0,n.shadowOffsetY=x.offsetY||0}n.fillRect(a.x,a.y,a.width,a.height)}D?D(n,l[e],a,{defaultDraw:t,color:r,data:o.data,view:o.view}):t()}),n.restore()}}function ao(e,t){var i=e.xAxis.map(function(e){return e._axisObj.boundHeight}),a=e.yAxis.map(function(e){return e._axisObj.boundWidth}),o=2;e.yAxis.forEach(function(e){o=Math.max(o,2+e._axisObj.labelHeight)}),t.contentRect.y+=o,t.contentRect.height-=o;var r=t.contentRect,n=0;t.valueAxis===X&&e.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=zo(e.axisLabel.font,e.data[0]);a[0]=Math.max(t.width/2,a[0]),t=zo(e.axisLabel.font,e.data[e.data.length-1]),n=Math.max(t.width/2,n)}else if(e.axisLabel.show&&e.type===R){var i=e._axisObj.formatter,o=zo(e.axisLabel.font,i?i(Date.now()):"e");a[0]=Math.max(o.width/2,a[0]),n=Math.max(o.width/2,n)}});var l,h=r.x,s=r.y,u=r.width,c=r.height,d=[],g=[],f=h,v=s,p=u,y=c,b=0,x=0;a.forEach(function(e,t){p-=e,t&&(b+=e)}),i.forEach(function(e){y-=e,x+=e}),b<n&&(p=p-n+b),p=Math.max(0,p),y=Math.max(0,y),f=h,v=s+(1<i.length?x-i[0]:0),a.forEach(function(e,t){t?d.push({x:f,y:v,width:e,height:y}):(d.push({x:f,y:v,width:e,height:y}),f+=e+p)}),f=h+(0<a.length?a[0]:0),v=s,i.forEach(function(e,t){t?(g.push({x:f,y:v,width:p,height:e}),v+=e):g.push({x:f,y:v+c-e,width:p,height:e})}),l={x:h+a[0]||0,y:s+(1<i.length?x-i[0]:0),width:Math.max(0,p),height:Math.max(0,y)},t.bounds={xAxisRects:g,yAxisRects:d,bodyRect:l}}function ro(o,a,e){return(o=so(o)?o.slice(0):[o]).forEach(function(e,t){var i=uo(a);fa(i,e),o[t]=i}),o}var no={show:!0,type:"value",splitNumber:5,axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},lo={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},ho=ht.Default,so=ho.isArray,uo=ho.clone;window.caluValueInterval=function(e,t){var i=void 0;if(!e)return 1;var o=1,a=e/o;if(e/t%1==0&&(i=e/t),10<e){for(;100<=parseInt(a);)a=e/(o*=10);i=(a=Math.ceil(a)*o)/t}return i};var co=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],go=(t(fo,[{key:"initTimeAxis",value:function(){var o=this,e=this.series,t=this.ui.xAxisRange;if(t&&2<=t.length)this.timeRange=t;else{var a=[];if(e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))}),!a.length)return;var i=[];a.forEach(function(e){Ia(e)&&i.push(e[0])}),i.sort(function(e,t){return t<e?1:-1}),this.timeRange=[i[0],i[i.length-1]]}var r=this.axisOption.axisLabel.formatter;if(!r){var n=this.adjustTimeFormatString(this.timeRange);r=function(e){return Oa(new Date(e),n)}}this.formatter=r}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var o=this,e=this.series,a=this.seriesIndexs,r=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[a[t]];i&&(r=r.concat(i))});var t=[];return r.forEach(function(e){Ia(e)?t.push(e[1]):t.push(parseFloat(e))}),t}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues();this.valueRange||this.caluValueRange(t);var i=De(this.valueRange,2),o=i[0],a=i[1],r=o.toString().length>a.toString().length?o:a,n=e.axisLabel.formatter;return n&&(r=n(r)),Aa(e.axisLabel.font,r,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t=this.axisOption,i=t.max,o=t.min,a=void 0,r=t.splitNumber||5,n=Math.max.apply(this,e),l=Math.min.apply(this,e);n<0&&(n=0);var h=n,s=l,u=l<0?n-l:n;if(Ta(o)&&Ta(i))a=(i-o)/r;else if(Ta(i)&&i/r%1==0){var c=Ta(o)?o:s;ga(o)&&0<s&&(c=0),a=(i-(Ta(c)?c:s))/r}else if(1<n||n<=0){for(var d=1,g=u/d;100<=parseInt(g);)g=u/(d*=10);for(g=Math.ceil(g)*d;g%r!=0||g/r%d!=0;)g+=d;a=(n=g)/r}else a=n/r;if(a=a||1,ga(o))if(0<=l)o=0;else{for(var f=0;l<f;)f-=a;l=f}if(ga(i))for(i=n+(l<0?l:0);i<h;)i+=a;ga(o)&&(o=l),o||i||(a=i=1),this.valueRange=[o,i,a]}},{key:"caluValueRange2",value:function(e){var t,i,o=this.axisOption,a=o.max,r=o.min;o.splitNumber,i=Math.min(this,e),t=Math.max(this,e),ga(r)&&ga(a)?t<0?a=0:0<i&&(r=0):ga(r)&&Ta(a)||Ta(r)&&ga(a),this.valueRange=[r,a,void 0]}},{key:"adjustTimeFormatString",value:function(e){e.sort(function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}}]),fo);function fo(e,t,i){h(this,fo),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=Ca(e.data,i.data,i.view)}var vo=(i(po,go),t(po,[{key:"getTimeAxisTimes",value:function(){var o=this,e=this.series,a=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))});var t=[];return a.forEach(function(e){Ia(e)?t.push(e[0]):t.push(parseFloat(e))}),t.sort(function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0;if(this.isValueAxis)return 2;var o=e.data,a=G;return o&&(e.type===R?(this.getTimeAxisTimes(),a=this.formatter(Date.now())):e.type===p&&o.forEach(function(e){e.toString().length>a.length&&(a=e)})),t?(t=Math.max(-45,t),t=Math.min(45,t),Aa(e.axisLabel.font,a,t).height+4+i):zo(e.axisLabel.font,G).height+4+i}},{key:"draw",value:function(a){var o=this,e=this.ui,t=this.axisOption,i=t.type===R,r=this.axisIndex,n=e.bounds.xAxisRects[r],l=e.boundaryGap,h=n.x,s=n.y,u=n.width,c=n.height,d=this.data||[],g=this.formatter||t.axisLabel.formatter,f=(t.axisLabel.interval,this.timeRange),v=void 0;if(!1!==t.show&&t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),r?(a.moveTo(h,s+c),a.lineTo(h+u,s+c)):(a.moveTo(h,s),a.lineTo(h+u,s)),a.stroke()),t.type===R){if(d=[],this.series.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&i.length>d.length&&(d=i.map(function(e){return e[0]}))}),!(f&&f[0]&&f[1]))return;v=f[1]-f[0]}var p=0,y=0,b=1,x=void 0;if(1<d.length?y=p=l?(b=1,u/(d.length-1+b)):(b=1,u/(d.length-1)):p=u/2,d&&d.length&&(this.unitWidth=p,x=1===d.length?this.axisInfos=[{position:h+p,label:g?g(d[0]):d[0]}]:this.axisInfos=d.map(function(e,t){return{position:(i?h+(e-f[0])/v*u:h+t*p)+l*p/2,label:g?g(e):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show))){var m=t.axisLabel.font,w=t.axisLabel.color,C=t.axisLabel.align,k=t.axisTick.length,V=r?s:s+2+(t.axisTick.show?t.axisTick.length:0),_=0,D=[];if(d.forEach(function(e){g&&(e=g(e));var t=zo(m,e);D.push(t),_+=t.width}),_>n.width&&!r&&(b=Math.ceil(_/n.width)),t.axisTick.show&&k){var I=Ta(t.axisTick.interval)?t.axisTick.interval:b;0===I&&(I=1),a.strokeStyle=t.axisTick.color,a.beginPath(),d.forEach(function(e,t){if(t%I==0){var i=h+t*y;r?(a.moveTo(i,s+c),a.lineTo(i,s+c-k)):(a.moveTo(i,s),a.lineTo(i,s+k))}}),a.stroke()}if(t.axisLabel.show){var T=Ta(t.axisLabel.interval)?t.axisLabel.interval:b;0===T&&(T=1),d.forEach(function(e,t){if(t%T==0){var i=D[t],o=x[t].position;ga(e)&&(e=""),g&&(e=g(e)),l?ht.Default.drawText(a,e.toString(),m,w,o-p/2,V,p,i.height,"center"):ht.Default.drawText(a,e.toString(),m,w,o-i.width/2,V,i.width,i.height,C)}})}if(a.save(),t.splitLine.show){var S=Ta(t.splitLine.interval)?t.splitLine.interval:b;0===S&&(S=1);var L=e.bounds.bodyRect,P=L.x,B=L.y,M=(L.width,L.height);a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),d.forEach(function(e,t){if(t&&t%S==0){var i=P+t*y;a.moveTo(i,B),a.lineTo(i,B+M)}}),a.stroke()}a.restore()}}}]),po);function po(e,t,i){h(this,po);var o=c(this,(po.__proto__||Object.getPrototypeOf(po)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),o.isValueAxis=i.valueAxis===_,t.series.forEach(function(e){(e.xAxisIndex||0)===o.axisIndex&&o.series.push(e)}),o.boundHeight=o.getBoundHeight(),e.type===R&&o.initTimeAxis(),o}var yo=(i(bo,go),t(bo,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption,t=this.getMaxValueBound(),i=e.axisTick.show?e.axisTick.length:0;return this.isValueAxis?t.width+i+4:50}},{key:"draw",value:function(o){var e=this.ui,t=this.axisOption,i=this.axisIndex,a=e.bounds.yAxisRects[i],r=a.x,n=a.y,l=a.width,h=a.height;if(!1!==t.show&&(t.axisLine.show&&(o.strokeStyle=t.axisLine.color,o.lineWidth=t.axisLine.width,o.beginPath(),i?(o.moveTo(r,n),o.lineTo(r,n+h)):(o.moveTo(r+l,n),o.lineTo(r+l,n+h)),o.stroke()),t.axisLabel.show)){for(var s=this.valueRange,u=De(s,3),c=u[0],d=u[1],g=u[2],f=d-c,v=[],p=c;p<=d&&c<=p;)v.push(p),p+=g;if(d!==v[v.length-1]&&v.push(d),0<c&&d<=0){for(p=0-g;c<=p;)v.unshift(p),p-=g;c!==v[0]&&v.unshift(c)}console.log(c,d,g);var y=void 0;t.axisTick.show&&(y=t.axisTick.length)&&(o.strokeStyle=t.axisTick.color,o.beginPath(),v.forEach(function(e){var t=n+h*(1-(e-c)/f);i?(o.moveTo(r,t),o.lineTo(r+y,t)):(o.moveTo(r+l,t),o.lineTo(r+l-y,t))}),o.stroke());var b=l-2-(t.axisTick.show?y:0),x=t.axisLabel.font,m=t.axisLabel.color,w="auto"===t.axisLabel.align?i?be:ye:t.axisLabel.align,C=t.axisLabel.formatter,k=zo(x,G),V=r+(i?y:0);if(v.forEach(function(e){var t=n+h*(1-(e-c)/f)-k.height/2;"function"==typeof C&&(e=C(e)),ht.Default.drawText(o,e.toString(),x,m,V,t,b,k.height,w)}),o.save(),t.splitLine.show){var _=e.bounds.bodyRect,D=_.x,I=_.y,T=_.width,S=_.height;o.strokeStyle=t.splitLine.color,o.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&o.setLineDash(t.splitLine.pattern),o.beginPath(),v.forEach(function(e,t){if(0!==t){var i=I+S*(1-(e-c)/f);o.moveTo(D,i),o.lineTo(D+T,i)}}),o.stroke()}o.restore()}}}]),bo);function bo(e,t,i){h(this,bo);var o=c(this,(bo.__proto__||Object.getPrototypeOf(bo)).call(this,e,t,i));return o.axisIndex=t.yAxis.indexOf(e),o.isValueAxis=i.valueAxis===X,t.series.forEach(function(e,t){(e.yAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getLabelHeight(),o.boundWidth=o.getBoundWidth(),e.type===R&&o.initTimeAxis(),o}var xo=ht.Default,mo=xo.clone,wo=xo.unionPoint,Co={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},ko=(i(Vo,vo),t(Vo,[{key:"draw",value:function(e){var t=this.ui,i=this.axisOption,o=this.axisIndex,a=t.bounds.xAxisRects[o],r=a.x,n=a.y,l=a.width,h=a.height,s=(i.data,this.getTimeAxisTimes()),u=this.formatter||i.axisLabel.formatter,c=this.timeRange,d=void 0;if(i.axisLine.show&&(e.strokeStyle=i.axisLine.color,e.lineWidth=i.axisLine.width,e.beginPath(),o?(e.moveTo(r,n+h),e.lineTo(r+l,n+h)):(e.moveTo(r,n),e.lineTo(r+l,n)),e.stroke()),s&&s.length){var g=zo(u(Date.now()),i.axisLabel.font);if(i.type===R){if(!(c&&c[0]&&c[1]))return;d=c[1]-c[0]}var f=0,v=0;if(d){var p=Math.max(Math.floor((l+2)/g.width)-2,1);f=l/p,v=d/p}else f=l/2;if(f&&(this.unitWidth=f,i.axisLabel.show||i.axisTick.show)){var y=i.axisLabel.font,b=i.axisLabel.color,x=i.axisLabel.align,m=i.axisTick.length,w=o?n:n+2+(i.axisTick.show?i.axisTick.length:0);if(i.axisTick.show&&m){e.strokeStyle=i.axisTick.color,e.beginPath();var C=r;if(d)for(;C<=r+l+2;)e.moveTo(C,n),e.lineTo(C,n+m),C+=f;else e.moveTo(C+l/2,n),e.lineTo(C+l/2,n+m);e.stroke()}if(i.axisLabel.show){var k=r,V=c[0];if(d)for(;k<=r+l+2;)ht.Default.drawText(e,u(V),y,b,k-g.width/2,w,g.width,g.height,x),k+=f,V+=v;else ht.Default.drawText(e,u(V),y,b,k+l/2-g.width/2,w,g.width,g.height,x)}}}}}]),Vo);function Vo(e,t,i){return h(this,Vo),c(this,(Vo.__proto__||Object.getPrototypeOf(Vo)).call(this,e,t,i))}function _o(o,e,t,i,a){var r=a.seriesDatas[t],n=i.xAxis[e.xAxisIndex||0],l=n._axisObj.timeRange;if(r&&r.length){var h=function(e,t,i,o){var a=e.slice(0);if(o){for(var r=o[0],n=o[1],l=void 0,h=void 0,s=0;s<a.length;s++)if(a[s][0]>=r){l=s;break}for(var u=a.length-1;0<=u;u--)if(a[u][0]<=n){h=u+1;break}a=a.slice(l,h)}if(!t)return a;var c=[],d=a.length;if(i){if(d<=i)return a;Array.prototype.push.apply(c,a.splice(d-i,i))}var g=[];if(!(t<(d=a.length)))return i&&a.push.apply(a,c),a;var f=2*(d/t|0);if(f<3)return i&&a.push.apply(a,c),a;for(var v=0;v<d;v+=f){for(var p=a.slice(v,Math.min(v+10,d)),y=p.length,b=p[0],x=p[0],m=1;m<y;m++){var w=p[m];w[1]<x[1]&&(x=w),w[1]>b[1]&&(b=w)}b[0]>x[1]?(g.push(x),g.push(b)):(g.push(b),g.push(x))}return c=g.concat(c)}(r,a.maxVisiblePoint,a.endProtectPoint,l),s=(e.name,e.itemStyle||{}),u=e.lineStyle||{},c=e.areaStyle||{},d=a.bounds.bodyRect,g=d.x,f=d.y,v=d.width,p=d.height,y=pa(i.color,t),b=i.yAxis[e.yAxisIndex||0],x=(n._axisObj.unitWidth,b._axisObj.valueRange),m=x[0],w=x[1]-m,C=l[0],k=l[1]-C,V=e.smooth,_=[],D=void 0,I=void 0;if(h.forEach(function(e){var t=e[0],i=e[1],o={x:g+v*((t-C)/k),y:f+p*(1-Math.abs(i-m)/w)};_.push(o)}),I=_.slice(0),V&&2<=_.length){var T=Wa(_,"number"==typeof V?V:void 0);_=T.points,D=T.segments}if(o.save(),c.color&&1<_.length){var S=_[0],L=_[_.length-1];Sa(o,_,D),o.lineTo(L.x,f+p),o.lineTo(S.x,f+p),o.closePath(),o.fillStyle=Ga(o,c.color,d),o.fill()}var P=u.color||y;o.lineWidth=u.width||2,o.strokeStyle=Ga(o,P),a.seriesColors.push(P),u.pattern&&o.setLineDash(u.pattern),Sa(o,_,D),o.stroke(),o.restore();var B=s.size||0,M=s.activeSize||3;B||1!==_.length||(B=1);var R=s.background,E=void 0===R?P:R,A=s.borderWidth,O=void 0===A?1:A,H=s.borderColor,W=void 0===H?P:H;if(B&&(o.beginPath(),I.forEach(function(e,t){var i=B;i&&(o.moveTo(e.x+i,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),o.closePath(),E&&(o.fillStyle=E,o.fill()),O&&W&&(o.lineWidth=O,o.strokeStyle=W,o.stroke())),a.hoverTime&&M){var F=s.activeBackground,N=void 0===F?E:F,j=s.activeBorderColor,G=void 0===j?W:j,Y=s.activeBorderWidth,z=void 0===Y?O:Y;a._hoverHandlers||(a._hoverHandlers=[]);for(var X=void 0,U=0;U<h.length;U++)if(h[U][0]===a.hoverTime){X=I[U];break}if(!X)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(X.x,X.y),o.arc(X.x,X.y,M,0,2*Math.PI),N&&(o.fillStyle=N,o.fill()),z&&G&&(o.lineWidth=z,o.strokeStyle=G,o.stroke())})}}}function Do(e,t){for(var i=ht.Math.Vector2,o=Math.cos,a=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,h=e.innerRadius,s=h+l,u=n-r,c={x:s*o(r),y:s*a(r)},d={x:s*o(n),y:s*a(n)},g={x:h*o(r),y:h*a(r)},f={x:h*o(n),y:h*a(n)},v=t,p=v+Math.PI/2,y=p+Math.PI/2,b=y+Math.PI/2,x=[{x:s*o(v),y:s*a(v)},{x:s*o(p),y:s*a(p)},{x:s*o(y),y:s*a(y)},{x:s*o(b),y:s*a(b)}],m=[c,d,g,f],w=0;w<4;w++){var C=x[w],k=new i(c),V=new i(C),_=k.clone().normalize().dot(V.normalize()),D=Math.acos(_);0<k.x*V.y-V.x*k.y?D<u&&m.push(C):2*Math.PI-D<u&&m.push(C)}for(var I=-1/0,T=1/0,S=0,L=m.length;S<L;S++){var P=m[S].y;I=Math.max(I,P),T=Math.min(T,P)}return{minY:T,maxY:I}}function Io(e,t){var i=t.isEmphasis,o=t.type,a=t.outFormatter,r=e.name,n=e.value,l=e.percent,h=e.seriesName,s=e.labelEmphasis,u=e.labelNormal,c=e.labelLineNormal,d=e.labelLineEmphasis,g=void 0,f=void 0;"label"===o?f=i?(g=s.font,s.formatter):(g=u.font,u.formatter):"labelLine"===o&&(f=i?(g=d.font,d.formatter):(g=c.font,c.formatter)),a&&(f=a);var v=r.toString();f&&(v=(f=f.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?h:"b"===t?r:"c"===t?n:"d"===t?(100*l).toFixed(1)+"%":e}));var p=v.split("<br>"),y=void 0,b=void 0;return g&&(b=(y=zo(g,"e").height+1)*p.length/2),{labelTextArray:p,textHeight:y,beginHeight:b}}var To=ht.Default.isBoolean,So=(t(Lo,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),o=e.getValue("label.normal.formatter"),a=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!To(t)||t,position:i||"center",formatter:o||"",color:a,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),h=e.getValue("label.emphasis.formatter"),s=e.getValue("label.emphasis.color"),u=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!To(n)||n,position:l||"center",formatter:h||"",color:s,font:u||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),o=e.getValue("labelLine.normal.length2"),a=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),h=e.getValue("labelLine.normal.lineColor"),s=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!To(t)||t,length:void 0===i?15:i,length2:void 0===o?10:o,formatter:a||"",width:void 0===r?1:r,type:n||"dashed",font:l||"12px serif",lineColor:h,textColor:s};var u=e.getValue("labelLine.emphasis.show"),c=e.getValue("labelLine.emphasis.length"),d=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),y=e.getValue("labelLine.emphasis.lineColor"),b=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!To(u)||u,length:void 0===c?15:c,length2:void 0===d?10:d,formatter:g||"",width:void 0===f?2:f,type:v||"dashed",font:p||"13px serif",lineColor:y,textColor:b}}}]),Lo);function Lo(e){h(this,Lo),this.initGLabel(e),this.initGLabelLine(e)}var Po=ht.Default.isEmptyObject,Bo=(t(Mo,[{key:"initDefaultValue",value:function(e){var t=this.data,i=this.index,o=this.color,a=t.name,r=void 0===a?"系列名":a,n=t.value,l=void 0===n?0:n,h=t.itemStyle,s=void 0===h?{}:h,u=t.labelLine,c=void 0===u?{}:u,d=t.label,g=void 0===d?{}:d,f=e.gLabelNormal,v=e.gLabelEmphasis,p=e.gLabelLineNormal,y=e.gLabelLineEmphasis,b=o[i%o.length];if(this.name=r,this.value=l,this.itemStyle=Object.assign({color:b,borderColor:"#000"},s),this.labelNormal=Object.assign({},f,g.normal||{}),this.labelEmphasis=Object.assign({},v,g.emphasis||{}),this.labelLineNormal=Object.assign({},p,c.normal||{}),this.labelLineEmphasis=Object.assign({},y,c.emphasis||{}),Po(this.labelNormal.color)){var x=this.labelNormal.position;this.labelNormal.color="center"===x?b:"black"}if(Po(this.labelEmphasis.color)){var m=this.labelEmphasis.position;this.labelEmphasis.color="center"===m?b:"black"}Po(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=b),Po(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=b),Po(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=b),Po(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=b),this.pieColor=b}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,o=this.roseRadius,a=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?o+a:r)*Math.cos(n),h=t+(i?o+a:r)*Math.sin(n);return{textX:(l+(e+a*Math.cos(n)))/2,textY:(h+(t+a*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return Io(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t=this.labelLineNormal,i=this.labelLineEmphasis,o=this.centerX,a=this.centerY,r=this.roseType,n=this.roseRadius,l=this.innerRadius,h=this.outerRadius,s=this.lineAngle,u=this.hoverOffset,c=t.length,d=i.length,g=e?l+n+u:l+n,f=e?h+u:h,v=o+(r?g:f)*Math.cos(s),p=a+(r?g:f)*Math.sin(s),y=void 0,b=void 0;if(e){var x=h+u+d;y=o+x*Math.cos(s),b=a+x*Math.sin(s)}else{var m=h+c;y=o+m*Math.cos(s),b=a+m*Math.sin(s)}return{x0:v,y0:p,x1:y,y1:b}}},{key:"getLabelLineLabelInfo",value:function(e){return Io(this,{isEmphasis:e,type:"labelLine"})}}]),Mo);function Mo(e,t){h(this,Mo),Object.assign(this,e),this.initDefaultValue(t)}function Ro(e,t,i,o,a){var r=sa(i,t,a);if(r){var n=r.arcPoints,l=r.arcAngles,h=r.center,s=r.radius,u=r.foucusArcNum,c=r.hoverOffset,d=r.tooltip,g=void 0===d?{}:d,f=r.pieItems,v=_a(i,t,a,o);if(n){var p=ht.Math.Vector2,y=2*Math.PI,b=new p(h),x=s.outerRadius,m=s.innerRadius,w=ht.Default.getDistance(v,h);if(m<w&&w<(void 0!==u?x+c:x))for(var C=0,k=l.length;C<k;C++){var V=f[C],_=V.roseType,D=V.roseRadius;if(_&&(C===u?m+D+c:m+D)<w)C===u&&(delete r.foucusArcNum,t.iv());else{var I=new p(n[C]).sub(b),T=new p(v).sub(b),S=I.clone().normalize().dot(T.normalize()),L=Math.acos(S);if(0<I.x*T.y-T.x*I.y){if(L<l[C]){u!=C&&(r.foucusArcNum=C,t.iv());break}u===C&&(delete r.foucusArcNum,t.iv())}else{if(y-L<l[C]){u!=C&&(r.foucusArcNum=C,t.iv());break}u===C&&(delete r.foucusArcNum,t.iv())}}}else void 0!==u&&(delete r.foucusArcNum,t.iv())}if(g.show){var P=r.foucusArcNum;if(void 0!==P){var B=f[P],M=B.value,R=B.percent,E=B.name,A=B.seriesName,O=g.formatter,H=[];if(O)Io(B,{outFormatter:O}).labelTextArray.forEach(function(e,t){H.push([null,e])});else H=[["名称",E],["百分比",(100*R).toFixed(1)+"%"],["数值",M]];Ao.setInfo({label:A,datas:H}),ua.show(Ao.getView(),e)}else ua.hide()}}}var Eo=ht.Default.isBoolean,Ao=new mi,Oo=(i(Ho,rt),t(Ho,[{key:"onMove",value:function(e,t,i,o,a,r){Ro(e,t,i,o,this)}},{key:"onUp",value:function(e,t,i,o,a,r){Ro(e,t,i,o,this)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=sa(i,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),ua.hide())}}]),Ho);function Ho(){return h(this,Ho),c(this,(Ho.__proto__||Object.getPrototypeOf(Ho)).call(this))}function Wo(e,t,i){for(var o=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);zo(i,l).width>t&&(a=r-1===a?(o.push(e.substring(a,r)),r):(o.push(e.substring(a,r-1)),r-1))}return a!==r-1&&o.push(e.substring(a,r)),o}var Fo,No,jo,Go=/firefox/.test(window.navigator.userAgent.toLowerCase()),Yo=/MSIE/.test(window.navigator.userAgent.toLowerCase()),zo=(Fo={},No=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){No.font=e||ht.Default.labelFont;var i=Fo[No.font];return i||(i=2*No.measureText("e").width,Fo[No.font]=i),{width:No.measureText(t).width+2,height:i}}),Xo=function(e,t){if(!e)return Uo([],t);var i=function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/^\s+|\s+$/g,"")):""}(e).split(/\s+/g),o=[];return i.forEach(function(e){isNaN(e)||o.push(parseInt(e))}),Uo(o)},Uo=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},Ko=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t},Zo=function(e,t,i){var o=t.style,a=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),$o(o,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),$o(o,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},$o=((jo=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var o=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+o]=i,e["moz"+o]=i,e["ms"+o]=i,e["o"+o]=i,e[t]=i}),qo=function(e,t,i,o){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),o)Array.prototype.push.apply(a,Wo(h,i,t));else{for(var s,u,c="",d=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?c+="1":c+="2"}c=(c=c.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var y=0;y<c.length;y++){c.charAt(y).match(/\_/g)&&(h=Jo(h,y+1,"|"))}s=h.split("|"),u=c.split("_");for(var b=0,x=s.length;b<x;b++)d=v+s[b],g=zo(t,d),"1"===u[b][0]?g.width>i?v?(a.push(v),v="",b--):(f=Wo(s[b],i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===i?(a.push(d),""):d:v=g.width>i?(f=Wo(d,i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):d;v&&a.push(v)}}return a},Jo=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)},Qo=function(e,t,i,o,a,r){return e?(t=t&&new y(t),e.pressed?o||(a&&t&&0!==t.a?ht.Default.darker(t,Ie.activeDarker):r?null:Ie.emptyColor):e.hover?i||(a&&t&&0!==t.a?ht.Default.darker(t,Ie.hoverDarker):r?null:Ie.emptyColor):r?null:t?t.getRGBA():Ie.emptyColor):t};function ea(e,t){var i=e.prototype,o=ht.Default.getMSMap();for(var a in t)o[a]&&o.hasOwnProperty(a)?o[a](i,t):i[a]=t[a]}function ta(e){var t=e.a(f.VALUE);return void 0===t?"":t}var ia,oa=(ia=null,function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;ia||((ia=document.createElement("input")).setAttribute("type","file"),ia.setAttribute("id","hiddenFile"),ia.style.width=0,ia.style.height=0,ia.addEventListener("change",function(e){document.body.removeChild(ia),ia=null;for(var t=e.target.files,i={files:[]},o=0;o<t.length;o++)s?s(t[o])&&i.files.push(t[o]):i.files.push(t[o]);if(h&&0!==i.files.length)if(l){var a=0;i.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===i.files.length&&n(i)},aa(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(i)},aa(r,t[0],h)}else n(i)}),document.body.appendChild(ia)),ia.multiple=!!l,ia.accept=t||"",ia.click()});function aa(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function ra(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null}var na=function(e,t){for(var i=[],o=0,a=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),u=[];1<s?a+=s:o+=s,u.push(s),1<(s=parseFloat(h[1]))?(a+=s,u.unshift(s)):(o+=s,u.push(s)),i.push(u)}else 1<=(r=parseFloat(r))?a+=r=Math.max(12,r):o+=r,i.push(r);for(n=0,l=i.length;n<l;n++)(r=i[n])<1?i[n]=Math.max(0,r/o*(t-a)):r instanceof Array&&(i[n]=r[0]+Math.max(0,r[1]/o*(t-a)));return i},la=function(e){var t=De(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},ha=function(e,t,i,o){var a=function(e,t,i,o){if(!e||!e.interactiveInfo)return null;if(i){var a=void 0;if("billboard"===t.s("shape3d"))a=t.s("shape3d.image");else if(o){var r=e.gv.intersectObject(o,t);a=t.s("shape3d."+("body"===r.part?"":r.part+".")+"image")}return a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(ra(e,t),t,e instanceof ht.graph3d.Graph3dView,o);if(a)for(var r=0,n=a.length;r<n;r++){var l=a[r];if(l.comp===i)return l}return null},sa=function(e,t,i){var o=ra(e,t);if(!o)return{};if(o.vectorInfos){for(var a=o.vectorInfos,r=0;r<a.length;r++)if(a[r].comp===i)return a[r]}else o.vectorInfos=[];var n={comp:i};return o.vectorInfos.push(n),n},ua=new eo,ca=function(e,t,i,o,a){o&&(o.editing=!1,delete o.dom),a&&e.a(a,i.value),e.iv(),t.getView().removeChild(i)},da=function(e){return null==e||""===e},ga=function(e){return null==e},fa=function e(t,i,o){for(var a in i){var r=i[a];"object"!==(void 0===r?"undefined":_e(r))||ht.Default.isArray(r)||o?t[a]=i[a]:e(t[a],i[a])}},va=function(e,t){e.getView().style.cursor=t},pa=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]},ya=function(e,t,i,o){var a=e[t];if(a&&a.func&&"string"==typeof a.func){var r=a.func.split("@"),n=De(r,2);n[0];return n[1]}return null},ba=function(e,t){var i,o,a,r;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(r=Math.abs(i-o),a=Math.pow(10,Math.max(i,o)),0<r){var n=Math.pow(10,r);t=o<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},xa=function(e,t){var i,o,a;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return((e*(a=Math.pow(10,Math.max(i,o)))-t*a)/a).toFixed(o<=i?i:o)},ma=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},wa=function(e,t,i){var o=ha(i,t,e).rect,a=t.getAnchor(),r=t.getWidth(),n=t.getHeight(),l=t.toGlobal({x:o.x-a.x*r,y:o.y-a.y*n}),h=t.toGlobal({x:o.x+o.width-a.x*r,y:o.y+o.height-a.y*n});return function(e,t){var i=t.getView().getBoundingClientRect(),o=t.getZoom(),a=t.tx(),r=t.ty(),n={};return n.height=e.height*o,n.width=e.width*o,n.x=i.left+a+e.x*o,n.y=i.top+r+e.y*o,n}(Ma(l,h),i)},Ca=function(e,t,i){if(!e||!e.func)return e;var o,a=e.func,r=e.value;return o=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](i):r:r,void 0!==r&&null==o?r:o},ka=function(e,t){var i=t.borderWidth,o=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,h=t.bgGradientColor,s=t.contentRect;if(a&&e.setLineDash(r),n){var u;if(l&&h)n=(u=ht.Default).createGradient.apply(u,[e,l,n,h].concat(Be(s)));e.fillStyle=n,e.fill()}i&&o&&(e.strokeStyle=o,e.lineWidth=i,e.stroke())},Va=function(e,t,i,o){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),Pa(e,a,r,n,l,o),e.closePath(),e.fill()},_a=function(e,t,i,o){var a=ha(e,t,i);return{x:o.x+a.rect.x,y:o.y+a.rect.y}},Da=function(e){return ht.Default.clone(e)},Ia=function(e){return ht.Default.isArray(e)},Ta=function(e){return!ga(e)},Sa=function(e,t,i,o){ht.Default.drawPoints(e,t,i,o)},La=function(e,t,i,o,a,r,n,l,h,s){ht.Default.drawText(e,t,i,o,a,r,n,l,h,s)},Pa=function(e,t,i,o,a,r,n,l,h){ht.Default.drawRoundRect.apply(ht.Default,arguments)},Ba=function(e,t,i,o){return ht.Default.containsPoint(e,t,i,o)},Ma=function(e,t){return ht.Default.unionPoint(e,t)},Ra=function(e,t,i,o,a,r,n,l,h,s){!s&&l&&(s=l.s("body.color")),ht.Default.drawStretchImage(e,t,i,o,a,r,n,l,h,s)},Ea=function(e,t){return ht.Default.intersectsRect(e,t)},Aa=function(e,t,i){if(i){var o=zo(e,t),a=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(o.width,0),n=new ht.Math.Vector2(o.width,o.height),l=new ht.Math.Vector2(0,o.height),h=new ht.Math.Vector2(o.width/2,o.height/2),s=Math.PI*(i/180);return a.rotateAround(h,s),r.rotateAround(h,s),n.rotateAround(h,s),l.rotateAround(h,s),Ma([a,r,n,l])}return zo(e,t)},Oa=function(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var o=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<o?o.toString():"0"+o)).replace(/M/g,o)).replace(/w|W/g,["日","一","二","三","四","五","六"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var a=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<a?a.toString():"0"+a)).replace(/H/g,a)).replace(/A/g,12<=a?"PM":"AM")).replace(/Aa/g,12<=a?"pm":"am"),a=12<a?a%12:a,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<a?a.toString():"0"+a)).replace(/h/g,a)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())},Ha=function(e,t){var i=e.x,o=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,i-1),n=Math.min(n,i+a+1),l=Math.max(l,o-1),{x:n,y:l=Math.min(l,o+r+1)}},Wa=function(e,t){var i=1<arguments.length&&void 0!==t?t:.1,o=e.length,a=[],r=[];if(o<=2)return{points:e,segments:null};for(var n=0;n<o;n++){var l=e[n],h=e[n-1]||l,s=e[n+1]||l,u=new ht.Math.Vector2(e[n]),c=new ht.Math.Vector2(h),d=new ht.Math.Vector2(s).clone().sub(c).multiplyScalar(i);if(0===n){a.push({x:u.x,y:u.y});var g=u.clone().add(d);a.push({x:g.x,y:g.y}),r.push(1)}else if(n===o-1){var f=u.clone().sub(d);a.push({x:f.x,y:f.y}),a.push({x:u.x,y:u.y}),r.push(4)}else{var v=u.clone().sub(d),p=u.clone().add(d);a.push({x:h?Math.max(h.x,v.x):v.x,y:v.y}),a.push({x:u.x,y:u.y}),a.push({x:s?Math.min(s.x,p.x):p.x,y:p.y}),r.push(4)}}return{points:a,segments:r}},Fa=function(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},Na=function(e){return ht.Default.toColorData(e)},ja=function(e){return ht.Default.getImage(e)},Ga=function(e,t,i){if("object"!==(void 0===t?"undefined":_e(t)))return t;var o=t.type,a=t.colorStops,r=t.coordinate,n=i.x,l=i.y,h=i.width,s=i.height,u=void 0;if("radial"===o){r=r||[0,0,0,1];var c=Math.min(h,s),d=[n+h*r[0],l+s*r[1],c*r[2],n+h*r[3],l+s*r[4],c*r[5]];u=e.createRadialGradient.apply(e,d),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}else{var g=[n+h*(r=r||[0,0,0,1])[0],l+s*r[1],n+h*r[2],l+s*r[3]];u=e.createLinearGradient.apply(e,g),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}return u},Ya=function(e,t,i,o){for(var a="",r=e.length;0<r&&(a=e.slice(0,r)+o,!(zo(t,a).width<=i));r--);return a},za={comp:{button:function(e,t,i,o,a){var r=i.getValue("text"),n=i.getValue("disabled"),l=i.getValue("font"),h=i.getValue("icon"),s=i.getValue("iconPosition"),u=i.getValue("iconWidth"),c=i.getValue("iconHeight"),d=i.getValue("iconGap"),g=i.getColor("iconColor"),f=i.getColor("hoverIconColor"),v=i.getColor("activeIconColor"),p=i.getColor("textColor"),y=i.getColor("hoverTextColor"),b=i.getColor("activeTextColor"),x=i.getColor("disabledTextColor"),m=i.getValue("borderWidth"),w=i.getColor("borderColor"),C=i.getColor("hoverBorderColor"),k=i.getColor("activeBorderColor"),V=i.getColor("disabledBorderColor"),_=i.getColor("background"),D=i.getColor("hoverBackground"),I=i.getColor("activeBackground"),T=i.getColor("disabledBackground"),S=i.getValue("borderRadius"),L=i.getValue("handleClick"),P=sa(a,o,i),B=Uo(q),M=(De(B,4),Xo(S)),R=De(M,4),E=R[0],A=R[1],O=R[2],H=R[3],W=t.x,F=t.y,N=t.width,j=t.height;if(n?(_=T,w=V,p=x,m=m||1):(_=Qo(P,_,D,I,!0),w=Qo(P,w,C,k,!0),g=Qo(P,g,f,v,!1,!0),p=Qo(P,p,y,b,!0)),e.fillStyle=_,e.beginPath(),Pa(e,W,F,N,j,E,A,H,O),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!h&&Ta(r))K(e,r,l,p,W,F,N,j,"center","middle");else if(h&&!Ta(r))Z(e,$(h),"uniform",W+.5*(N-u),F+.5*(j-c),u,c,o,a,g);else if(h&&Ta(r)){var G=zo(l,r),Y=void 0,z=void 0;if(ne===s||le===s){var X=F+.5*(j-c-G.height-d);Y={x:W,height:G.height,width:N},z={x:W+.5*(N-u),width:u,height:c},ne===s?(Y.y=X+c+d,z.y=X):le===s&&(Y.y=X,z.y=X+G.height+d)}else{var U=W+.5*(N-u-G.width-d);Y={width:G.width,y:F,height:j},z={y:.5*(j-c),width:u,height:c},ye===s?(Y.x=U,z.x=U+G.width+d):(Y.x=U+u+d,z.x=U)}K(e,r,l,p,Y.x,Y.y,Y.width,Y.height,"center","middle"),Z(e,$(h),"uniform",z.x,z.y,z.width,z.height,o,a,g)}P&&(P.disabled=n,P.onClick=L)},input:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),c=i.getColor("focusBorderColor")||u,d=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("icon"),y=i.getValue("iconWidth"),b=i.getValue("iconHeight"),x=i.getValue("iconAlign"),m=i.getValue("font"),w=i.getValue("textAlign"),C=i.getColor("textColor"),k=i.getValue("maxLength"),V=i.getValue("inputType"),_=i.getValue("enterEndInputable"),D=i.getValue("onKeyDown"),I=i.getValue("onKeyUp"),T=i.getValue("onChange"),S=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",L=sa(a,o,i),P=L&&L.editing,B=L&&L.editingValue,M=Xo(g),R=De(M,4),E=R[0],A=R[1],O=R[2],H=R[3],W=Xo(d),F=De(W,4),N=F[0],j=F[1],G=F[2],Y=F[3],z=t.x,X=t.y,U=t.width,K=t.height,Z=void 0;if(o&&P?(Z=v,u=c):Z=f,e.beginPath(),Pa(e,z,X,U,K,N,j,Y,G),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||P&&s&&c)&&(e.strokeStyle=P?c:u,e.lineWidth=s,e.stroke()),r=(Ta(r)?r:"")+"",!B||!P){var $=!r&&n,q=r||n||"",J=r?C:l,Q=Math.max(0,U-H-A),ee=Math.max(0,K-E-O),te=z+H,ie=X+E;P&&(q=n||"",J=l),q&&(e.save(),e.beginPath(),e.rect(te,ie,Q,ee),e.clip(),!$&&o&&"password"===V&&(q=function(){for(var e="",t=0;t<q.length;t++)e+="•";return e}()),re(e,q,m,J,te,X+1,Q,K,w,"middle"),e.restore())}if(p){var oe=void 0;oe="left"===x?z:"center"===x?z+.5*(U-y):z+U-y,he(e,se(p),"uniform",oe,.5*(K-b),y,b,o,a)}if(h){var ae=s/2;e.beginPath(),Pa(e,z-ae,X-ae,U+s,K+s,N,j,Y,G),e.fillStyle=S,e.closePath(),e.fill()}L&&(L.disabled=h,L.font=m,L.value=r,L.placeholder=n,L.textAlign=w,L.maxLength=k,L.textColor=C,L.inputType=V,L.enterEndInputable=_,L.onKeyUp=I,L.onKeyDown=D,L.onChange=T,L.padding=g,L.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getColor("min"),s=i.getColor("max"),u=i.getColor("step"),c=i.getValue("disabled"),d=i.getValue("borderWidth"),g=i.getColor("borderColor"),f=i.getColor("focusBorderColor")||g,v=i.getValue("borderRadius"),p=i.getValue("padding"),y=i.getColor("background"),b=i.getColor("focusBackground")||y,x=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),C=i.getValue("iconAlign"),k=i.getValue("font"),V=i.getValue("textAlign"),_=i.getColor("textColor"),D=i.getValue("maxLength"),I=i.getValue("enterEndInputable"),T=i.getValue("buttonVisible"),S=i.getValue("onKeyDown"),L=i.getValue("onKeyUp"),P=i.getValue("onChange"),B=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",M=sa(a,o,i),R=M&&M.editing,E=M&&M.editingValue,A=Xo(p),O=De(A,4),H=O[0],W=O[1],F=O[2],N=O[3],j=Xo(v),G=De(j,4),Y=G[0],z=G[1],X=G[2],U=G[3],K=t.x,Z=t.y,$=t.width,q=t.height,J=void 0;if(o&&R?(J=b,g=f):J=y,e.beginPath(),Pa(e,K,Z,$,q,Y,z,U,X),e.closePath(),J&&(e.fillStyle=J,e.fill()),(d&&g||R&&d&&f)&&(e.strokeStyle=R?f:g,e.lineWidth=d,e.stroke()),!E&&0!==E||!R){var Q=Ta(r)?r:Ta(n)?n:"",ee=Ta(r)?_:l,te=Math.max(0,$-N-W),ie=Math.max(0,q-H-F),oe=K+N,ae=Z+H;R&&(Q=Ta(n)?n:"",ee=l),Ta(Q)&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),$e(e,Q,k,ee,oe,Z+1,te,q,V,"middle"),e.restore())}if(T){var re=K+$-20,ne=Z+d/2,le=q-d,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+he),e.lineTo(10+re,ne+le/4-he),e.lineTo(14+re,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-he),e.lineTo(10+re,ne+le/4*3+he),e.lineTo(14+re,ne+le/4*3-he),e.stroke(),M&&(M.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(x){var se=void 0;se="left"===C?K:"center"===C?K+.5*($-m):K+$-m,qe(e,Je(x),"uniform",se,.5*(q-w),m,w,o,a)}if(c){var ue=d/2;e.beginPath(),drowRou,Pa(e,K-ue,Z-ue,$+d,q+d,Y,z,U,X),e.fillStyle=B,e.closePath(),e.fill()}M&&(M.disabled=c,M.font=k,M.value=r,M.placeholder=n,M.textAlign=V,M.maxLength=D,M.textColor=_,M.enterEndInputable=I,M.onKeyUp=L,M.onKeyDown=S,M.onChange=P,M.padding=p,M.step=u,M.min=h,M.max=s,M.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),c=i.getColor("focusBorderColor"),d=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("textAlign"),y=i.getColor("textColor"),b=i.getValue("lineHeight"),x=i.getValue("font"),m=i.getValue("wordBreak"),w=i.getValue("maxLength"),C=i.getValue("enterEndInputable"),k=i.getValue("onKeyUp"),V=i.getValue("onKeyDown"),_=i.getValue("onChange"),D=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",I=sa(a,o,i),T=I&&I.editing,S=I&&I.editingValue,L=Xo(g),P=De(L,4),B=P[0],M=P[1],R=P[2],E=P[3],A=Xo(d),O=De(A,4),H=O[0],W=O[1],F=O[2],N=O[3],j=e.x,G=e.y,Y=e.width,z=e.height,X=void 0;if(o&&T?(X=v,u=c):X=f,t.beginPath(),Pa(t,j,G,Y,z,H,W,N,F),t.closePath(),X&&(t.fillStyle=X,t.fill()),(s&&u||T&&s&&c)&&(t.strokeStyle=T?c:u,t.lineWidth=s,t.stroke()),r=(Ta(r)?r:"")+"",!S||!T){var U=r||n||"",K=r?y:l,Z=Math.max(0,Y-E-M),$=Math.max(0,z-B-R);if(T&&(U=n||"",K=l),U){t.save(),t.beginPath(),t.rect(j+E,G+B,Z,$),t.clip();var q=qo(U,x,Z,m),J=G+B;q.forEach(function(e){G+z<J||(ee(t,e,x,K,j+E,J,Z,b,p,"middle"),J+=b)}),t.restore()}}if(h){var Q=s/2;t.beginPath(),Pa(t,j-Q,G-Q,Y+s,z+s,H,W,N,F),t.fillStyle=D,t.closePath(),t.fill()}I&&(I.disabled=h,I.font=x,I.value=r,I.placeholder=n,I.textAlign=p,I.maxLength=w,I.textColor=y,I.enterEndInputable=C,I.padding=g,I.wordBreak=m,I.onKeyUp=k,I.onKeyDown=V,I.onChange=_,I.lineHeight=b,I.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),u=i.getColor("disabledColor"),c=i.getColor("disabledBackground"),d=(i.getValue("symbol"),sa(a,o,i)),g=n?s:l,f=t.x,v=t.y,p=t.width,y=t.height,b=Math.min(p,y);o&&(r?(g=u,h=c):d.pressed?n?g=ht.Default.darker(g,Ie.activeDarker):h=ht.Default.darker(h,Ie.activeDarker):d.hover&&(n?g=ht.Default.darker(g,Ie.hoverDarker):h=ht.Default.darker(h,Ie.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*y,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*y,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*y,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=x),d&&(d.disabled=r,d.onChange=i.getValue("onChange"),d.group=i.getValue("group"),d.value=i.getValue("value"))},checkbox:function(e,t,i,o,a){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),h=i.getColor("activeBorderColor"),s=i.getColor("disabledBorderColor"),u=i.getColor("background"),c=i.getColor("activeBackground"),d=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=sa(a,o,i),y=t.x,b=t.y,x=t.width,m=t.height,w=Math.min(x,m);u=r?c:u,u=n?(l=s,f=v,d):Qo(o,u,null,null,!0),r&&!n&&(l=h),m<x?y+=.5*(x-m):x<m&&(b+=.5*(m-x)),e.beginPath(),Pa(e,y,b,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(y+.125*w,b+.5*w),e.lineTo(y+w*(3/8),b+.75*w),e.lineTo(y+.8125*w,b+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),o&&!o.__inputType&&(o.__inputType=C),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("borderWidth"),l=i.getValue("borderColor"),h=i.getValue("disabledBorderColor"),s=i.getValue("focusBorderColor"),u=i.getValue("borderRadius"),c=i.getValue("textColor"),d=i.getValue("value"),g=i.getValue("font"),f=i.getValue("fullMode"),v=i.getValue("showDropDownIcon"),p=i.getValue("dropDownIcon"),y=i.getValue("dropDownIconColor"),b=i.getValue("dropDownIconWidth"),x=i.getValue("dropDownIconHeight"),m=i.getValue("onChange"),w=sa(a,o,i),C=Xo(u),k=De(C,4),V=k[0],_=k[1],D=k[2],I=k[3],T=t.x,S=t.y,L=t.width,P=t.height,B=T+L+5,M=S+P+5,R=!1,E=void 0;if(r?l=c=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),Pa(e,T,S,L,P,V,_,I,D),e.closePath(),e.clip();for(var A=S,O=0;A<M;A+=5,O++){R=O%2!=0;for(var H=T;H<B;H+=5)e.fillStyle=R?te:Q,e.fillRect(H,A,5,5),R=!R}}else{B=(E={x:T+4,y:S+4,width:1.66*(P-8),height:P-8}).x+E.width,M=E.y+E.height,e.beginPath(),e.rect(E.x,E.y,E.width,E.height),e.closePath(),e.clip();for(var W=E.y,F=0;W<M;W+=5,F++){R=F%2!=0;for(var N=E.x;N<B;N+=5)e.fillStyle=R?te:Q,e.fillRect(N,W,5,5),R=!R}}e.restore(),e.beginPath(),Pa(e,T,S,L,P,V,_,I,D),e.closePath(),d&&f?(e.fillStyle=d,e.fill()):d&&!f&&(e.fillStyle=d,e.fillRect(E.x,E.y,E.width,E.height),ie.setColor(d),j(e,ie,g,c,E.x+E.width+4,S,L-E.width-8,P,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&Y(e,J(p||"ht.vector.dropDownIcon"),"uniform",T+L-8-b,S+.5*(P-x),b,x,o,a,y),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getValue("dataSource"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getValue("borderColor"),c=i.getValue("disabledBorderColor"),d=i.getValue("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getValue("background"),p=i.getValue("disabledBackground"),y=i.getValue("focusBackground")||v,b=i.getValue("icon"),x=i.getValue("iconWidth"),m=i.getValue("iconHeight"),w=i.getValue("iconAlign"),C=i.getValue("font"),k=i.getValue("textAlign"),V=i.getValue("textColor"),_=i.getValue("disabledTextColor"),D=i.getValue("dropDownIcon"),I=i.getValue("dropDownIconColor"),T=i.getValue("dropDownIconWidth"),S=i.getValue("dropDownIconHeight"),L=i.getValue("drawUnMatchValue"),P=sa(a,o,i),B=P&&P.editing,M=Xo(f),R=De(M,4),E=R[0],A=R[1],O=R[2],H=R[3],W=Xo(g),F=De(W,4),N=F[0],j=F[1],G=F[2],Y=F[3],z=t.x,X=t.y,U=t.width,K=t.height,Z=void 0;o?h?(Z=p,u=c,V=_,s=s||1):B?(Z=y,u=d):Z=v:Z=v,e.beginPath(),Pa(e,z,X,U,K,N,j,Y,G),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||B&&s&&d)&&(e.strokeStyle=B?d:u,e.lineWidth=s,e.stroke());var $="";if(L)$=r;else if(!ga(r)&&l)for(var q=0,J=l.length;q<J;q++)if(l[q].value===r){$=l[q].label,b=l[q].icon;break}$||(b=null,ga(r)||($=r+""));var Q=$||n||"",ee=Math.max(0,U-H-A),te=Math.max(0,K-E-O),ie=z+H,oe=X+E;if(ga(r)&&!h&&(V=Ie.placeholderColor),e.save(),e.beginPath(),e.rect(ie,oe,ee,te),e.clip(),ce(e,Q,C,V,b?ie+x:ie,oe,ee,te,k,"middle"),e.restore(),b){var ae=void 0;ae="left"===w?ie:"center"===w?z+.5*(U-x):z+U-x-A,de(e,ve(b),"uniform",ae,.5*(K-m),x,m,o,a)}de(e,ve(D||"ht.vector.dropDownIcon"),"uniform",z+U-8-T,X+.5*(K-S),T,S,o,a,I),P&&(P.disabled=h,P.dataSource=l,P.dropIconWidth=i.getValue("dropIconWidth"),P.dropIconHeight=i.getValue("dropIconHeight"),P.dropRowHeight=i.getValue("dropRowHeight"),P.dropWidth=i.getValue("dropWidth"),P.dropBackground=i.getValue("dropBackground"),P.dropLabelFont=i.getValue("dropLabelFont"),P.dropLabelColor=i.getValue("dropLabelColor"),P.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),P.dropActiveBackground=i.getValue("dropActiveBackground"),P.dropHoverBackground=i.getValue("dropHoverBackground"),P.dropMaxHeight=i.getValue("dropMaxHeight"),P.onChange=i.getValue("onChange"),P.dropBorderColor=i.getValue("dropBorderColor"),P.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,o,a){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),h=i.getValue("max"),s=i.getValue("showTick"),u=i.getValue("tickEvery"),c=i.getColor("tickColor"),d=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),y=i.getValue("labelEvery"),b=i.getColor("labelColor"),x=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),C=i.getValue("shadowBlur"),k=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),_=i.getValue("shadowOffsetY");Se=i.getValue("clockwise"),Le=i.getValue("min"),pe=i.getValue("startAngle"),Te=i.getValue("endAngle"),oe=Math.abs(h-Le),ae=Math.abs(Te-pe);var D=t.x,I=t.y,T=t.width,S=t.height,L=Math.min(T,S)/2,P=U(l,Se);if(e.save(),w&&(e.shadowColor=k,e.shadowBlur=C,e.shadowOffsetX=V,e.shadowOffsetY=_),e.translate(D+.5*T,I+.5*S),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var B=Le;B<=h;B+=g){var M=U(B,Se),R=L*Math.cos(M),E=L*Math.sin(M);e.moveTo(.84*R,.84*E),e.lineTo(R,E)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=c,e.lineWidth=d;for(var A=Le;A<=h;A+=u){var O=U(A,Se),H=L*Math.cos(O),W=L*Math.sin(O);e.moveTo(.9*H,.9*W),e.lineTo(H,W)}e.stroke()}}if(p&&y){m=z(m,L),e.font=x,e.fillStyle=b,e.textAlign="center",e.textBaseline="middle";for(var F=Le;F<=h;F+=y){var N=U(F,Se),j=m*Math.cos(N),G=m*Math.sin(N);e.fillText(F,j,G)}}var Y=.05*(r=z(r,L));e.rotate(P),e.beginPath(),e.moveTo(-1.5*Y,0),e.lineTo(0,-Y),e.lineTo(r,0),e.lineTo(0,Y),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(v,p,o,y,b){var a,i=o.getValue("columns"),e=o.getValue("dataSource"),t=o.getColor("thBackground"),r=o.getColor("tdBackground"),x=o.getValue("thHeight"),n=o.getValue("tdHeight"),m=o.getValue("textLineHeight"),s=o.getColor("thColor"),w=o.getColor("tdColor"),u=o.getValue("thFont"),C=o.getValue("tdFont"),k=o.getValue("borderWidth"),l=o.getColor("borderColor"),h=o.getColor("columnLineColor"),V=o.getValue("columnLineWidth"),c=o.getValue("columnLinePattern"),d=o.getColor("rowLineColor"),_=o.getValue("rowLineWidth"),g=o.getValue("rowLinePattern"),D=o.getValue("showHeadRowLine"),I=o.getValue("cellPadding"),T=o.getValue("showHead"),S=o.getColor("hoverBackground"),L=o.getColor("hoverColor"),P=o.getColor("selectBackground"),B=o.getColor("selectColor"),M=o.getValue("translateY")||0,R=o.getValue("translateX")||0,f=o.getValue("scrollable"),E=o.getValue("autoHideScrollBar"),A=o.getColor("scrollBarColor"),O=o.getValue("scrollBarWidth"),H=o.getValue("scrollBarWidthAbsolute"),W=o.getValue("drawRow"),F=o.getValue("multiple"),N=o.getValue("onSelectRow"),j=o.getValue("onHoverCell"),G=o.getValue("onClickCell"),Y=o.getValue("selectedIndex")||[],z=o.getValue("visibleFunc"),X=o.getValue("columnVisibleFunc"),U=o.getValue("resizable"),K=o.getValue("resizeLineWidth"),Z=o.getValue("resizeLineColor"),$=o.getValue("resizeInteractiveSize"),q=o.getValue("showHeadColumnLineOnly"),J=sa(b,y,o),Q=p.x,ee=p.y,te=p.width,ie=p.height,oe=te-2*k,ae=ie-2*k,re=void 0,ne=[],le=[],he=[],se=[];if(T&&(re=[Q+k,ee+k,oe,x]),a=[Q+k,ee+x*T+k,te,ae-x*T],ga(Y)||ht.Default.isArray(Y)||(Y=[Y]),v.save(),v.beginPath(),v.rect(Q,ee,te,ie),v.clip(),t&&T&&(v.fillStyle=t,v.fillRect.apply(v,Be(re))),r&&(v.fillStyle=r,v.fillRect.apply(v,Be(a))),i&&0<i.length&&(i.forEach(function(e,t){(X&&X(e,t,y,b)||!X)&&(he.push(e),se.push(t))}),he.length)){var ue=he.length,ce=na(he,oe-V*(ue-1)),de=e.length,ge=[],fe=[],ve=J.customColWidths||[],pe=Q+k+R;if(T){var ye=1;b&&b.getZoom&&(ye=b.getZoom()),$*=1/ye;for(var be=function(e){var t=he[e],i=t.drawHeadCell,o=ce[e]-2*I,a=t.headColor||t.color||s;"function"==typeof a&&(a=a(t)),pe+=I,v.save(),v.beginPath();var r,n=t.displayName||t.key,l=u,h=[pe,ee+k,o,x];v.rect.apply(v,h),v.clip(),r=function(){Me.apply(void 0,[v,n,l,a].concat(h,[t.align||"left","middle"]))},i?i(v,n,la(h),{color:a,font:l,defaultDraw:r,data:y,column:t,colIndex:se[e]}):r(),v.restore(),pe+=o+V+I,fe.push({x:pe-$/2-V/2,y:ee,width:$,height:x})},xe=0;xe<ue;xe++)be(xe)}v.save(),v.beginPath(),v.rect(Q+k,ee+k+(T?x:0),oe,ae-x*T),v.clip();var me=ee;if(e&&0<de&&(e.forEach(function(e,t){(z&&z(e,t,y,b)||!z)&&(ne.push(e),le.push(t))}),ne.forEach(function(e,t){ge.push(function(r,n,l,e,t){var h=Math.max(l,e);return t.forEach(function(e,t){var i=e.format,o=r[e.key];if(i&&(o=i(o,r,n,t)),"string"==typeof o){var a=o.match(He);a&&a.length&&(h=Math.max(h,l*(a.length+1)))}}),h}(e,le[t],m,n,i))}),!F&&1<Y.length&&(Y=Y.slice(0,1)),ne.forEach(function(h,s){var u=le[s],c=ge[s],d=me+_*(u+D*T*1)+x*T+k+M,e={x:Q,y:d,width:te,height:c};if(me+=c,pe=Q+k+R,Oe(la(a),e)){W&&W.call(o,v,h,u,e,le.indexOf(u),y,b);var g=J&&J.hoverIndex===u,f=Y&&-1!==Y.indexOf(u);f&&P?(v.fillStyle=P,v.fillRect(Q,d,te,c)):!f&&g&&S&&(v.fillStyle=S,v.fillRect(Q,d,te,c));for(var t=function(e){var a=he[e],t=se[e],i=a.drawCell,r=ce[e]-2*I,n=a.bodyColor||a.color||w;if(f&&B&&(n=B),!f&&g&&L&&(n=L),"function"==typeof n&&(n=n(h[a.key],h)),!Oe({x:pe+=I,y:d,width:r,height:c},p))return pe+=r+V+I,"continue";var l=h[a.key];a.format&&(l=a.format(l,h,u,t)),v.save(),v.beginPath(),v.rect(pe,d,r,c),v.clip();function o(){var e=a.isIcon;if(a.isIndex&&(e=!1,l=s+1),e)0<r&&Re(v,Ee(l),"centerUniform",pe,d+1,r,c-2,y,b);else{if(da(l))return;var t="string"==typeof l?l.match(He):null;if(t?t.length:0){var i=l.split(He),o=d;"middle"===a.vAlign?o=d+(c-i.length*m)/2:"bottom"===a.vAlign&&(o=d+(c-i.length*m)),i.forEach(function(e){Me(v,e,C,n,pe,o,r,m,a.align||"left",a.vAlign||"middle"),o+=m})}else Me(v,l,C,n,pe,d,r,c,a.align||"left",a.vAlign||"middle")}}i?i(v,l,{x:pe,y:d,width:r,height:c},{column:a,colIndex:t,row:h,rowIndex:u,font:C,color:n,defaultDraw:o,data:y}):o();pe+=r+V+I,v.restore()},i=0;i<ue;i++)t(i)}})),J&&(J.rowHeights=ge,J.colWidths=ce,J.headHeight=T?x:0,J.rowLineWidth=_,J.columnLineWidth=V,J.translateX=R,J.translateY=M,J.autoHideScrollBar=E,J.multiple=F,J.selectedIndex=Y,J.dataSource=e,J.columns=i,J.onSelectRow=N,J.onHoverCell=j,J.onClickCell=G,J.rawDatas=ne,J.rawIndexs=le,J.rawCols=he,J.rawColIndexs=se,J.headRect=re,J.bodyRect=a,J.resizable=U,J.resizeRects=fe,J.customColWidths=ve,J.onClickHeadCell=o.getValue("onClickHeadCell"),J.pannable=o.getValue("pannable"),J.scrollBarInteractiveSize=o.getValue("scrollBarInteractiveSize"),J.scrollSpeed=o.getValue("scrollSpeed")),_){var we=ee+k+x*T+M;v.beginPath(),D&&T&&(we+=_/2,v.moveTo(Q,we),v.lineTo(Q+te,we),we+=_/2);for(xe=0;xe<de&&(we+=ge[xe]+_/2,!(ee+ie<we));xe++)we<ee||(v.moveTo(Q,we),v.lineTo(Q+te,we)),we+=_/2;v.strokeStyle=d,v.lineWidth=_,g&&1<g.length&&v.setLineDash(g),v.stroke()}if(v.restore(),V){var Ce=Q+k+R,ke=ee+(q&&T?x:ie);v.beginPath();for(var Ve=0;Ve<ue;Ve++)Ce+=ce[Ve]+V/2,v.moveTo(Ce,ee),v.lineTo(Ce,ke),Ce+=V/2;v.strokeStyle=h,v.lineWidth=V,c&&1<c.length&&v.setLineDash(c),v.stroke()}if(y&&J&&f){var _e=V?V*(ue-1):0,De=_?(de-1)*_:0;ce.forEach(function(e){_e+=e}),ge.forEach(function(e){De+=e});var Ie={x:Q+k,y:ee+k+(T?x:0),width:oe,height:ae-(T?x:0)},Te={width:_e,height:De},Se={x:R,y:M},Le=b.getZoom?b.getZoom():1;Lt(v,Ie,Te,Se,{visible:!E||J.scrollBarVisible,color:A,barWidth:H?O/Le:O,gap:2/Le},J)}}if(k&&Ae(v,l,Q,ee,te,ie,k),J.resizeDragPoint&&Z&&K){var Pe=J.resizeDragPoint.x;v.strokeStyle=Z,v.lineWidth=K,v.beginPath(),v.moveTo(Pe,ee),v.lineTo(Pe,ee+ie),v.stroke()}v.restore()},pie:function(V,e,t,i,o){var a=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),_=t.getValue("startAngle"),l=t.getValue("endAngle"),h=t.getValue("tooltip.show"),s=t.getValue("tooltip.formatter"),D=t.getValue("roseType"),u=t.getValue("seriesName"),I=t.getValue("hoverOffset"),c=t.getValue("avoidLabelOverlap"),d=t.getValue("color"),g=t.getValue("minRoseRadius");if(a instanceof Array){l<_&&(l=_),360<l-_&&(l=_+360),_=-Math.PI/180*_,l=Math.PI/180*l;var f=e.x,v=e.y,p=e.width,y=e.height,b=Math.min(p,y),x=0,m=0,w=-_,C=De(r,2),k=C[0],T=void 0===k?0:k,S=C[1],L=void 0===S?.5:S,P=De(n,2),B=P[0],M=void 0===B?.5:B,R=P[1],E=void 0===R?.5:R,A=l-Math.abs(_);0<=T&&T<=1&&(T*=b/2),0<=L&&L<=1&&(L*=b/2),M=0<=M&&M<=1?M*p+f:M+f,E=0<=E&&E<=1?E*y+v:E+v;var O=a.map(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),H=O.reduce(function(e,t){return e+t},0),W=O.map(function(e){return e/H}),F=Math.max.apply(Math,Be(O)),N=L-T,j=O.map(function(e){var t=e/F*N;return t<g?g:t}),G=sa(o,i,t),Y=[],z=void 0,X=[],U=[],K=[],Z=[],$=void 0;if(G){0<a.length&&(z=new So(t),a.forEach(function(e,t){if(e){var i=W[t],o=j[t],a=i*A,r=w+a/2;x+=a,Y.push(new Bo({percent:i,roseRadius:o,lineAngle:r,arcAngle:a,arcEndAngle:x,arcStartAngle:m,seriesName:u,index:t,data:e,centerX:M,centerY:E,outerRadius:L,innerRadius:T,roseType:D,hoverOffset:I,color:d},z)),w+=a,m=x}}),w=-_,x=m=_),$=G.foucusArcNum;for(var q=0,J=Y.length;q<J;q++){var Q=Y[q].arcAngle;X.push({x:M+L*Math.cos(w),y:E+L*Math.sin(w)}),U.push(Q),w+=Q,q===J-1&&(w=-_)}!function(e,t,i){for(var o=0,a=e.length;o<a;o++){var r=e[o],n=i===o,l=r.getLabelLinePoints(n),h=l.x0,s=l.y0,u=l.x1,c=l.y1,d=r.getLabelLineLabelInfo(n),g=d.labelTextArray,f=d.textHeight,v=d.beginHeight;t.push({x0:h,y0:s,x1:u,y1:c,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(Y,K,$),c&&function(e,c,t,d,g){for(var i=[],o=[],a=0;a<e.length;a++)e[a].x0<c?i.push(e[a]):o.push(e[a]);function r(e,t){if(e.sort(function(e,t){return e.y0-t.y0}),0<(e=e.filter(function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2,o=e[e.length-1].allTextHeight/2,a=g-i-o,r=e.length,n=0,l=0,h=e.length;l<h;l++){if(a<(n+=e[l].allTextHeight)){r=l;break}}var s=a/(r-1);s===1/0&&(s=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=c+t*(d+10),e[u].y1=i+u*s}}0<i.length&&r(i,-1),0<o.length&&r(o,1)}(K,M,0,L,y);for(var ee=0,te=Y.length;ee<te;ee++){var ie=Y[ee],oe=(ge=$===ee)?ie.labelLineEmphasis:ie.labelLineNormal,ae=oe.show,re=oe.width,ne=oe.type,le=oe.font,he=oe.lineColor,se=oe.textColor;if(ie.value&&!1!==ae){var ue=function(){var e=K[ee],t=e.x0,i=e.y0,o=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;if(c&&!s)return{v:void 0};V.save(),V.lineWidth=re,V.font=le,V.strokeStyle=he,V.fillStyle=se,V.setLineDash("dashed"===ne?[2,2]:[]);var u=o<=t?-1:1;V.textAlign=o<=t?"right":"left",V.textBaseline="top",V.beginPath(),0<re?(V.moveTo(t,i),c&&V.lineTo(M+u*(L+5),i),V.lineTo(o,a),o+=u*h,V.lineTo(o,a),V.stroke()):o+=u*h,l.forEach(function(e,t){V.fillText(e,o+3*u,a-n/2+r*t)}),V.restore()}();if("object"===(void 0===ue?"undefined":_e(ue)))return ue.v}}V.save(),V.translate(M,E),V.rotate(-_),ye("fill"),ye("stroke"),V.restore(),function(e,t){for(var i=0,o=e.length;i<o;i++){var a=e[i].getLabelPoints(),r=a.textX,n=a.textY;t.push({textX:r,textY:n})}}(Y,Z),V.save(),V.textAlign="center",V.textBaseline="top";for(var ce=0,de=Y.length;ce<de;ce++){ie=Y[ce];var ge,fe=(ge=$===ce)?ie.labelEmphasis:ie.labelNormal,ve=(ae=fe.show,fe.position),pe=fe.color;le=fe.font;ie.value&&!1!==ae&&function(){V.save(),V.font=le,V.fillStyle=pe;var e=Z[ce],i="center"===ve?M:e.textX,o="center"===ve?E:e.textY,t=ie.getLabelInfo(ge),a=t.labelTextArray,r=t.textHeight,n=t.beginHeight;a.forEach(function(e,t){V.fillText(e,i,o-n+r*t)}),V.restore()}()}V.restore(),G&&(G.arcPoints=X,G.arcAngles=U,G.center={x:M,y:E},G.radius={outerRadius:L,innerRadius:T},G.hoverOffset=I,G.tooltip={show:!Eo(h)||h,formatter:s||""},G.pieItems=Y)}}function ye(e){for(var t=0,i=Y.length;t<i;t++){var o=Y[t],a=o.arcEndAngle,r=o.arcStartAngle,n=o.roseRadius,l=o.itemStyle,h=l.color,s=l.borderWidth,u=l.borderColor,c=l.borderType,d=void 0;if(o.value&&("stroke"===e&&0<s||"fill"===e)){if(V.save(),V.beginPath(),V.moveTo(T*Math.cos(r),T*Math.sin(r)),$===t?(d=D?n+I+T:L+I,V.arc(0,0,d,r,a,!1),V.arc(0,0,T,a,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(d=D?n+T:L,V.arc(0,0,d,r,a,!1),V.arc(0,0,T,a,r,!0)),V.closePath(),"fill"===e){if("string"==typeof h)V.fillStyle=h;else if("object"===(void 0===h?"undefined":_e(h))){var g=h.type,f=h.colorStops,v=null;if("radial"===g)v=V.createRadialGradient(0,0,T,0,0,d);else if("linear"===g){var p=Do(o,_),y=p.minY,b=p.maxY;v=V.createLinearGradient(0,y,0,b)}if(v&&f instanceof Array){for(var x=0,m=f.length;x<m;x++){var w=f[x],C=w.offset,k=w.color;void 0!==C&&void 0!==k&&v.addColorStop(C,k)}V.fillStyle=v}}V.fill()}else"stroke"===e&&(V.strokeStyle=u,V.lineWidth=s,V.setLineDash("dashed"===c?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(u,e,t,i,o){t.getValue("value");var c=t.getValue("max"),d=t.getValue("min"),a=t.getValue("labelEvery"),r=t.getValue("labelFont"),n=t.getColor("labelColor"),l=t.getValue("labelAlign"),h=t.getValue("labelDistance"),s=t.getValue("labelOffsetX"),g=t.getValue("labelOffsetY"),f=t.getValue("direction"),v=t.getValue("paddingBefore"),p=t.getValue("paddingAfter"),y=t.getColor("background"),b=t.getValue("smallTickEvery"),x=t.getColor("smallTickColor"),m=t.getValue("smallTickWidth"),w=t.getValue("smallTickLongness"),C=t.getValue("mediumTickEvery"),k=t.getColor("mediumTickColor"),V=t.getValue("mediumTickWidth"),_=t.getValue("mediumTickLongness"),D=t.getValue("largeTickEvery"),I=t.getColor("largeTickColor"),T=t.getValue("largeTickWidth"),S=t.getValue("largeTickLongness"),L=t.getValue("reverse"),P=e.x,B=e.y,M=e.width,R=e.height;y&&(u.fillStyle=y,u.fillRect(P,B,M,R));var E=c-d,A=R;f!==be&&f!==ye||(A=M);var O=[{every:b,color:x,longness:w,width:m},{every:C,color:k,longness:_,width:V},{every:D,color:I,longness:S,width:T}];if(L){if(O.forEach(function(e){if(e.every){var t=ue(e.longness,A);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var i=P+M-v,o=(M-v-p)*(e.every/E),a=f===ne?B:B+R;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i-=o}else{var n=B+R-v,l=(R-v-p)*(e.every/E),h=f===be?P:P+M;f===ye&&(t=0-t);for(var s=d;s<=c;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n-=l}u.stroke()}}),a){var H=ue(h,A);if(u.fillStyle=n,u.font=r,f===ne||f===le){var W=P+M-v+s,F=a/E*(M-v-p),N=(f===ne?B:B+R)+g;if(f===le)H=0-H-zo(r,"1").height;else u.textBaseline="hanging";for(var j=d;j<=c;j+=a){var G=zo(r,j);l===ge?Pe(u,j,r,n,W-.5*G.width,N+H,G.width,G.height,l,"middle"):l===ye?u.fillText(j,W-zo(r,j).width+2,N+H):l===be&&u.fillText(j,W,N+H),W-=F}}else{var Y=B+R-v+g,z=a/E*(R-v-p),X=(f===be?P:P+M)+s;u.textBaseline="middle",f===ye&&(H=0-H);for(var U=d;U<=c;U+=a){var K=U+"";f===ye?u.fillText(K,X+H-zo(r,K).width+2,Y):u.fillText(K,X+H,Y),Y-=z}}}}else if(O.forEach(function(e){if(e.every){var t=ue(e.longness,A);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var i=P+v,o=(M-v-p)*(e.every/E),a=f===ne?B:B+R;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i+=o}else{var n=B+v,l=(R-v-p)*(e.every/E),h=f===be?P:P+M;f===ye&&(t=0-t);for(var s=d;s<=c;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n+=l}u.stroke()}}),a){var Z=ue(h,A);if(u.fillStyle=n,u.font=r,f===ne||f===le){var $=P+v+s,q=a/E*(M-v-p),J=(f===ne?B:B+R)+g;if(f===le)Z=0-Z-zo(r,"1").height;else u.textBaseline="hanging";for(var Q=d;Q<=c;Q+=a){var ee=zo(r,Q);l===ge?Pe(u,Q,r,n,$-.5*ee.width,J+Z,ee.width,ee.height,l,"middle"):l===ye?u.fillText(Q,$-zo(r,Q).width+2,J+Z):l===be&&u.fillText(Q,$,J+Z),$+=q}}else{var te=B+v+g,ie=a/E*(R-v-p),oe=(f===be?P:P+M)+s;u.textBaseline="middle",f===ye&&(Z=0-Z);for(var ae=d;ae<=c;ae+=a){var re=ae+"";f===ye?u.fillText(re,oe+Z-zo(r,re).width+2,te):u.fillText(re,oe+Z,te),te+=ie}}}},multilineText:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),u=t.getColor("background"),c=t.getValue("padding"),d=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),y=e.x,b=e.y,x=e.width,m=e.height,w=Xo(c),C=De(w,4),k=C[0],V=C[1],_=C[2],D=C[3],I=Xo(f),T=De(I,4),S=T[0],L=T[1],P=T[2],B=T[3];i.beginPath(),Pa(i,y,b,x,m,S,L,B,P),i.closePath(),ka(i,{borderWidth:g,borderColor:d,dash:v,dashPattern:p,background:u});var M=D,R=k,E=0,A=x-D-V,O=r.split(/\n/),H=O.length*s+k+_,W=D+k;O.forEach(function(e){var t=zo(n,e);E=Math.max(E,t.width),F(i,e,n,h,M,R,A,s,l,"middle"),R+=s}),W+=E,o&&o.constructor===ht.Node&&(o.getWidth()===W&&o.getHeight()===H||(o.setSize(W,H),o.setSize3d(W,100,H)))},slider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),y=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),x=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),_=i.getValue("disabled"),D=i.getColor("disabledLayerColor"),I=i.getColor("showToolTip"),T=i.getColor("toolTipFormat"),S=sa(a,o,i);l=Math.min(n,Math.max(r,l));var L=t.x,P=t.y,B=t.width,M=t.height,R=Math.abs(n-r),E={x:L+V,y:P+(M-C)/2,width:B-2*V,height:C};k<1&&(k*=C),Va(e,E,b,k);var A=ht.Default.clone(E);A.width*=(l-r)/R,m&&(x=ht.Default.createGradient(e,m,x,w,E.x,E.y,E.width,E.height)),Va(e,A,x,k);var O=A.x+A.width-f/2+p,H=A.y+(C-v)/2+y;s?W(e,ht.Default.getImage(s),O,H,f,v):(c<1&&(c*=Math.min(f,v)),e.beginPath(),Pa(e,O,H,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=D,e.fillRect(L,P,B,M)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=h,S.showToolTip=I,S.toolTipFormat=T,S.barRect=E,S.onChange=i.getValue("onChange"),S.sliderRect={x:O,y:H,width:f,height:v})},rangeSlider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),y=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),x=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),_=i.getValue("disabled"),D=i.getColor("disabledLayerColor"),I=i.getColor("showToolTip"),T=i.getColor("toolTipFormat"),S=sa(a,o,i),L=t.x,P=t.y,B=t.width,M=t.height,R=De(l,2),E=R[0],A=R[1];E=Math.max(r,E),A=Math.min(n,A);var O=Math.abs(n-r),H={x:L+V,y:P+(M-C)/2,width:B-2*V,height:C};k<1&&(k*=C),Va(e,H,b,k);var W=ht.Default.clone(H);W.width*=(A-E)/O,W.x+=(E-r)/O*H.width,m&&(x=ht.Default.createGradient(e,m,x,w,H.x,H.y,H.width,H.height)),Va(e,W,x,k);var F=W.x-f/2+p,N=W.x+W.width-f/2+p,j=W.y+(C-v)/2+y;s?(We(e,ht.Default.getImage(s),F,j,f,v),We(e,ht.Default.getImage(s),N,j,f,v)):(c<1&&(c*=Math.min(f,v)),e.beginPath(),Pa(e,F,j,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke()),e.beginPath(),Pa(e,N,j,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=D,e.fillRect(L,P,B,M)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=h,S.valueBarDraggable=i.getValue("valueBarDraggable"),S.onChange=i.getValue("onChange"),S.showToolTip=I,S.toolTipFormat=T,S.barRect=H,S.valueBarRect=W,S.sliderRect={x:F,y:j,width:f,height:v},S.sliderRect2={x:N,y:j,width:f,height:v})},multipleComboBox:function(r,e,t,i,o){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),u=t.getColor("borderColor"),c=t.getColor("focusBorderColor"),d=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),y=t.getColor("itemTextColor"),b=t.getColor("itemBorderWidth"),x=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),C=t.getColor("itemGradient"),k=t.getColor("itemGradientColor"),V=t.getValue("itemPadding"),_=t.getValue("itemHGap"),D=t.getValue("itemVGap"),I=t.getValue("closeIconOnLeft"),T=t.getValue("closeIconSize"),S=t.getColor("closeIconColor"),L=t.getValue("padding"),P=sa(o,i,t),B=P&&P.editing,M=e.x,R=e.y,E=e.width,A=e.height,O=Xo(L),H=De(O,4),W=H[0],F=H[1],N=H[2],j=H[3],G=Xo(d),Y=De(G,4),z=Y[0],X=Y[1],U=Y[2],K=Y[3],Z=void 0;i&&B?(Z=f,u=c):Z=g,r.beginPath(),Pa(r,M,R,E,A,z,X,K,U),r.closePath(),Z&&(r.fillStyle=Z,r.fill()),(s&&u||B&&s&&c)&&(r.strokeStyle=B?c:u,r.lineWidth=s,r.stroke());var $=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){$.push(n[t]);break}});var q=[],J=Xo(V),Q=De(J,4),ee=Q[0],te=Q[1],ie=Q[2],oe=Q[3],ae=[M+j-b/2,R+W-b/2,E-j-F+b,A-W-N+b+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<$.length){var le=[M+j+b/2,R+W+b/2,E-j-F-b,A-W-N-b],he=le[0],se=le[1],ue=0,ce=Xo(m),de=De(ce,4),ge=de[0],fe=de[1],ve=de[2],pe=de[3],ye=w;$.forEach(function(e){var t=e.label||e.value,i=zo(p,t);ne=ne||i.height,ue&&he+i.width+_+b+7>le[0]+le[2]&&(he=le[ue=0],se+=ne+D+b+ee+ie,re++);var o=[he,se,i.width+oe+te+T+2,i.height+ee+ie];b&&(r.beginPath(),r.strokeStyle=x,Pa.apply(void 0,[r].concat(o,[ge,fe,pe,ve])),r.closePath(),w&&(C&&k&&(ye=Ne.apply(void 0,[r,C,w,k].concat(o))),r.fillStyle=ye,r.fill()),r.stroke());var a=[o[0]+oe+i.width+2,o[1]+ee,T,o[3]-ie-ee];I&&(a[0]=o[0]+oe,o[0]+=T+2),o[2]=o[2]-T-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=S,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-T)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-T)/2+T),r.moveTo(a[0]+a[2],a[1]+(a[3]-T)/2),r.lineTo(a[0],a[1]+(a[3]-T)/2+T),r.stroke(),Fe.apply(void 0,[r,t,p,y].concat(o,["center","middle"])),he+=i.width+_+b+oe+te+T+2,ue++})}else if(l){var be=zo(p,l),xe=[M+j,R+W,E-j-F,be.height+ee+ie];Fe.apply(void 0,[r,l,p,Ie.placeholderColor].concat(xe,["left","middle"])),ne=be.height}if(r.restore(),h){var me=[M-s/2,R-s/2,E+s,A+s];r.save(),r.beginPath(),Pa.apply(void 0,[r].concat(me,[z,X,K,U])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}i&&(i.__suggestHeight=W+N+(ee+ie+ne)*re+D*(re-1)),P&&(P.value=a,P.valueItemInfo=q,P.disabled=h,P.dataSource=n,P.dropIconWidth=t.getValue("dropIconWidth"),P.dropIconHeight=t.getValue("dropIconHeight"),P.dropRowHeight=t.getValue("dropRowHeight"),P.dropWidth=t.getValue("dropWidth"),P.dropBackground=t.getValue("dropBackground"),P.dropLabelFont=t.getValue("dropLabelFont"),P.dropLabelColor=t.getValue("dropLabelColor"),P.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),P.dropActiveBackground=t.getValue("dropActiveBackground"),P.dropHoverBackground=t.getValue("dropHoverBackground"),P.dropMaxHeight=t.getValue("dropMaxHeight"),P.onChange=t.getValue("onChange"),P.hideSelected=t.getValue("hideSelected"),P.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,u){var i=t.getValue("content"),o=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),c=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),d=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),y=t.getColor("borderColor"),b=t.getValue("borderWidth")||0,x=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),C=Xo(d),k=De(C,4),V=k[0],_=(k[1],k[2],k[3]),D=e.x+b/2,I=e.y+b/2,T=e.width-b,S=e.height-b,L=[D,I,T,S];if(h.save(),n)if(h.beginPath(),le===c){var P=T-10;h.moveTo(D,I),h.lineTo(D+T,I),h.lineTo(D+T,I+S-10),h.lineTo(D+P*l+10,I+S-10),h.lineTo(D+P*l+5,I+S),h.lineTo(D+P*l,I+S-10),h.lineTo(D,I+S-10),h.closePath(),L=[D,I,T,S-10]}else if(be===c){var B=S-10;h.moveTo(D+10,I),h.lineTo(D+T,I),h.lineTo(D+T,I+S),h.lineTo(D+10,I+S),h.lineTo(D+10,I+B*l+10),h.lineTo(D,I+B*l+5),h.lineTo(D+10,I+B*l),h.closePath(),L=[D+10,I,T-10,S]}else if(ye===c){var M=S-10;h.moveTo(D,I),h.lineTo(D+T-10,I),h.lineTo(D+T-10,I+M*l),h.lineTo(D+T,I+M*l+5),h.lineTo(D+T-10,I+M*l+10),h.lineTo(D+T-10,I+S),h.lineTo(D,I+S),h.closePath(),L=[D,I,T-10,S]}else{var R=T-10;h.moveTo(D+R*l,I+10),h.lineTo(D+R*l+5,I),h.lineTo(D+R*l+10,I+10),h.lineTo(D+T,I+10),h.lineTo(D+T,I+S),h.lineTo(D,I+S),h.lineTo(D,I+10),h.closePath(),L=[D,I+10,T,S-10]}else h.beginPath(),h.rect(D,I,T,S);if(ka(h,{borderWidth:b,borderColor:y,background:o,bgGradient:a,bgGradientColor:r,contentRect:L,dash:x,dashPattern:m}),o){var E;if(a)o=(E=ht.Default).createGradient.apply(E,[h,a,o,r].concat(Be(L)));h.fillStyle=o,h.fill()}if(y&&b&&(h.lineWidth=b,h.strokeStyle=y,h.stroke()),h.textAlign="left",i){i.length;var A=I+V+(c===ne?10:0);i.forEach(function(e,t){var r=D+_+(c===be?10:0),n=0,l=(i.length,[]);e.forEach(function(e,t){var i=Ca(e.text,s,u),o=zo(e.font||v,i);n=Math.max(n,o.height),l[t]=o.width}),e.forEach(function(e,t){var i=Ca(e.text,s,u),o=Ca(e.font,s,u)||v,a=Ca(e.vAlign,s,u)||w;h.fillStyle=Ca(e.color,s,u)||p,h.font=o,"top"===(h.textBaseline=a)?h.fillText(i,r,A):"middle"===a?h.fillText(i,r,A+n/2):h.fillText(i,r,A+n),r+=l[t]+f}),A+=g+n})}h.restore()},textBox:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),h=t.getValue("wordBreak"),s=t.getValue("vAlign"),u=t.getColor("color"),c=t.getValue("lineHeight"),d=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),y=t.getValue("borderWidth"),b=t.getValue("borderRadius"),x=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),C=t.getColor("bgGradientColor"),k=t.getValue("translateX"),V=t.getValue("translateY"),_=t.getColor("scrollBarColor"),D=t.getValue("scrollable"),I=t.getValue("autoHideScrollBar"),T=t.getValue("scrollBarWidth"),S=t.getValue("scrollBarWidthAbsolute"),L=Xo(g),P=De(L,4),B=P[0],M=P[1],R=P[2],E=P[3],A=Xo(b),O=De(A,4),H=O[0],W=O[1],F=O[2],N=O[3];if(i.beginPath(),Pa(i,e.x,e.y,e.width,e.height,H,W,N,F),i.closePath(),ka(i,{borderWidth:y,borderColor:p,dash:x,dashPattern:m,background:f,bgGradient:w,bgGradientColor:C,contentRect:[e.x,e.y,e.width,e.height]}),r&&o){i.save();var j=e.x,G=e.y,Y=j+E,z=G+B,X=parseInt(e.width)-E-M,U=parseInt(e.height)-B-R,K=qo(r,l,X,h);if(n&&K.length*c>U){var Z=X+"-"+U+l+c,$=Qe[Z];$=$||(Qe[Z]={});var q=0,J=0,Q=void 0,ee=void 0,te=void 0,ie=void 0,oe=void 0,ae=void 0;if(s="top",$&&$[r])ee=1/(Q=$[r]),ie=Q*c,ae=parseInt(X*ee),i.scale(Q,Q),K=qo(r,l,ae,h);else{for(;q<4;){if(ee=1/(Q=Math.sqrt(U/((K.length+J)*c))),ie=Q*c,ae=parseInt(X*ee),oe&&i.scale(oe,oe),i.scale(Q,Q),(te=qo(r,l,ae,h)).length*ie>U)J+=Math.ceil((te.length*ie-U)/ie+.5),oe=ee;else{if(!(te.length*ie<U&&Math.abs(U-te.length*ie)>2*ie)){K=te;break}J-=Math.floor((U-te.length*ie)/ie),oe=ee}4==++q&&(K=te)}$[r]=Q}Y=(j+E)*ee,z=(G+B)*ee,K.forEach(function(e,t){ht.Default.drawText(i,e,l,u,Y,z,ae,ie,d,s),z+=c})}else if(v&&(K.length+1)*c<U){var re=X+"-"+U+l+c,ne=Qe[re];ne=ne||(Qe[re]={});var le=0,he=void 0,se=void 0,ue=void 0,ce=void 0,de=void 0,ge=void 0;if(s="top",ne&&ne[r])se=1/(he=ne[r]),ce=he*c,ge=parseInt(X*se),i.scale(he,he),K=qo(r,l,ge,h);else{for(var fe=Math.sqrt(U/(K.length*c));le<4;){if(se=1/(he=fe),ce=he*c,ge=parseInt(X*se),de&&i.scale(de,de),i.scale(he,he),!((ue=qo(r,l,ge,h)).length*ce>U||ue.length*ce<U&&U-ue.length*ce>.8*ce)){K=ue;break}de=se,fe*=Math.sqrt(U/(ue.length*ce)),4==++le&&(K=ue)}ne[r]=he}Y=(j+E)*se,z=(G+B)*se,K.forEach(function(e,t){ht.Default.drawText(i,e,l,u,Y,z,ge,ce,d,s),z+=c})}else if(!n&&D){var ve=j+E,pe=G+B,ye=pe-c,be=pe+U+c;i.save(),i.beginPath(),i.rect(ve,pe,X,U),i.clip(),z+=V,K.forEach(function(e,t){ye<=z&&z<be&&ht.Default.drawText(i,e,l,u,Y,z,X,c,d,s),z+=c}),i.restore();var xe=sa(a,o,t),me=X,we=K.length*c,Ce=a.getZoom?a.getZoom():1,ke=S?T/Ce:T;xe&&(xe.translateX=k,xe.translateY=V),Lt(i,{x:Y,y:G+B,width:X,height:U},{width:me,height:we},{x:k,y:V},{visible:!I||xe.scrollBarVisible,color:_,gap:0,barWidth:ke},xe||{})}else"middle"===s?z+=(U-K.length*c)/2:"bottom"===s&&(z+=U-K.length*c),K.forEach(function(e,t){ht.Default.drawText(i,e,l,u,Y,z,X,c,d,s),z+=c});i.restore()}},textEllipsis:function(e,t,i,o,a){var r,n=i.getValue("content"),l=i.getValue("font"),h=i.getValue("align"),s=i.getValue("vAlign"),u=i.getColor("color"),c=i.getValue("padding"),d=i.getColor("background"),g=i.getColor("borderColor"),f=i.getValue("borderWidth"),v=i.getValue("borderRadius"),p=i.getValue("dash"),y=i.getValue("dashPattern"),b=i.getValue("bgGradient"),x=i.getColor("bgGradientColor"),m=Xo(c),w=De(m,4),C=w[0],k=w[1],V=w[2],_=w[3],D=Xo(v),I=De(D,4),T=I[0],S=I[1],L=I[2],P=I[3];e.beginPath(),Pa(e,t.x,t.y,t.width,t.height,T,S,P,L),e.closePath(),ka(e,{borderWidth:f,borderColor:g,dash:p,dashPattern:y,background:d,bgGradient:b,bgGradientColor:x,contentRect:[t.x,t.y,t.width,t.height]});for(var B=[t.x+_,t.y+C,t.width-_-k,t.height-C-V],M=B[2],R="",E=0;E<n.length;E++){R+=n[E];var A=zo(l,R+"...").width;if(A<=M&&E==n.length-1){n=R;break}if(M<A){n=(R=R.slice(0,R.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,u].concat(B,[h,s]))},verticalTextBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),h=t.getValue("padding"),s=t.getValue("startOnRight"),u=t.getColor("background"),c=t.getColor("borderColor"),d=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),y=t.getColor("bgGradientColor"),b=t.getValue("wordBreak"),x=t.getValue("vGap"),m=t.getValue("hGap"),w=Xo(h),C=De(w,4),k=C[0],V=C[1],_=C[2],D=C[3],I=Xo(g),T=De(I,4),S=T[0],L=T[1],P=T[2],B=T[3];if(o.beginPath(),Pa(o,e.x,e.y,e.width,e.height,S,L,B,P),o.closePath(),ka(o,{borderWidth:d,borderColor:c,dash:f,dashPattern:v,background:u,bgGradient:p,bgGradientColor:y,contentRect:[e.x,e.y,e.width,e.height]}),r){var M={x:e.x+D,y:e.y+k,width:e.width-D-V,height:e.height-k-_},R=M.x,E=M.y,A=M.width,O=function(e,g,f,v,p){var y=[];return e.split("\n").forEach(function(e){if(""===e&&(e=G),p)Array.prototype.push.apply(y,je(e,f,g,v));else{for(var t,i,o,a="",r=void 0,n=void 0,l="",h=0;h<e.length;h++){e.charAt(h).match(/[a-z|A-Z]/g)?a+="1":a+="2"}a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var s=0;s<a.length;s++){a.charAt(s).match(/\_/g)&&(e=Jo(e,s+1,"|"))}t=e.split("|"),i=a.split("_");for(var u=(o=zo(g,"图")).height/3,c=0,d=t.length;c<d;c++)r=l+t[c],u+=o.height*t[c].length+v,"1"===i[c][0]?f<u?(l?(y.push(l),l="",c--):(n=je(t[c],f,g,v),Array.prototype.push.apply(y,n.slice(0,n.length-1)),l=n[n.length-1]),u=o.height/3):u===f?(y.push(r),l="",u=o.height/3):l=r:f<u?(n=je(r,f,g,v),Array.prototype.push.apply(y,n.slice(0,n.length-1)),l=n[n.length-1],u=o.height/3):l=r;l&&y.push(l)}}),y}(r,n,M.height,x,b),H=zo(n,"图"),W=H.width,F=H.height,N=void 0,j=void 0;o.save(),o.fillStyle=l,o.textBaseline="top",o.font=n,s?(N=R+A-W,j=E,O.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,j),j+=x+F}j=E,N=N-W-m})):(N=R,j=E,O.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,j),j+=x+F}j=E,N+=W+m})),o.restore()}},tree:function(Me,Re,e,Ee,Ae){var t=e.getValue("dataSource"),Oe=e.getValue("itemHeight"),He=e.getValue("indent"),We=e.getValue("badgeHeight"),Fe=e.getValue("badgeSpace"),Ne=e.getValue("badgeRadius"),je=e.getValue("translateX"),Ge=e.getValue("translateY"),Ye=e.getValue("treeFont"),ze=e.getValue("badgeFont"),i=e.getColor("textColor"),Xe=e.getColor("hoverBackColor"),Ue=e.getColor("hoverTextColor"),Ke=e.getColor("selectBackColor"),Ze=e.getColor("selectTextColor"),o=e.getColor("backColor"),$e=e.getColor("borderColor"),a=e.getColor("lineColor"),r=e.getColor("scrollBarColor"),qe=e.getValue("showLine"),Je=e.getValue("showCheckbox"),Qe=e.getValue("showBorder"),et=e.getValue("showIcon"),tt=e.getValue("showBadge"),n=e.getValue("scrollable"),l=e.getValue("autoHideScrollBar"),h=e.getValue("scrollBarWidth"),s=e.getValue("scrollBarWidthAbsolute"),it=e.getValue("expandIconSize"),ot=e.getValue("iconSize"),at=e.getValue("checkIconSize"),rt=e.getValue("space"),nt=e.getValue("visibleFunc")||function(){return!0},lt=Et(e.getValue("openIcon")),ht=Et(e.getValue("closeIcon")),st=Et(e.getValue("loadingIcon")),ut=Et(e.getValue("defaultIcon")),ct=Et(e.getValue("checkIcon")),dt=Et(e.getValue("unCheckIcon")),gt=Et(e.getValue("unCheckAllIcon")),ft=void 0,vt=void 0,pt=void 0,yt=void 0,bt=void 0,xt=void 0,mt=void 0;lt||(lt=Et("ht.vector.treeOpenIcon"),ft=e.getColor("openIconColor")),ht||(ht=Et("ht.vector.treeCloseIcon"),vt=e.getColor("closeIconColor")),st||(st=Et("ht.vector.treeLoadIcon"),pt=e.getColor("loadingIconColor")),ut||(ut=Et("ht.vector.treeDefIcon"),yt=e.getColor("defaultIconColor")),ct||(ct=Et("ht.vector.treeCheckIcon"),bt=e.getColor("checkIconColor")),dt||(dt=Et("ht.vector.treeUnCheckIcon"),xt=e.getColor("unCheckIconColor")),gt||(gt=Et("ht.vector.treeUnCheckAllIcon"),mt=e.getColor("unCheckAllIconColor"));var wt=Re.x,Ct=Re.y,kt=Re.width,u=Re.height,Vt=0,_t=0,Dt=Mt({showCheckbox:Je,showIcon:et,expandIconSize:it,iconSize:ot,checkIconSize:at,space:rt}),c=sa(Ae,Ee,e),d=null;if(c){c.rootTree?(d=c.rootTree).clearExitChildsMap():(d=new E(Ee),c.rootTree=d);for(var g=0,f=t.length;g<f;g++){var v=t[g];v&&Bt(v,d)}d.traverseChildsMap(function(e,t){t.parent.removeChildren(t)}),d.clearChildsMap(),d.traverseExitChildsMap(function(e,t){d.addChildsMapById(e,t),Je&&t.checked&&(t.checkAfter(),t.checkBefore())})}if(d){Me.save(),Me.fillStyle=o,Me.beginPath(),Me.fillRect(wt,Ct,kt,u),Me.fill(),Me.restore(),Me.save(),Me.font=Ye,Me.fillStyle=i,Me.strokeStyle=a,Me.setLineDash([1,1]),Me.lineWidth=.5,Me.lineJoin="miter",Me.textBaseline="middle",Me.textAlign="start",Me.beginPath(),Me.rect(wt,Ct,kt,u),Me.clip();for(var p=d.children,It=null,Tt={expandIconRects:[],treeBackRects:[],checkIconRects:[],badgeRects:[]},y=0,b=p.length;y<b;y++)St(p[y]);Me.restore();var x=Ae.getZoom?Ae.getZoom():1,m=s?h/x:h,w=Vt+m,C=_t;if(kt<Vt-2&&(C=_t+m),c&&(c.translateX=je,c.translateY=Ge,c.rectInfo=Tt,c.scrollBarInfo={x:wt,y:Ct,width:kt,height:u,boundWidth:w,boundHeight:C,absoluteScrollBarWidth:m},c.autoHideScrollBar=l,c.accordion=e.getValue("accordion"),c.multiSelect=e.getValue("multiSelect"),c.loadData=e.getValue("loadData")||function(e,t){return t()},c.onCheck=e.getValue("onCheck")||function(){},c.onExpand=e.getValue("onExpand")||function(){},c.onSelect=e.getValue("onSelect")||function(){},c.onClickBack=e.getValue("onClickBack")||function(){},c.onClickBadge=e.getValue("onClickBadge")||function(){},c.selectableFunc=e.getValue("selectableFunc")||function(){return!0},c.expandableFunc=e.getValue("expandableFunc")||function(){return!0},c.checkableFunc=e.getValue("checkableFunc")||function(){return!0}),n){var k={x:wt,y:Ct,width:kt,height:u},V={width:w,height:C},_={x:je,y:Ge};C<u&&0!==Ge&&(V.height=u-Ge),Lt(Me,k,V,_,{visible:!l||c.scrollBarVisible,color:r,gap:0,barWidth:m},c||{})}}function St(e){if(nt(e)){var t=e.text,i=e.parent,o=zo(Ye,t).width,a=i._treeItemRect;e._treeItemRect={x:a?a.x+He:wt+je+He,y:It?It._treeItemRect.y+Oe:Ct+Ge,width:o+Dt,height:Oe};var r=e.text,n=e.children,l=e.expanded,h=e.selected,s=e.disabled,u=e.isLeaf,c=e.icon,d=e.badges,g=e._checkStatus,f=e._isLoading,v=e._isHovering,p=e._treeItemRect,y=function(e,t,i){var o=i.showCheckbox,a=i.showIcon,r=i.expandIconSize,n=i.iconSize,l=i.checkIconSize,h=i.space,s=Mt(i),u=e.x,c=e.y,d=e.width,g=e.height,f={x:u,y:c+(g-r)/2,width:r,height:r},v={x:f.x+r+h,y:c+(g-l)/2,width:l,height:l},p={x:null,y:c+(g-n)/2,width:n,height:n},y={x:null,y:c,width:d-s,height:g},b={x:t.x,y:c,width:t.width,height:g};return p.x=o?v.x+l+h:f.x+r+h,y.x=a?p.x+n+h:p.x,{expandIconRect:f,checkIconRect:v,iconRect:p,textRect:y,backRect:b}}(p,Re,{showCheckbox:Je,showIcon:et,expandIconSize:it,iconSize:ot,checkIconSize:at,space:rt}),b=y.expandIconRect,x=y.checkIconRect,m=y.iconRect,w=y.textRect,C=y.backRect;if(e._elementRect=y,It=e,_t+=Oe,Vt=Math.max(Vt,w.x-je+o),Ke&&h&&At(Re,C)){var k=C.x,V=C.y,_=C.width,D=C.height;Me.save(),Me.fillStyle=Ke,Me.fillRect(k,V,_,D),Me.restore()}if(At(Re,p)){if(Xe&&v){var I=C.x,T=C.y,S=C.width,L=C.height;Me.save(),Me.fillStyle=Xe,Me.fillRect(I,T,S,L),Me.restore()}if(Ke&&h){var P=C.x,B=C.y,M=C.width,R=C.height;Me.save(),Me.fillStyle=Ke,Me.fillRect(P,B,M,R),Me.restore()}if(!u){var E=b.x,A=b.y,O=b.width,H=b.height,W=void 0,F=void 0;F=f?(W=st,pt):l?(W=ht,vt):(W=lt,ft),Rt(Me,W,"fill",E,A,O,H,Ee,Ae,F),Tt.expandIconRects.push({treeItem:e,expandIconRect:b})}if(Je){var N=x.x,j=x.y,G=x.width,Y=x.height,z=void 0,X=void 0;X="check"===g?(z=ct,bt):"unCheckAll"===g?(z=gt,mt):(z=dt,xt),Rt(Me,z,"fill",N,j,G,Y,Ee,Ae,X),Tt.checkIconRects.push({treeItem:e,checkIconRect:x})}if(et){var U=m.x,K=m.y,Z=m.width,$=m.height,q=void 0,J=void 0;c?q=Et(c):(q=ut,J=yt),Rt(Me,q,"fill",U,K,Z,$,Ee,Ae,J)}if(Qe){var Q=C.x,ee=C.y,te=C.width,ie=C.height;Me.save(),Me.strokeStyle=$e,Me.setLineDash([]),Me.beginPath(),Me.strokeRect(Q+.25,ee+.25,te-.5,ie),Me.stroke(),Me.restore()}if(tt&&0<d.length){var oe=kt,ae=C.y+(C.height-We)/2;Me.save(),Me.font=ze,Me.textAlign="center",Me.fillStyle="#777777",Me.strokeStyle="white",Me.lineWidth=1,Me.setLineDash([]);for(var re=0,ne=d.length;re<ne;re++){var le=d[re],he=le.text,se=le.textColor,ue=le.backColor,ce=zo(ze,he).width;oe-=(ce+=2*Ne)+Fe,ue&&(Me.fillStyle=ue),Me.beginPath(),Pa(Me,oe,ae,ce,We,Ne),Me.closePath(),Me.fill(),se&&(Me.strokeStyle=se),Me.strokeText(he,oe+ce/2,ae+We/2),Me.stroke(),Tt.badgeRects.push({treeItem:e,info:le,badgeRect:{x:oe,y:ae,width:ce,height:We}})}Me.restore()}if(qe){var de=function(e,t){return e?"checkIconRect":t?"iconRect":"textRect"}(Je,et),ge=Pt(y[de]).leftMiddle,fe=Pt(b),ve=fe.rightMiddle,pe=fe.topMiddle,ye=fe.middleMiddle;Me.beginPath(),u?Me.moveTo(ye.x,ye.y):Me.moveTo(ve.x,ve.y),Me.lineTo(ge.x,ge.y);var be=e.getPreVisibleSibling(nt);if(be){var xe=be._elementRect,me=be.isLeaf,we=xe.expandIconRect,Ce=Pt(we),ke=Ce.bottomMiddle,Ve=Ce.middleMiddle;me?Me.moveTo(Ve.x,Ve.y):Me.moveTo(ke.x,ke.y),u?Me.lineTo(ye.x,ye.y):Me.lineTo(pe.x,pe.y)}else{var _e=e.parent._elementRect;if(_e){var De=Pt(_e[de]).bottomMiddle;Me.moveTo(ye.x,De.y),u?Me.lineTo(ye.x,ye.y):Me.lineTo(pe.x,pe.y)}}Me.stroke()}if(h&&Ze?(Me.save(),Me.fillStyle=Ze,Me.fillText(r,w.x,w.y+Oe/2),Me.restore()):v&&Ue?(Me.save(),Me.fillStyle=Ue,Me.fillText(r,w.x,w.y+Oe/2),Me.restore()):Me.fillText(r,w.x,w.y+Oe/2),s){var Ie=C.x,Te=C.y,Se=C.width,Le=C.height;Me.save(),Me.fillStyle="rgba(192, 192, 192, 0.5)",Me.fillRect(Ie,Te,Se,Le),Me.restore()}Tt.treeBackRects.push({treeItem:e,backRect:C})}if(l)for(var Pe=0,Be=n.length;Pe<Be;Pe++)St(n[Pe])}}},chart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),c=i.getValue("rectSelectBorderColor"),d=i.getValue("rectSelectBackground"),g=(i.getValue("maxVisiblePoint"),i.getValue("endProtectPoint"),i.getValue("boundaryGap")),f={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor")};if(r&&r.length){var v={color:h&&h.length?h:co,xAxis:ro(n,lo),yAxis:ro(l,no),series:r,tooltip:f,onRectSelected:u,rectSelectBorderColor:c,rectSelectBackground:d},p={data:o,view:a,boundaryGap:g,rect:e,contentRect:mo(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:Ca(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(v.xAxis.forEach(function(e){e._axisObj=new vo(e,v,p)}),v.yAxis.forEach(function(e){e._axisObj=new yo(e,v,p)}),ao(v,p),o){var y=sa(a,o,i);if(y){var b=y;p.hoverIndex=b.hoverIndex,p._dragging=b._dragging,p.rectPoint1=b.rectPoint1,p.rectPoint2=b.rectPoint2,b._dragging&&b.rectPoint1&&b.rectPoint2&&(p.selectRect=wo(b.rectPoint1,b.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),v.xAxis.forEach(function(e){e._axisObj.draw(t)}),v.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(a,r,n){var e=r.series,t=n.interactiveInfo.axisInfos=r.xAxis.map(function(e){return e._axisObj.axisInfos.map(function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barCategoryGap=null,e.forEach(function(e,t){"bar"===e.type&&!1!==e.visible&&(n.barSeries.push(e),Ta(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),e.forEach(function(e,t){var i=e.type,o=void 0;"line"===i?o=io:"bar"===i&&(o=oo),o&&o(a,e,t,r,n)}),void 0!==n.hoverIndex){var i=t[0][n.hoverIndex].position,o=n.bounds.bodyRect;a.strokeStyle=r.tooltip.lineColor,a.lineWidth=r.tooltip.lineWidth,a.beginPath(),a.moveTo(i,o.y),a.lineTo(i,o.y+o.height),a.stroke(),n._hoverHandlers&&n._hoverHandlers.forEach(function(e){e()})}}(t,v,p),p.selectRect){var x=p.selectRect,m=x.x,w=x.y,C=x.width,k=x.height;t.fillStyle=d,t.fillRect(m,w,C,k),t.strokeStyle=c,t.strokeRect(m,w,C,k)}if(o){var V=sa(a,o,i);V.ui=p,V.option=v}}},radioButton:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("values")||[],l=i.getValue("labels")||[],h=i.getValue("borderWidth"),s=i.getValue("borderRadius"),u=i.getValue("font"),c=i.getColor("labelColor"),d=i.getColor("borderColor"),g=i.getColor("background"),f=i.getColor("hoverLabelColor"),v=i.getColor("hoverBorderColor"),p=i.getColor("hoverBackground"),y=i.getColor("activeLabelColor"),b=i.getColor("activeBorderColor"),x=i.getColor("activeBackground"),m=i.getColor("disabledLabelColor"),w=i.getColor("disabledBorderColor"),C=i.getColor("disabledBackground"),k=i.getValue("vertical"),V=i.getValue("onChange"),_=i.getValue("disabled"),D=sa(a,o,i),I=t.x,T=t.y,S=t.width,L=t.height,P=Math.min(n.length,l.length);if(P){if(tt=it=null,Ta(r)){var B=n.indexOf(r);it=0<=B?B:null}D&&Ta(D.hoverIndex)&&(tt=D.hoverIndex);for(var M=[],R=0;R<P;R++)R!==tt&&R!==it&&M.push(R);Ta(tt)&&tt===it?M.push(tt):(Ta(it)&&M.push(it),Ta(tt)&&M.push(tt));var E,A,O,H,W,F,N,j,G,Y,z,X,U,K,Z,$,q,J,Q,ee,te,ie,oe,ae,re,ne,le,he,se=[];if(k)for(var ue=L/P,ce=0;ce<M.length;ce++){var de=M[ce],ge=l[de],fe={x:I,y:T+de*ue,width:S,height:ue};se.push({rect:fe,index:de});var ve=Ge(de,_,c,f,y,m),pe=Ge(de,_,d,v,b,w),ye=Ge(de,_,g,p,x,C);Z=e,$=fe,q=Ye(de,P),J=s,Q=ge,ee=u,te=ve,ie=h,oe=pe,ae=ye,void 0,re=$.x,ne=$.y,le=$.width,he=$.height,Z.save(),Z.beginPath(),0===q?Pa(Z,re,ne,le,he,J,J,0,0):1===q?Pa(Z,re,ne,le,he,0):2===q?Pa(Z,re,ne,le,he,0,0,J,J):Pa(Z,re,ne,le,he,J),Z.closePath(),ae&&(Z.fillStyle=ae,Z.fill()),oe&&ie&&(Z.strokeStyle=oe,Z.stroke()),Z.clip(),et(Z,Q,ee,te,re,ne,le,he,"center","middle"),Z.restore()}else for(var be=S/P,xe=0;xe<M.length;xe++){var me=M[xe],we=l[me],Ce={x:I+be*me,y:T,width:be,height:L};se.push({rect:Ce,index:me});var ke=Ge(me,_,c,f,y,m),Ve=Ge(me,_,d,v,b,w),_e=Ge(me,_,g,p,x,C);E=e,A=Ce,O=Ye(me,P),H=s,W=we,F=u,N=ke,j=h,G=Ve,Y=_e,void 0,z=A.x,X=A.y,U=A.width,K=A.height,E.save(),E.beginPath(),0===O?Pa(E,z,X,U,K,H,0,H,0):1===O?Pa(E,z,X,U,K,0):2===O?Pa(E,z,X,U,K,0,H,0,H):Pa(E,z,X,U,K,H),E.closePath(),Y&&(E.fillStyle=Y,E.fill()),G&&j&&(E.strokeStyle=G,E.stroke()),E.clip(),et(E,W,F,N,z,X,U,K,"center","middle"),E.restore()}D&&(D.disabled=_,D.onChange=V,D.buttonRects=se,D.values=n)}},carousel:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),h=i.getValue("vertical"),s=i.getValue("index"),u=i.getValue("gap"),c=i.getValue("itemWidth"),d=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),y=i.getValue("drawItem"),b=i.getValue("animation"),x=i.getValue("onClickItem"),m=sa(a,o,i),w=t.x,C=t.y,k=t.width,V=t.height,_=s%1;if(s|=0,p&&(e.fillStyle=p,e.fillRect(w,C,k,V)),r&&r.length){var D,I,T=1-l,S=[],L=void 0;if(D=(1-n)/(L=h?ze(d,V,u,n):ze(c,k,u,n)),I=T/L,e.save(),e.beginPath(),e.rect(w,C,k,V),e.clip(),h){for(var P=w+k/2,B=C+V/2-d/2-u-_*d,M=0;M<L;M++){var R=n+D*(L-M-1-_),E=l+I*(L-M-1-_),A=s-M-1;if(A<0||A>=r.length)break;var O=r[A],H=[(P-c*R/2)/R,(B-=d*R)/R,c,d];e.save(),e.globalAlpha=E,e.scale(R,R),y?y(e,O,la(H),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,H)),La.apply(void 0,[e,O,v,f].concat(H,[ge,fe]))),e.restore(),B-=u,S.push({index:A,rect:{x:H[0]*R,y:H[1]*R,width:H[2]*R,height:H[3]*R}})}B=C+V/2+d/2+u-_*(d+u);for(var W=0;W<L;W++){var F=n+D*(L-W-1+_),N=l+I*(L-W-1+_),j=s+W+1;if(j<0||j>=r.length)break;var G=r[j],Y=[(P-c*F/2)/F,B/F,c,d];e.save(),e.globalAlpha=N,e.scale(F,F),y?y(e,G,la(Y),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Y)),La.apply(void 0,[e,G,v,f].concat(Y,[ge,fe]))),e.restore(),B+=d*F+u,S.push({index:j,rect:{x:Y[0]*F,y:Y[1]*F,width:Y[2]*F,height:Y[3]*F}})}B=C+V/2-d/2-_*d;var z=r[s];if(z){var X=1-D*_,U=1-I*_,K=[(P-c*X/2)/X,B/X,c,d];e.save(),e.globalAlpha=U,e.scale(X,X),y?y(e,z,la(K),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,K)),La.apply(void 0,[e,z,v,f].concat(K,[ge,fe]))),e.restore(),S.push({index:s,rect:{x:K[0]*X,y:K[1]*X,width:K[2]*X,height:K[3]*X}})}}else{for(var Z=C+V/2,$=w+k/2-c/2-u-_*c,q=0;q<L;q++){var J=n+D*(L-q-1-_),Q=l+I*(L-q-1-_),ee=s-q-1;if(ee<0||ee>=r.length)break;var te=r[ee],ie=[($-=c*J)/J,(Z-d*J/2)/J,c,d];e.save(),e.globalAlpha=Q,e.scale(J,J),y?y(e,te,la(ie),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ie)),La.apply(void 0,[e,te,v,f].concat(ie,[ge,fe]))),e.restore(),$-=u,S.push({index:ee,rect:{x:ie[0]*J,y:ie[1]*J,width:ie[2]*J,height:ie[3]*J}})}$=w+k/2+c/2+u-_*(c+u);for(var oe=0;oe<L;oe++){var ae=n+D*(L-oe-1+_),re=l+I*(L-oe-1+_),ne=s+oe+1;if(ne<0||ne>=r.length)break;var le=r[ne],he=[$/ae,(Z-d*ae/2)/ae,c,d];e.save(),e.globalAlpha=re,e.scale(ae,ae),y?y(e,le,la(he),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,he)),La.apply(void 0,[e,le,v,f].concat(he,[ge,fe]))),e.restore(),$+=c*ae+u,S.push({index:ne,rect:{x:he[0]*ae,y:he[1]*ae,width:he[2]*ae,height:he[3]*ae}})}$=w+k/2-c/2-_*c;var se=r[s];if(se){var ue=1-D*_,ce=1-I*_,de=[$/ue,(Z-d*ue/2)/ue,c,d];e.save(),e.globalAlpha=ce,e.scale(ue,ue),y?y(e,se,la(de),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,de)),La.apply(void 0,[e,se,v,f].concat(de,[ge,fe]))),e.restore(),S.push({index:s,rect:{x:de[0]*ue,y:de[1]*ue,width:de[2]*ue,height:de[3]*ue}})}}e.restore(),m&&(m.itemInfos=S,m.index=s,m.animation=b,m.dataSource=r,m.onClickItem=x,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),h=i.getValue("itemWidth"),s=i.getValue("itemHeight"),u=i.getColor("itemBackground"),c=i.getColor("itemColor"),d=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(sa(a,o,i),t.x),y=t.y,b=t.width,x=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,y,b,x)),r&&r.length){e.save(),e.beginPath(),e.rect(p,y,b,x),e.clip();var m=r.length;if(n){var w=s+l,C=y+v,k=p+(b-h)/2,V=0;if((C%=w*r.length)<=y)for(;;){if(Ea({x:k,y:C,width:h,height:s},t))break;V++,C+=w}else if(y<C)for(;;){if(!Ea({x:k,y:C,width:h,height:s},t)&&C<y){C+=w,V++;break}C-=w,V--}for(;;){var _={x:k,y:C,width:h,height:s};if(!Ea(_,t))break;var D,I=V%m;I<0&&(I=m+V),D=r[I],f?f(e,D,_,o,a):(u&&(e.fillStyle=u,e.fillRect(k,C,h,s)),La(e,D,d,c,k,C,h,s,ge,fe)),C+=w,V++}}else{var T=h+l,S=y+(x-s)/2,L=p+v,P=0;if((L%=T*r.length)<=p)for(;;){if(Ea({x:L,y:S,width:h,height:s},t))break;P++,L+=T}else if(p<L)for(;;){if(!Ea({x:L,y:S,width:h,height:s},t)&&L<p){L+=T,P++;break}L-=T,P--}for(;;){var B={x:L,y:S,width:h,height:s};if(!Ea(B,t))break;var M,R=P%m;R<0&&(R=m+P),M=r[R],f?f(e,M,B,o,a):(u&&(e.fillStyle=u,e.fillRect(L,S,h,s)),La(e,M,d,c,L,S,h,s,ge,fe)),L+=T,P++}}e.restore()}},timeAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),c=i.getValue("rectSelectBorderColor"),d=i.getValue("rectSelectBackground"),g=i.getValue("maxVisiblePoint"),f=i.getValue("endProtectPoint"),v=i.getValue("xAxisRange"),p={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern")};if(r&&r.length){var y={color:h&&h.length?h:defaultColors,xAxis:ro(n,Co),yAxis:ro(l,no),series:r,tooltip:p,onRectSelected:u,rectSelectBorderColor:c,rectSelectBackground:d},b={data:o,view:a,maxVisiblePoint:g,endProtectPoint:f,xAxisRange:v,rect:e,contentRect:Da(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:Ca(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(y.xAxis.forEach(function(e){e._axisObj=new ko(e,y,b)}),y.yAxis.forEach(function(e){e._axisObj=new yo(e,y,b)}),ao(y,b),o){var x=sa(a,o,i);if(x){var m=x;b.hoverTime=m.hoverTime,b._dragging=m._dragging,b.rectPoint1=m.rectPoint1,b.rectPoint2=m.rectPoint2,m._dragging&&m.rectPoint1&&m.rectPoint2&&(b.selectRect=Ma(m.rectPoint1,m.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),y.xAxis.forEach(function(e){e._axisObj.draw(t)}),y.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){if(o.series.forEach(function(e,t){"line"===e.type&&_o(i,e,t,o,a)}),void 0!==a.hoverTime){var e=o.xAxis[0]._axisObj.timeRange,t=e[0],r=e[1]-t,n=a.bounds.bodyRect,l=n.x,h=n.y,s=n.width,u=n.height,c=l+(a.hoverTime-t)/r*s,d=o.tooltip,g=d.lineColor,f=d.lineWidth,v=d.pattern;i.strokeStyle=g,i.lineWidth=f,v&&i.setLineDash(v),i.beginPath(),i.moveTo(c,h),i.lineTo(c,h+u),i.stroke(),a._hoverHandlers&&a._hoverHandlers.forEach(function(e){e()})}}(t,y,b),b.selectRect){var w=b.selectRect,C=w.x,k=w.y,V=w.width,_=w.height;t.fillStyle=d,t.fillRect(C,k,V,_),t.strokeStyle=c,t.strokeRect(C,k,V,_)}if(o){var D=sa(a,o,i);D.ui=b,D.option=y}}},pagination:function(s,e,t,u,c){var d=t.getValue("current"),i=t.getValue("pageSize"),o=t.getValue("total"),a=t.getValue("align"),r=t.getValue("itemWidth"),g=t.getValue("itemHeight"),f=t.getValue("gap"),v=t.getColor("labelColor"),p=t.getColor("background"),y=t.getValue("borderWidth"),b=t.getColor("borderColor"),x=t.getValue("borderRadius"),m=t.getValue("font"),w=t.getColor("hoverLabelColor"),C=t.getColor("hoverBorderColor"),k=t.getColor("hoverBackground"),V=t.getColor("activeLabelColor"),_=t.getColor("activeBorderColor"),D=t.getColor("activeBackground"),I=t.getColor("disabledLabelColor"),T=t.getColor("disabledBorderColor"),S=t.getColor("disabledBackground"),L=t.getColor("disabledActiveLabelColor"),P=t.getColor("disabledActiveBorderColor"),B=t.getColor("disabledActiveBackground"),n=t.getColor("showFirstAndLast"),l=t.getValue("disabled"),h=u?sa(c,u,t):{},M=e.x,R=e.y,E=e.width,A=e.height;if(o){for(var O=Math.ceil(o/i),H=7<O,W=H&&4<d,F=H&&d<=O-4,N=1<d,j=d<O,G=[],Y=0;Y<O;Y++)H?((0===Y||Y===O-1||Math.abs(Y+1-d)<=2||!W&&Y<5||!F&&O-5<Y)&&G.push({label:Y+1,isDisabled:!!l}),1===Y&&W&&G.push({label:we,isDisabled:!!l}),Y===O-2&&F&&G.push({label:Ce,isDisabled:!!l})):G.push({label:Y+1,isDisabled:!!l});G.unshift({label:xe,isDisabled:!N||l}),n&&G.unshift({label:ke,isDisabled:!N||l}),G.push({label:me,isDisabled:!j||l}),n&&G.push({label:Ve,isDisabled:!j||l});var z=h.hoverLabel;if(ye===a)for(var X=M+E-y/2,U=R+(A-g)/2,K=G.length-1;0<=K;K--){var Z=(ne=G[K]).label,$=ne.isDisabled,q=zo(m,Z),J={x:X-=le=0<=at.indexOf(Z)?r:Math.max(r,q.width),y:U,width:le,height:g},Q={active:d===Z,hover:z===Z,disabled:$},ee=Ue(Q,v,w,V,I,L),te=Ue(Q,b,C,_,T,P),ie=Ue(Q,p,k,D,S,B);Xe(s,J,Z,m,ee,te,x,y,ie,Q,u,c),X-=f,ne.rect=J}else if(be===a)for(var oe=M+y/2,ae=R+(A-g)/2,re=0;re<G.length;re++){Z=(ne=G[re]).label,$=ne.isDisabled,q=zo(m,Z);var ne,le,he={x:oe,y:ae,width:le=0<=at.indexOf(Z)?r:Math.max(r,q.width),height:g},se={active:d===Z,hover:z===Z,disabled:$},ue=Ue(se,v,w,V,I,L),ce=Ue(se,b,C,_,T,P),de=Ue(se,p,k,D,S,B);Xe(s,he,Z,m,ue,ce,x,y,de,se,u,c),oe+=le+f,ne.rect=he}else{var ge=0,fe=R+(A-g)/2,ve=[],pe=void 0;G.forEach(function(e){var t=e.label,i=(e.isDisabled,zo(m,t)),o=0<=at.indexOf(t)?r:Math.max(r,i.width);ge+=o,ve.push(o)}),ge+=(G.length-1)*f,pe=M+E/2-ge/2,G.forEach(function(e,t){var i=e.label,o=e.isDisabled,a={x:pe,y:fe,width:ve[t],height:g},r={active:d===i,hover:z===i,disabled:o},n=Ue(r,v,w,V,I,L),l=Ue(r,b,C,_,T,P),h=Ue(r,p,k,D,S,B);Xe(s,a,i,m,n,l,x,y,h,r,u,c),pe+=a.width+f,e.rect=a})}u&&(h.itemList=G,h.totalPage=O,h.current=d,h.disabled=l,h.onChange=t.getValue("onChange"))}},gantt:function(v,e,t,i,o){var a=t.getValue("dataSource"),n=t.getValue("font"),r=t.getValue("xAxisStart"),l=t.getValue("xAxisEnd"),h=t.getValue("xAxisGroup"),s=t.getValue("xAxisLabelType"),u=(t.getValue("xAxisLabelLayout"),t.getValue("yAxisPercent")),c=t.getValue("overflow"),d=t.getValue("tipShow"),g=t.getValue("yAxisTipShow"),f=t.getValue("xAxisTipShow"),p=t.getValue("seriesTipShow"),y=t.getValue("barColorGradient"),b=t.getColor("backgroundColor"),x=t.getColor("yAxisLabelColor"),m=t.getColor("xAxisLabelColor"),w=t.getColor("barColor"),C=t.getColor("columnColors"),k=sa(o,i,t),V=e.x,_=e.y,D=e.width,I=e.height,T={tipInfoList:[]};if(v.font=n,v.textAlign="left",v.textBaseline="top",b&&(v.fillStyle=b,v.fillRect(V,_,D,I)),a&&0!==a.length){var S=new Date(r),L=new Date(l),P=(1-u)*D,B=L-S,M=B/(h-1),R=P/h,E=I/(a.length+1),A=D-P;v.fillStyle=m;for(var O=0;O<h;O++){var H=new Date(S.getTime()+M*O),W=V+A+O*R,F=_+.5*E-.3*zo(n,H).height,N=Oa(H,"YYYY-MM-DD hh:mm:ss");switch(s){case 0:H=Oa(H,"YYYY-MM-DD hh:mm:ss");break;case 1:H=Oa(H,"YYYY-MM-DD");break;case 2:H=Oa(H,"DD");break;case 3:H=Oa(H,"hh:mm:ss");break;default:H=Oa(H,"YYYY-MM-DD hh:mm:ss")}if(v.fillText(H,W,F),f){var j={x:W,y:F-4,width:zo(n,H).width,height:zo(n,H).height,name:N};T.tipInfoList.push(j)}}v.fillStyle=x,a.forEach(function(e,t){var i=V+2,o=_+(t+1)*E-.3*zo(n,e.name).height+.5*E,a=e.name;if(c&&zo(n,e.name).width>u*D&&(a=Ya(a,n,u*D,"...")),0<C.length&&(v.fillStyle=C[t%C.length],v.fillRect(V,_+E+t*E,D,E)),v.fillStyle=x,v.fillText(a,i,o),g){var r={x:i,y:o,width:zo(n,e.name).width,height:zo(n,e.name).height,name:e.name};T.tipInfoList.push(r)}}),a.forEach(function(e,t){var i=new Date(e.start),o=new Date(e.end),a=P*((o-i)/B),r=.6*E,n=V+A+(i-S)/B*P,l=_+(t+1)*E+(E-r)/2,h=8<a?4:0,s=a-2*h,u=r-8,c=n+h,d=_+(t+1)*E+(E-u)/2;v.strokeStyle=w,Pa(v,n,l,a,r,8),v.stroke();var g=v.createLinearGradient(c,_,c+s,_);if(g.addColorStop(0,"rgba(255,255,255,0)"),g.addColorStop(1,w),v.fillStyle=y?g:w,v.beginPath(),Pa(v,c,d,s,u,5),v.closePath(),v.fill(),p){var f={x:n,y:l,width:a,height:r,start:e.start,end:e.end,name:e.name,text:e.start+"~"+e.end};T.tipInfoList.push(f)}}),k&&(k.tipInfoList=T.tipInfoList,k.tipShow=d)}}},pieInteractor:new Oo,buttonInteractor:new bt,inputInteractor:new ut,textAreaInteractor:new lt,radioInteractor:new mt,checkboxInteractor:new Ct,colorPickerInteractor:new jt,dateTimePickerInteractor:new Yt,comboBoxInteractor:new ii,tableInteractor:new ri,sliderInteractor:new si,rangeSliderInteractor:new di,multipleComboBoxInteractor:new vi,treeInteractor:new Vi,chartInteractor:new Ii,inputNumberInteractor:new ft,dateRangePickerInteractor:new Si,radioButtonInteractor:new Bi,carouselInteractor:new Hi,timeAxisChartInteractor:new Gi,carouselInteractor2:new Fi,paginationInteractor:new Zi,ganttInteractor:new zi,textBoxInteractor:new qi,Color:y,ListView:qt,ListDropDown:Qt,getVectorInfo:sa,caluMultilineSize:function(e,t){var i=e.a("ht.content"),o=e.a(f.FONT),a=e.a(f.LINE_HEIGHT),r=e.a(f.PADDING),n=Xo(r),l=De(n,4),h=l[0],s=l[1],u=l[2],c=l[3],d=i.split(/\n/),g=0;return d.forEach(function(e){var t=zo(o,e);g=Math.max(g,t.width)}),{width:g+c+s,height:d.length*a+h+u}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),o=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),u=Xo(i),c=De(u,4),d=c[0],g=c[1],f=c[2],v=c[3]+g+t,p=d+f+t;o&&(a===be||a===ye?v+=10:p+=10);var y=0,b=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*h;e.forEach(function(e,t){var i=Ca(e.text,n,l),o=zo(e.font||s,i);a=Math.max(a,o.height),r+=o.width}),y=Math.max(y,r),b+=a}),b+=(e.length-1)*r),{width:v+=y,height:p+=b}}},Xa="0.0.6";return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),za.openColorDropDown=Tt,za.openDateTimeDropDown=Ht,za.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP);if(t)n[t]=ta(e);else if(i&&!n[f.FORM_ITEM_GROUP])if(e.__inputType===x)for(var o=0;o<l.length;o++){var a=l.get(o);if(i===a.a(f.FORM_ITEM_GROUP)&&a.a(f.CHECKED)){n[i]=ta(a);break}}else if(e.__inputType===C){var r=[];l.each(function(e){i===e.a(f.FORM_ITEM_GROUP)&&e.a(f.CHECKED)&&r.push(ta(e))}),n[i]=r}}),n},za.selectFile=oa,za.getVersion=function(){return Xa},za}();
