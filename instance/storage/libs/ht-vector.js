this.ht=this.ht||{},this.ht.vector=function(){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ne="top",le="bottom",xe="right",ye="left",ge="center",fe="middle",s="multiple",h="single",b="radio",k="checkbox",_="x",X="y",Y="HT2018-11",p="category",B="time",I="bar",D="line",be="Previous",me="Next",we="Previous Jump",ke="Next Jump",Ce="First",Ve="Last",_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ae=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},i=ht.Default,Z=i.drawText,$=i.drawStretchImage,q=i.getImage,J=[2,8];var a=ht.Default,re=a.drawText,se=a.drawStretchImage,he=a.getImage;a.darker;var De={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ee=ht.Default.drawText;var f={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"};var c=/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/,d=/^[rR][gG][Bb][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?))\)$/,g=/^[rR][gG][Bb][Aa][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){3}(0\.\d{1,22}|1|0)?[\)]{1}$/,v=(e(r,[{key:"setColor",value:function(e,t,i,o){if(e&&!t)if(e=e.replace(/\s+/g,""),c.test(e))4===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[3],16),this.b=parseInt(e[3]+e[3],16)):7===e.length&&(this.r=parseInt(e.substring(1,3),16),this.g=parseInt(e.substring(3,5),16),this.b=parseInt(e.substring(5,7),16));else if(d.test(e)){var a=(e=e.replace(/[rRgGbB\(\)\s]*/g,"")).split(",");this.r=parseInt(a[0]),this.g=parseInt(a[1]),this.b=parseInt(a[2])}else if(g.test(e)){var r=(e=e.replace(/[rRgGbBaA\(\)\s]*/g,"")).split(",");this.r=parseInt(r[0]),this.g=parseInt(r[1]),this.b=parseInt(r[2]),this.a=parseFloat(r[3])}}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"rgb("+e+", "+t+", "+i+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,i=this.b,o=this.a;return null!==e&&null!==t&&null!==i?"rgba("+e+", "+t+", "+i+", "+(null===o?1:o.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(i):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),r);function r(e,t,i,o){l(this,r),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,o)}var x=ht.Default,N=x.drawText,G=x.drawStretchImage,z=x.getImage,U="#ffffff",K="#cccccc",Q=new v;var y=ht.Default,ue=y.drawText,ce=y.drawStretchImage,de=y.getImage;function te(e,t){return e<=1?t*e:e}function ie(e,t){return t?(e-Se)/oe*ae+ve:pe-(e-Se)/oe*ae}var oe=void 0,ae=void 0,ve=void 0,pe=void 0,Te=void 0,Se=void 0;function Le(e,t){return e<1?t*e:e}var Pe=ht.Default.drawText;var C=Math.max,V=Math.min,T=ht.Default.containsPoint,P=4;function Lt(e,t,i,o,a,r){var n=4<arguments.length&&void 0!==a?a:{},l=r,s=t.x,h=t.y,u=t.width,c=t.height,d=i.width,g=i.height,f=o.x,v=o.y,p=void 0,x=void 0,y=null,b=null,m=void 0,w=void 0,k=n.color,C=void 0===k?"red":k,V=n.barWidth,_=void 0===V?8:V,I=n.gap,D=void 0===I?2:I,T=n.visible;if(e.save(),c<g){var S=c*(w=c/g);b=[s+u-_-D,h+-v*w,_,Math.max(S,P)],x=c-g,T&&(e.beginPath(),Fa.apply(void 0,[e].concat(Ae(b),[Math.min(_,S)/2])),e.fillStyle=C,e.fill())}if(u<d-2){var L=u*(m=u/d);y=[s+-f*m,h+c-_-D,Math.max(L,P),_],p=u-d,T&&(e.beginPath(),Fa.apply(void 0,[e].concat(Ae(y),[Math.min(_,L)/2])),e.fillStyle=C,e.fill())}l.scrollInfo={scrollBarX:y,scrollBarY:b,scaleX:m,scaleY:w,minX:p,minY:x},e.restore()}function j(e,t,i,o,a,r,n){var l=Ta(e,"translateY"),s=Ta(e,"translateX"),h=ma(i,t,e),u=wa(i,t,e),c=u.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,d=u.scrollInfo;if(d){var g=d.minX,f=d.minY,v=d.scrollBarX,p=d.scrollBarY,x=d.scaleX,y=d.scaleY,b=void 0,m={x:o.x+h.rect.x,y:o.y+h.rect.y};if(v){var w=(c-(v=ya(v)).height)/2;v.y-=w,v.height=c}if(p){var k=(c-(p=ya(p)).width)/2;p.x-=k,p.width=c}if(v&&s&&T(v,m))b={downPoint:o,startX:t.a(s)||0,scaleX:x,minX:g,axis:_};else if(p&&l&&T(p,m))b={downPoint:o,startY:t.a(l)||0,scaleY:y,minY:f,axis:X};else{var C=u.headHeight,V={x:0,y:C,width:a,height:r-C};!n&&u.pannable&&T(V,o)&&(v||p)&&(b={downPoint:o,scaleX:x,minX:g,scaleY:y,minY:f,isPan:!0},v&&s&&(b.startX=t.a(s)||0,b.scaleX=x,b.minX=g),p&&l&&(b.startY=t.a(l)||0,b.scaleY=y,b.minY=f))}return b}}function m(e,t,i,o,a,r){var n=wa(i,t,this),l=j(this,t,i,o,a,r);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function w(e,g,t,f,i,o){var v=wa(t,g,this),p=v._scrollDragInfo,x=Ta(this,"translateY"),y=Ta(this,"translateX");v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,i=p.minY,o=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,s=p.isPan;if(e===_){var h=a+(o.x-f.x)/n;h=V(0,h),h=C(t,h),y&&g.a(y,h)}else if(e===X){var u=r+(o.y-f.y)/l;u=V(0,u),u=C(i,u),x&&g.a(x,u)}else if(s){if(void 0!==a){var c=a+(f.x-o.x);c=V(0,c),c=C(t,c),y&&g.a(y,c)}if(void 0!==r){var d=r+(f.y-o.y);d=V(0,d),d=C(i,d),x&&g.a(x,d)}}}delete v._dragTimer},10))}function S(e,t,i,o,a,r){var n=wa(i,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,s=l.scrollBarX,h=l.scrollBarY,u=n.autoHideScrollBar;(s||h)&&u&&(n.scrollBarVisible=!0,A(t,n)),delete n._scrollDragInfo}}function L(e,t,i,o,a,r){var n=wa(i,t,this),l=n.scrollInfo,s=n.scrollSpeed||1,h=Ta(this,"translateY"),u=Ta(this,"translateX");if(l){var c=l.scrollBarX,d=l.scrollBarY,g=l.minX,f=l.minY,v=(l.scaleX,l.scaleY,(e.wheelDeltaX||0)/40*5*s),p=(e.wheelDeltaY||0)/40*5*s,x=!1;if(d&&h&&p){var y=(t.a(h)||0)+p;y=V(0,y),y=C(f,y),t.a(h,y),x=!0}if(c&&u&&v){var b=(t.a(u)||0)+v;b=V(0,b),b=C(g,b),t.a(u,b),x=!0}if(!x&&c&&!d&&u&&p){var m=(t.a(u)||0)+p;m=V(0,m),m=C(g,m),t.a(u,m)}var w=n.autoHideScrollBar;(c||d)&&w&&(n.scrollBarVisible=!0,A(t,n))}}function A(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var M=ht.Default,Me=M.drawText,Be=M.drawStretchImage,Ee=M.getImage,Re=M.drawBorder,Oe=M.intersectsRect,We=/\n/g;var F=ht.Default.drawText;var H=ht.Default.drawImage;var He=ht.Default.drawImage;var E=ht.Default,Fe=E.drawText,je=E.createGradient;var R=(e(O,[{key:"addExitChildsMapById",value:function(e,t){this._exitChildsMap[e]||(this._exitChildsMap[e]=t)}},{key:"getExitChildsMapById",value:function(e){return this._exitChildsMap[e]}},{key:"clearExitChildsMap",value:function(){this._exitChildsMap={}}},{key:"traverseExitChildsMap",value:function(e){var t=this._exitChildsMap;for(var i in t)"function"==typeof e&&e(i,t[i])}},{key:"addChildsMapById",value:function(e,t){this._childsMap[e]||(this._childsMap[e]=t)}},{key:"getChildMapById",value:function(e){return this._childsMap[e]}},{key:"removeChildMapById",value:function(e){delete this._childsMap[e]}},{key:"clearChildsMap",value:function(){this._childsMap={}}},{key:"traverseChildsMap",value:function(e){var t=this._childsMap;for(var i in t)"function"==typeof e&&e(i,t[i])}},{key:"addChildren",value:function(e){this.children.push(e)}},{key:"removeChildren",value:function(e){var t=this.children;t.splice(t.indexOf(e),1),e.destory()}},{key:"expandAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!0)}),this.data.iv()}},{key:"collapseAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!1)}),this.data.iv()}},{key:"checkAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!0,e._checkStatus="check"}),this.data.iv()}},{key:"unCheckAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!1,e._checkStatus="unCheck"}),this.data.iv()}},{key:"disableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!0}),this.data.iv()}},{key:"enableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!1}),this.data.iv()}},{key:"getSelected",value:function(){return this.filterByBreadthFirst(function(e){return e.selected})}},{key:"getUnselected",value:function(){return this.filterByBreadthFirst(function(e){return!e.selected})}},{key:"getExpanded",value:function(){return this.filterByBreadthFirst(function(e){return e.expanded})}},{key:"getCollapsed",value:function(){return this.filterByBreadthFirst(function(e){return!e.expanded})}},{key:"getChecked",value:function(){return this.filterByBreadthFirst(function(e){return e.checked})}},{key:"getUnChecked",value:function(){return this.filterByBreadthFirst(function(e){return!e.checked})}},{key:"getEnabled",value:function(){return this.filterByBreadthFirst(function(e){return!e.disabled})}},{key:"getDisabled",value:function(){return this.filterByBreadthFirst(function(e){return e.disabled})}},{key:"filterByDepthFirst",value:function(e){for(var t=[],i=this.children,o=[],a=i.length-1;0<=a;a--)o.push(i[a]);for(;0!=o.length;){var r=o.pop();e(r)&&t.push(r);for(var n=r.children,l=n.length-1;0<=l;l--)o.push(n[l])}return t}},{key:"traverseByDepthFirst",value:function(e){for(var t=this.children,i=[],o=t.length-1;0<=o;o--)i.push(t[o]);for(;0!=i.length;){var a=i.pop();e(a);for(var r=a.children,n=r.length-1;0<=n;n--)i.push(r[n])}}},{key:"filterByBreadthFirst",value:function(e){for(var t=[].concat(this.children),i=[];0<t.length;){var o=t.shift(),a=o.children;t=t.concat(a),e(o)&&i.push(o)}return i}},{key:"traverseByBreadthFirst",value:function(e){for(var t=[].concat(this.children);0<t.length;){var i=t.shift(),o=i.children;t=t.concat(o),"function"==typeof e&&e(i)}}}]),O);function O(e){l(this,O),this.data=e,this.children=[],this._childsMap={},this._exitChildsMap={}}var W=(e(Ne,[{key:"getSiblings",value:function(){var e=this.parent.children,t=e.indexOf(this);return e.slice(0,t).concat(e.slice(t+1,e.length))}},{key:"getPreSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getNextSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)+1;return t===e.length?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t);)t=t.getPreSibling();return t&&e(t)?t:null}},{key:"setParent",value:function(e){if(this.parent){var t=this.parent.children;t.splice(t.indexOf(this),1)}this.parent=e,this.parent.addChildren(this)}},{key:"addChildren",value:function(e){if(e instanceof Ne)this.children.push(e);else if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)At(e[t],this)}},{key:"removeChildren",value:function(e){var t=this.children;t.splice(t.indexOf(e),1),e.destory()}},{key:"checkAfter",value:function(){var e=this.checked,t=this.children;this._checkStatus=e?"check":"unCheck";for(var i=0,o=t.length;i<o;i++){var a=t[i];a.checked=e,a._checkStatus=e?"check":"unCheck",a.checkAfter()}}},{key:"checkBefore",value:function(){var e=this.parent;if(e&&!(e instanceof R)){for(var t=e.children,i=0,o=!1,a=0;a<t.length;a++)t[a].checked&&i++,"unCheckAll"===t[a]._checkStatus&&(o=!0);i===t.length?(e.checked=!0,e._checkStatus="check"):0!==i||o?(e.checked=!1,e._checkStatus="unCheckAll"):(e.checked=!1,e._checkStatus="unCheck"),e.checkBefore()}}},{key:"destory",value:function(){this.rootTree=null,this.dataInfo=null}}]),Ne);function Ne(e,t){l(this,Ne),Object.assign(this,Object.assign({text:"Tree",icon:null,children:[],badges:[],expanded:!1,selected:!1,disabled:!1,checked:!1,isLeaf:!1,_isHovering:!1,_isLoading:!1,_treeItemRect:{},_elementRect:{}},e)),this.children=[],this.rootTree=t}function Pt(e){var t=e.x,i=e.y,o=e.width,a=e.height,r=o/2,n=a/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+a},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+o,y:i+n}}}var At=function e(t,i){var o=i instanceof W?i.rootTree:i,a=t.id,r=t.text,n=t.icon,l=t.badges,s=t.expanded,h=t.selected,u=t.disabled,c=t.checked,d=t.isLeaf,g=t.children,f=o.getChildMapById(a);if(!o.getExitChildsMapById(a)){if(void 0===a&&(a=Ka(),t.id=a),f){var v=f.dataInfo,p=v.text,x=v.icon,y=v.badges,b=v.isLeaf,m=v.expanded,w=v.selected,k=v.disabled,C=v.checked;r!==p&&(f.text=void 0===r?"Tree":r),n!==x&&(f.icon=void 0===n?null:n),l!==y&&(f.badges=void 0===l?[]:l),d!==b&&(f.isLeaf=void 0!==d&&d),s!==m&&(f.expanded=void 0!==s&&s),h!==w&&(f.selected=void 0!==h&&h),u!==k&&(f.disabled=void 0!==u&&u),c!==C&&(f.checked=void 0!==c&&c)}else f=new W(t,o),o.addChildsMapById(a,this);if(f._checkStatus="unCheck",f.setParent(i),o.removeChildMapById(a),o.addExitChildsMapById(a,f),f.dataInfo=t,s&&g instanceof Array&&0<g.length)for(var V=0,_=g.length;V<_;V++)e(g[V],f);return f}},Mt=function(e){var t=e.showCheckbox,i=e.showIcon,o=e.expandIconSize,a=e.iconSize,r=e.checkIconSize,n=e.space,l=o+n;return i&&(l+=a+n),t&&(l+=r+n),l},Ge=ht.Default,Bt=Ge.drawStretchImage,Et=Ge.getImage,Rt=Ge.intersectsRect;var Ye=ht.Default,ze=Ye.drawText,Xe=Ye.drawStretchImage,Ue=Ye.getImage;Ye.darker;var Ke={};ht.Default.containsPoint;function Ze(e,t,i,o){for(var a=[],r=0,n=oa(i,"图"),l=n.height/3,s=1,h=e.length;s<=h;s++)t<(l+=n.height+o)&&(r=s-1===r?(a.push(e.substring(r,s)),s):(a.push(e.substring(r,s-1)),s-1),l=n.height/3);return r!==s-1&&a.push(e.substring(r,s)),a}function $e(e,t,i,o,a,r){return t?r:Qe===e?o||i:e===et&&a||i}function qe(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}var Je=ht.Default.drawText,Qe=void 0,et=void 0;function tt(e,t,i,o){for(var a=e,r=0;a<t;){r++,a=e;for(var n=0;n<r;n++)a+=2*i+2*e*(o+(1-o)*n/r)}return r}function it(e,t,i,o,a,r,n,l,s,h,u,c){var d=t.x,g=t.y,f=t.width,v=t.height,p=void 0;i!==we&&i!==ke&&(e.beginPath(),Fa(e,d,g,f,v,n),e.closePath(),r&&l&&(e.strokeStyle=r,e.lineWidth=l,e.stroke()),s&&(e.fillStyle=s,e.fill())),0<=rt.indexOf(i)&&(p=i===we||i===ke?h.hover?$a(at+(i===we?Ce:Ve).toLowerCase()):$a("ht.vector.pagination.ellipsis"):$a(at+i.toLowerCase())),p?Ga(e,p,"uniform",d,g,f,v,u,c,a):Ha(e,i,o,a,d,g,f,v,ge,fe)}function ot(e,t,i,o,a,r){var n=e.active,l=e.disabled,s=e.hover;return l&&n?r:l?a:s?i:n?o:t}var at="ht.vector.pagination.",rt=[be,me,Ve,Ce,we,ke];var nt=(e(lt,[{key:"onClick",value:function(e,t,i,o,a,r){}},{key:"onDoubleClick",value:function(e,t,i,o,a,r){}},{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onUp",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onHover",value:function(e,t,i,o,a,r){}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){}},{key:"onDrag",value:function(e,t,i,o,a,r){}},{key:"onEndDrag",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){}}]),lt);function lt(){l(this,lt)}var st=(t(ut,nt),e(ut,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ia(i,"not-allowed"):Ia(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=wa(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,s=n.value,h=n.textAlign,u=n.maxLength,c=n.textColor,d=n.wordBreak,g=n.selectTextOnFocus,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,x=n.onChange,y=n.lineHeight,b=na("textarea"),m=b.style,w=Ta(this,"value"),k=aa(f),C=Ie(k,4),V=C[0],_=C[1],I=C[2],D=C[3];m.color=c,m.font=l,m.paddingTop=V+"px",m.paddingRight=_+"px",m.paddingBottom=I+"px",m.paddingLeft=2+D+"px",m.textAlign=h,m.resize="none",m.overflow="hidden",m.lineHeight=y+"px",m.wordBreak=d?"break-all":"keep-word",b.value=s||"",u&&b.setAttribute("maxlength",u),r.appendHTML(b);var T=ma(r,a,this);T&&la(r,b,T),n.editing=!0,n.editingValue=s,n.inputDOM=b,a.iv();var S=function(e){la(r,b,T)},L=function e(t){var i=b.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Ca(a,r,b,n,w),r.ump(S),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=L,setTimeout(function(){g&&b.addEventListener("focus",function(e){b.select()}),b.focus(),r.mp(S);var t=null;b.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=b.value,a.a(w,b.value)},10),9===e.keyCode&&(Ca(a,r,b,n,w),r.getView().removeEventListener("mousedown",L),r.getView().removeEventListener("touchstart",L)),v&&v(e,a,r)}),(p||x)&&(b.addEventListener("keyup",function(e){p&&p(e,a,r),ia&&x&&x(b.value,a,r)}),ia||b.addEventListener("input",function(e){x&&x(b.value,a,r)})),r.getView().addEventListener("mousedown",L),r.getView().addEventListener("touchstart",L)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ta(this,"value");n.editing&&n.inputDOM&&(Ca(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),ut);function ut(){return l(this,ut),u(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this))}var ct=(t(dt,nt),e(dt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ia(i,"not-allowed"):Ia(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=wa(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,s=n.value,h=n.textAlign,u=n.maxLength,c=n.textColor,d=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,x=n.onChange,y=n.selectTextOnFocus,b=a.getAnchorRect(),m=na(),w=c||De.textColor,k=m.style,C=Ta(this,"value"),V=aa(f),_=Ie(V,4),I=_[0],D=_[1],T=_[2],S=_[3];d&&(m.type=d),k.color=w,k.font=l,k.paddingTop=I+"px",k.paddingRight=D+"px",k.paddingBottom=T+"px",k.paddingLeft=2+S+"px",k.lineHeight=b.height+"px",k.textAlign=h,m.value=s||"",m.spellcheck=!1,u&&m.setAttribute("maxlength",u),r.appendHTML(m);var L=ma(r,a,this);L&&la(r,m,L),n.editing=!0,n.editingValue=s,n.inputDOM=m,a.iv();var P=function(e){la(r,m,L)},A=function e(t){var i=m.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Ca(a,r,m,n,C),r.ump(P),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=A,setTimeout(function(){y&&m.addEventListener("focus",function(e){m.select()}),m.focus(),r.mp(P);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,a.a(C,m.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(Ca(a,r,m,n,C),r.getView().removeEventListener("mousedown",A),r.getView().removeEventListener("touchstart",A)),v&&v(e,a,r)}),(p||x)&&m.addEventListener("keyup",function(e){p&&p(e,a,r),x&&x(m.value,a,r)}),r.getView().addEventListener("mousedown",A),r.getView().addEventListener("touchstart",A)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ta(this,"value");n.editing&&n.inputDOM&&(Ca(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),dt);function dt(){return l(this,dt),u(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this))}function gt(e,t,i,o,a,r,n){if(o&&(o.editing=!1,delete o.dom),a){var l=parseFloat(i.value);Va(n)||(l=Math.min(l,n)),Va(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),t.getView().removeChild(i)}var ft=ht.Default.containsPoint,vt=(t(pt,nt),e(pt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ia(i,"not-allowed"):Ia(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){Ia(i,"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=wa(r,a,this),l=ma(r,a,this),s=n.buttonRects,h=n.onKeyDown,u=n.onKeyUp,c=n.onChange,d=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=s&&(ft(s[0],f)||ft(s[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,x=Ta(this,"value");if(!x)return;var y=n.dom&&n.dom.value||a.a(x)||d||0,b=void 0;ft(s[0],f)?(b=Sa(parseFloat(y),p),Va(g)||(b=Math.min(b,g))):(b=La(parseFloat(y),p),Va(d)||(b=Math.max(b,d))),n.editing?(n.editingValue=n.dom.value=b,a.iv()):a.a(x,b),c&&y!==b&&c(b,a,r)}}else{var m=n.font,w=n.value,k=n.textAlign,C=n.maxLength,V=n.textColor,_=n.enterEndInputable,I=n.padding,D=n.selectTextOnFocus,T=a.getAnchorRect(),S=na(),L=V||De.textColor,P=S.style,A=Ta(this,"value"),M=aa(I),B=Ie(M,4),E=B[0],R=B[1],O=B[2],W=B[3];P.color=L,P.font=m,P.paddingTop=E+"px",P.paddingRight=R+"px",P.paddingBottom=O+"px",P.paddingLeft=2+W+"px",P.lineHeight=T.height+"px",P.textAlign=k,S.value=w||"",S.spellcheck=!1,C&&S.setAttribute("maxlength",C),r.appendHTML(S);var H=ma(r,a,this);H&&la(r,S,H),n.editing=!0,n.editingValue=w,n.dom=S,a.iv();var F=function(e){la(r,S,H)},j=function e(t){var i=S.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),gt(a,r,S,n,A,d,g),r.ump(F),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=j,setTimeout(function(){D&&S.addEventListener("focus",function(e){S.select()}),S.focus(),r.mp(F);var t=null;S.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){if(n.editingValue=S.value,A){var e=parseFloat(S.value);Va(g)||(e=Math.min(e,g)),Va(d)||(e=Math.max(e,d)),a.a(A,e)}},10),(9===e.keyCode||_&&ht.Default.isEnter(e))&&(gt(a,r,S,n,A,d,g),r.getView().removeEventListener("mousedown",j),r.getView().removeEventListener("touchstart",j)),h&&h(e,a,r)}),S.addEventListener("keyup",function(e){u&&u(e,a,r),c&&c(parseFloat(S.value),a,r)}),S.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",j),r.getView().addEventListener("touchstart",j)},1)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=ma(i,t,this),s=n.buttonRects,h={x:o.x+l.rect.x,y:o.y+l.rect.y},u="text";n.disabled?u="not-allowed":s&&(ht.Default.containsPoint(s[0],h)||ht.Default.containsPoint(s[1],h))&&(u="pointer"),Ia(i,u),n.dom&&(n.dom.style.cursor=u)}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ta(this,"value");n.editing&&n.dom&&(gt(t,i,n.dom,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),pt);function pt(){return l(this,pt),u(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this))}var xt=(t(yt,nt),e(yt,[{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?Ia(i,"not-allowed"):Ia(i,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),yt);function yt(){return l(this,yt),u(this,(yt.__proto__||Object.getPrototypeOf(yt)).call(this))}var bt=(t(mt,xt),e(mt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<o.x&&o.x<a&&0<o.y&&o.y<r&&l(e,t,i))}}]),mt);function mt(){return l(this,mt),u(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this))}var wt=(t(kt,xt),e(kt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.disabled,s=(n.pressed,Ta(this,"checked")),h=Ta(this,"group");if(!l){delete n.pressed,t.iv();var u=n.value,c=n.onChange,d=n.group;if(!t.a(s)&&0<o.x&&o.x<a&&0<o.y&&o.y<r){var g=t.a(s);i&&i.dm()&&!g&&d&&i.dm().each(function(e){d===e.a(h)&&e.a(s,!1)}),t.a(s,!0),c&&c(void 0===u||u,t,i)}}}}]),kt);function kt(){return l(this,kt),u(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this))}var Ct=(t(Vt,xt),e(Vt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.disabled;if(n.pressed,Ta(this,"checked"),Ta(this,"group"),!l){delete n.pressed;var s=n.value,h=n.onChange,u=n.group,c=(n.checked,ba(i,t).vectorInfos),d=[],g=void 0;c.forEach(function(e){e.__inputType===b&&e.group===u&&(e.checked&&(g=e.value),d.push(e))}),g!==s&&(d.forEach(function(e){e.checked=!1}),n.checked=!0,h&&h(g,s,t,i)),t.iv()}}}]),Vt);function Vt(){return l(this,Vt),u(this,(Vt.__proto__||Object.getPrototypeOf(Vt)).call(this))}var _t=(t(It,xt),e(It,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.disabled,s=n.pressed,h=Ta(this,"checked"),u=Ta(this,"group"),c=Ta(this,"value");if(!l){t.a(s,!1),t.iv(),n.value;var d=n.group,g=n.onChange;if(0<o.x&&o.x<a&&0<o.y&&o.y<r){var f=t.a(h);if(t.a(h,!f),g)if(d){var v=[];i.dm().each(function(e){d===e.a(u)&&e.a(h)&&v.push(e.a(c))}),g(v,t,i)}else g(!f,t,i)}}}}]),It);function It(){return l(this,It),u(this,(It.__proto__||Object.getPrototypeOf(It)).call(this))}var Dt=(e(Tt,[{key:"init",value:function(){var t=this;this._initing=!0;var e=this.data,i=this.graph,o=(i.getZoom(),i.tx(),i.ty(),this.value),a=new this.dropDownClazz,r=a._dropDownView=a.initDropDownView(e,this.getDatas(),o);a.getDropDownView=function(){return r},r.on("d:click",function(e){e.stopPropagation()}),r.on("d:mousedown",function(e){e.stopPropagation()}),r.on("d:mousewheel",function(e){e.stopPropagation()}),r.on("d:mousemove",function(e){t.dropDownClazz!==ht.ui.ColorDropDown&&e.stopPropagation()}),this._dropDown=a,this._dropDownView=r,this.onInit(a,r),e.getWidth(),e.getHeight();var n=Aa(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(a,r,{left:n.x,top:n.y,width:n.widht,height:n.height}),document.body.appendChild(r.getView()),a.addValueChangeListener(this.handleDropDownValueChange,this),a.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){t.registerCloseEvent(t._documentClickHandler)},100),a.afterOpen(o),r.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var o=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=i.left+r.left,l=i.top+i.height+r.top;n+o>r.left+r.width&&(n=r.left+r.width-o),l+a>r.top+r.height&&(l-=i.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(o),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unregisterCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,i=this.graph;if(ht.Default.isLeftButton(e)){var o=this._dropDown,a=this._dropDownView;if(a){var r=t.getWidth(),n=t.getHeight(),l=i.tx(),s=i.ty(),h=i.getZoom(),u={x:t.getX()*h+l-r*t.getAnchor().x,y:t.getY()*h+s-n*t.getAnchor().y,width:r,height:n},c=a.containsEvent?a.containsEvent(e):o.isClickOnDropDownView(e);ht.Default.containsPoint(u,ht.Default.getClientPoint(e))||c||this.close()}}}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this,i=t._dropDown,o=t._dropDownView;if(i){if(i.beforeClose(),"stop"===e.kind){var a=i.getDropDownValue();void 0!==a&&(this.value=a)}t._clearDropDown(),ht.Default.removeHTML(o.getView()),i.removeValueChangeListener(t.handleDropDownValueChange,t),this.unregisterCloseEvent(this._documentClickHandler),i.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),i=Ie(t,2),o=i[0],a=i[1];if("a"===o)return e.a(a);if("s"===o)return e.s(a);if("p"===o){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,i=this.valueType,o=this.graph,a=i.split("@"),r=Ie(a,2),n=r[0],l=r[1],s=this.vectorInfo.onChange,h=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}s&&s(h,e,t,o)}}]),Tt);function Tt(t,e,i,o){l(this,Tt),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=o,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}var St=(t(Ot,Dt),Ot);function Ot(e,t,i,o){l(this,Ot);var a=u(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.ColorDropDown,a}function Wt(e,t,i,o){var a=i.dropDown;a||(a=new St(e,t,i,"a@"+o),i.dropDown=a),a.open()}var Ht=(t(Ft,Dt),e(Ft,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Ft);function Ft(e,t,i,o){l(this,Ft);var a=u(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}function jt(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Ht(e,t,i,o),i.dropDown=a),a.open()}var Nt=(t(Gt,Dt),e(Gt,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Gt);function Gt(e,t,i,o){l(this,Gt);var a=u(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this,e,t,i,o));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}t(Yt,Dt),e(Yt,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}]);function Yt(e,t,i){l(this,Yt);var o=u(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this,e,t,i));return o.dropDownClazz=ht.ui.ListDropDown,o}var zt=(t(Xt,xt),e(Xt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Ta(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&Wt(t,i,n,l)}}}]),Xt);function Xt(){return l(this,Xt),u(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this))}var Ut=(t(Kt,xt),e(Kt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){var l=Ta(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&jt(t,i,n,"a@"+l)}}}]),Kt);function Kt(){return l(this,Kt),u(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this))}var Zt,$t=(Zt=ht.graph.Interactor,t(qt,Zt),e(qt,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,i=t.getDataAt(e);i&&t.sm().ss(i)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,o=t.getDataAt(e);o!==i&&(t._hoverData=o&&t.sm().contains(o)?null:o,t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),qt);function qt(e){return l(this,qt),u(this,(qt.__proto__||Object.getPrototypeOf(qt)).call(this,e))}var Jt,Qt={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},ei=(Jt=ht.graph.GraphView,t(ti,Jt),e(ti,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),o=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=o?0:o<e?e:o}},{key:"handleScroll",value:function(e){var t=ta?-e.detail:e.wheelDelta/40;!ta&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){n(ti.prototype.__proto__||Object.getPrototypeOf(ti.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1,this._lastWidth=this.getWidth();var i=this._iconHeight,o=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*o,l=.5*a;r.forEach(function(e,t){e.setSize(o,i),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(i){var o=this,a=this._rowHeight,r=this.getWidth(),n=this._hoverData,l=this._dropBorderColor,s=this._dropBorderWidth;if(this.dm().toDatas(this.isVisible,this).each(function(e){if(i.beginPath(),i.rect(0,e.p().y-a/2,r,a),o.isSelected(e)?(i.fillStyle=o.getActiveColor()||Qt.baseColor,i.fill()):e===n&&(i.fillStyle=o.getHoverBackground()||Qt.hoverBackground,i.fill()),l&&s){var t=e.p().y+a/2-.5*s;i.beginPath(),i.moveTo(0,t),i.lineTo(r,t),i.strokeStyle=l,i.lineWidth=s,i.stroke()}}),l&&s){var e=this.getViewRect(),t=e.x,h=e.y,u=e.width,c=e.height;i.strokeStyle=l,i.lineWidth=s,i.strokeRect(t+.5*s,h+.5*s,u-s,c-s)}}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){n(ti.prototype.__proto__||Object.getPrototypeOf(ti.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),o=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(o*=1.5),i.height>t.height&&a.x-t.x>t.width-o}}]),ti);function ti(e){l(this,ti);var t=u(this,(ti.__proto__||Object.getPrototypeOf(ti)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new $t(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var i=t.getView().style;return i.transition="all 0.2s",i.transitionOrigin="0 0",t}ua(ei,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var ii=(t(oi,ei),e(oi,[{key:"_initStyleByMaster",value:function(){var e=this._vectorInfo;this.setIconHeight(e.dropIconWidth),this.setIconWidth(e.dropIconHeight),this.setRowHeight(e.dropRowHeight),this.setDropWidth(e.dropWidth),this.setBackground(e.dropBackground),this.setHoverBackground(e.dropHoverBackground),this.setActiveColor(e.dropActiveBackground),this.setDropLabelColor(e.dropLabelColor),this.setDropActiveLabelColor(e.dropActiveLabelColor),this.setDropLabelFont(e.dropLabelFont),this.setMaxHeight(e.dropMaxHeight),this.setDropBorderColor(e.dropBorderColor),this.setDropBorderWidth(e.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,o=i.onChange,a=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(a===h)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===h)t.a(this._valueName,n),t.a(f.LABEL,this.__getLabel()),t.a(f.ICON,e.a("icon"));else{var l=this._previousValue,s=i.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<s&&n.length>s&&n.shift(),t.a(this._valueName,n)}o&&o(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){s!==e&&h!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,o=this.dm();o.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),o.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(h===o)return 0===i.size()?null:this.getNodeValue(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(h===o)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),o=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),Oa(r)?Ea(r)?r.length&&r.forEach(function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(o),this.setHeight(a),sa(t,"transform","scaleY(0)"),document.body.appendChild(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){sa(t,"transform","scaleY(1)"),setTimeout(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=Aa(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),i=this.getView().style,o=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+o>t.width&&(r=t.width-o),i.left=r+"px",i.top=n+"px",sa(i,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),i=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),sa(i,"transform","scaleY(0)"),setTimeout(function(){document.body.removeChild(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unRegisterCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,o=Aa(this._vectorInfo.comp,t,i);ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return n(oi.prototype.__proto__||Object.getPrototypeOf(oi.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),oi);function oi(e,t,i,o,a){l(this,oi);var r=u(this,(oi.__proto__||Object.getPrototypeOf(oi)).call(this));r.setSelectionMode(a?s:h),r._master=e,r._masterGraph=t,r._vectorInfo=i,r._valueName=o,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",sa(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,i=r.getDataAt(e);i!==t&&(r._hoverData=i&&r.sm().contains(i)?null:i,r.redraw())}),r._initStyleByMaster(),r}function ai(e,t,i,o,a){var r=i.dropDown;r||((r=new ii(e,t,i,o,a)).getView().className="ht-vector-dropdown",i.dropDown=r),r._transition||(r.isOpened()||r.setData(i.dataSource),r.toggle())}ua(ii,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:Qt.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:Qt.inputTextColor});var ri=(t(ni,xt),e(ni,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Ta(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&ai(t,i,n,l)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),ni);function ni(){return l(this,ni),u(this,(ni.__proto__||Object.getPrototypeOf(ni)).call(this))}function li(e,t,i,o,a){var r=wa(i,t,o),n=r.rowHeights,l=r.colWidths,s=r.headHeight,h=r.rowLineWidth,u=r.translateY,c=r.translateX,d=null,g=null;if(0<(u=Math.floor(a.y-u-s))&&n&&n.length){for(var f=d=0;d<n.length&&!(u<(f+=n[d]+h));d++);d===n.length&&(d=null)}if(0<(c=Math.floor(a.x-c))&&l&&l.length){for(var v=g=0;g<l.length&&!(c<(v+=l[g]));g++);g===l.length&&(g=null)}return{row:d,col:g}}var si=(t(hi,nt),e(hi,[{key:"onDown",value:function(e,t,i,o,a,r){if(!j(this,t,i,o,a,r,!0)){var n=wa(i,t,this),l=n.hoverIndex,s=n.multiple,h=n.onClickCell,u=n.onClickHeadCell,c=n.headRect,d=n.headHeight,g=Ba(i,t,this,o),f=Ta(this,"selectedIndex");if(c=c&&ya(c),!Va(l)){var v=n.dataSource||[],p=n.onSelectRow,x=n.selectedIndex;if(v&&v[l]){if(s)if(x="number"==typeof x?[x]:null==x?[]:x.slice(0),ht.Default.isCtrlDown()){var y=x.indexOf(l);0<=y?x.splice(y,1):x.push(l)}else if(ht.Default.isShiftDown()&&0<x.length){var b=x[x.length-1];if(b<l)for(var m=b+1;m<=l;m++)x.indexOf(m)<0&&x.push(m);else if(l<b)for(var w=b-1;l<=w;w--)x.indexOf(w)<0&&x.push(w)}else x=[l];else x=[l];f&&t.a(f,x),p&&p(v[l],t,i)}}if(h){var k=n.colWidths,C=n.rowHeights,V=n.columns,_=n.dataSource,I=n.rawColIndexs,D=n.rawIndexs,T=li(0,t,i,this,o),S=D[T.row],L=I[T.col];if(null!=L&&null!=S&&T.row<=C.length&&T.col<=k.length&&V&&_&&V[L].key){var P=V[L],A=_[S],M=A[P.key];P.format&&(M=P.format(M,A,S,L)),h(e,M,A,P,S,L,t,i)}}if(u&&d&&c&&Va(n.resizeColIndex)&&ja(c,g))for(var B=n.rawCols,E=n.colWidths,R=n.headHeight,O=n.rawColIndexs,W=c.x,H=0;H<E.length;H++){var F={x:W,y:c.y,width:E[H],height:R};if(ja(F,g)){u(e,B[H],O[H],t,i);break}W+=E[H]}}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.rowHeights,s=n.colWidths,h=n.hoverIndex,u=n.columns,c=n.rawDatas,d=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,x=n.bodyRect,y=li(0,t,i,this,o),b=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=y.row,k=y.col,C=Ba(i,t,this,o);if(!n._scrollDragInfo&&d&&c){if(p=p&&ya(p),x=ya(x),ja(x,C)&&n.autoHideScrollBar&&b&&(b.scrollBarX&&o.y>r-m||b.scrollBarY&&o.x>a-m))return n.scrollBarVisible=!0,t.iv(),void A(t,n);if(ja(x,C)){if(f)if(null!=k&&null!==w&&w<=l.length&&k<=s.length&&u&&c&&u[k].key){var V=u[k],_=c[w],I=d[w],D=g[k],T=_[V.key];V.format&&(T=V.format(T,_,I,D)),f(e,T,_,V,I,D,t,i)}else f(e,null,null,null,null,null,t,i);h!==d[w]&&(n.hoverIndex=d[w],t.iv())}else if(p&&!n.resizeBeginPoint&&v&&ja(p,C)){for(var S=n.resizeRects,L=void 0,P=0;P<S.length;P++)if(ja(S[P],C)){L=P;break}n.resizeColIndex=L,Oa(L)?Ia(i,"ew-resize"):Ia(i,"default")}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments);var n=wa(i,t,this);if(Oa(n.resizeColIndex)){var l=n.colWidths,s=n.rawColIndexs,h=n.rawCols;n.resizeSourceWidth=l[s[n.resizeColIndex]],n.resizeBeginPoint=o,h.forEach(function(e,t){e.width=l[t]})}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.resizeBeginPoint;if(l){var s=n.rawCols,h=n.rawColIndexs,u=n.resizeColIndex,c=n.resizeSourceWidth,d=n.resizeRects,g=s[h[u]],f=o.x-l.x,v=d[u],p=v.x,x=v.y,y=v.width;return v.height,n.resizeDragPoint={x:p+y/2,y:x},g.width=Math.max(c+f,1),void t.iv()}w.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){S.apply(this,arguments);var n=wa(i,t,this);if(n.resizeBeginPoint){var l=Ta(this,"translateX"),s=(t.a(l),n.colWidths),h=0;s.forEach(function(e){h+=e}),console.log(t.a(l)),delete n.resizeBeginPoint,delete n.resizeDragPoint,delete n.resizeColIndex,h<a?t.a(l,0):t.iv()}}},{key:"onScroll",value:function(e,t,i,o,a,r){L.apply(this,arguments)}}]),hi);function hi(){return l(this,hi),u(this,(hi.__proto__||Object.getPrototypeOf(hi)).call(this))}function ui(e,t,i,o,a){var r=t.max,n=t.min,l=t.step,s=r-n,h=t.value,u=(i.x-o.x)/o.width*s+n,c=t.onChange,d=Ta(t.comp,"value");if(u=Math.min(r,u),u=Math.max(n,u),l){var g=u%l;u=u-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(d,u),c&&c(h,u,e,a)}var ci=ht.Default.containsPoint,di=(t(gi,nt),e(gi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){var l=Pa(n.barRect,2),s=Ba(i,t,this,o);ci(l,s)&&ui(t,n,s,n.barRect,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Pa(n.sliderRect,2),s=n.showToolTip,h=n.toolTipFormat,u=Ta(this,"value"),c=Ba(i,t,this,o);if(ci(l,c)&&s){var d=t.a(u);d=Va(d)?"0":d+"",ka.show(h?h(d):d,e)}else this.dragging||ka.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){wa(i,t,this).disabled?Ia(i,"not-allowed"):Ia(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,"default"),n.dragging||ka.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){var l=Pa(n.sliderRect,2),s=Ba(i,t,this,o);ci(l,s)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(n.dragging){var l=Ba(i,t,this,o),s=n.barRect;ui(t,n,l,s,i);var h=n.showToolTip,u=n.toolTipFormat,c=n.value;h&&ka.show(u?u(c):c,e)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){delete wa(i,t,this).dragging,ka.hide()}}]),gi);function gi(){return l(this,gi),u(this,(gi.__proto__||Object.getPrototypeOf(gi)).call(this))}function fi(e,t,i,o,a,r){var n=t.max,l=t.min,s=t.step,h=n-l,u=(i.x-o.x)/o.width*h+l,c=t.value,d=c[0],g=c[1],f=Ta(t.comp,"value"),v=t.onChange;if(u=Math.min(n,u),u=Math.max(l,u),s){var p=u%s;u=u-p+(Math.abs(p)>s/2)*(p<0?-s:s)}var x=null;if(t.dragging){var y=t.dragging;x=y<=u?[y,u]:[u,y]}else{var b=Math.abs(d-u);x=Math.abs(g-u)<=b?[d,u]:[u,g]}return r||e.a(f,x),v&&v(c,x,e,a),u}var vi=(t(pi,nt),e(pi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){var l=Pa(n.barRect,2),s=Pa(n.valueBarRect,2),h=n.valueBarDraggable,u=Ba(i,t,this,o);h&&ht.Default.containsPoint(s,u)||ht.Default.containsPoint(l,u)&&fi(t,n,u,l,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(n&&n.sliderRect&&n.sliderRect2){var l=Pa(n.sliderRect,2),s=Pa(n.sliderRect2,2),h=n.showToolTip,u=n.toolTipFormat,c=n.value,d=Ba(i,t,this,o);ht.Default.containsPoint(l,d)&&h?ka.show(u?u(c[0]):c[0],e):ht.Default.containsPoint(s,d)&&h?ka.show(u?u(c[1]):c[1],e):this.dragging||ka.hide()}}},{key:"onEnter",value:function(e,t,i,o,a,r){wa(i,t,this).disabled?Ia(i,"not-allowed"):Ia(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,"default"),n.dragging||ka.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){var l=Pa(n.barRect,2),s=Pa(n.sliderRect,2),h=Pa(n.sliderRect2,2),u=Pa(n.valueBarRect,2),c=n.value,d=n.valueBarDraggable,g=Ba(i,t,this,o);ht.Default.containsPoint(s,g)?n.dragging=c[1]:ht.Default.containsPoint(h,g)?n.dragging=c[0]:d&&ht.Default.containsPoint(u,g)&&(n.draggingValueBar=fi(t,n,g,l,i,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.showToolTip,s=n.toolTipFormat,h=n.barRect,u=Ba(i,t,this,o);if(void 0!==n.dragging){var c=fi(t,n,u,h,i);l&&ka.show(s?s(c):c,e)}else if(void 0!==n.draggingValueBar){var d=n.draggingValueBar,g=fi(t,n,u,h,i,!0),f=g-d,v=n.value,p=n.min,x=n.max,y=[v[0]+f,v[1]+f],b=Ta(this,"value");if(y[0]<p?y=[p,p+(v[1]-v[0])]:y[1]>x&&(y=[x-(v[1]-v[0]),x]),n.draggingValueBar=g,t.a(b,y),l){var m=y.join(",");s&&(m=y.map(function(e){return s(e)}).join(",")),ka.show(m,e)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);delete n.dragging,delete n.draggingValueBar,ka.hide()}}]),pi);function pi(){return l(this,pi),u(this,(pi.__proto__||Object.getPrototypeOf(pi)).call(this))}function xi(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var o=Ie(t[i].rect,4),a=o[0],r=o[1],n=o[2],l=o[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[i].value}}var yi=(t(bi,nt),e(bi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ta(this,"value");if(!n.disabled&&l){var s=void 0;if((s=n.dropDown)&&s.isOpened())s.close();else{var h=n.value,u=h?h.slice(0):null,c=n.valueItemInfo,d=xi(o,c);if(d&&h&&0<=h.indexOf(d)){var g=h.indexOf(d);h.splice(g,1);var f=h.slice(0);t.a(l,f),n.onChange&&n.onChange(u,f,t,i),Ia(i,"default"),this._hitValue=h}}}}},{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=Ta(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&ai(t,i,n,l,!0)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(n.disabled)Ia(i,"not-allowed");else{var l=n.valueItemInfo;xi(o,l)?(this._oldCursor=i.getView().style.cursor,Ia(i,"pointer")):Ia(i,"default")}}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n.disabled?Ia(i,"not-allowed"):Ia(i,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,i,o,a,r){Ia(i,"default")}}]),bi);function bi(){return l(this,bi),u(this,(bi.__proto__||Object.getPrototypeOf(bi)).call(this))}var mi=10,wi=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(c,e,t,i,o){var r=t.getValue("labelFont"),d=t.getValue("labelColor"),g=t.getValue("itemFont"),f=(t.getValue("itemColor"),t.getValue("itemIconSize")),a=t.getValue("info");if(a){ht.Default.isArray(a)||(a=[a]);var v=e.x,n=e.y,p=(e.width,e.height,0),x=0,y=n;a.forEach(function(e,t){var i=e.label,o=e.datas,u=e.colors;if(0<t&&(y+=8,p+=8),i){var a=oa(r,i);p+=a.height,x=a.width,ht.Default.drawText(c,i,r,d,v,y,a.width,a.height,"left"),y+=a.height+2}o.forEach(function(e,t){var i=Ie(e,3),o=i[0],a=i[1],r=i[2],n=null!=o?o+"："+a:a,l=oa(g,n);p+=l.height+2,x=Math.max(x,l.width+f+3);var s=v;if(!ht.Default.isEmptyObject(u)){var h=f/2;c.fillStyle=r||u[t],c.beginPath(),c.moveTo(h,y+h),c.arc(h,y+h,h,0,2*Math.PI),c.fill(),s+=3+f}ht.Default.drawText(c,n,g,d,s,y,l.width,l.height,"left"),y+=l.height+2})}),wi=p,mi=x}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}},itemColor:{func:"attr@itemColor",value:"rgb(247, 247, 247)"}}]});var ki,Ci=(ki=ht.graph.GraphView,t(Vi,ki),e(Vi,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===mi&&this.getHeight()===wi||(this._tipNode.setWidth(mi),this._tipNode.setHeight(wi),this.setWidth(mi),this.setHeight(wi),this.fitContent(!1,0))}},{key:"setAttr",value:function(e){this._tipNode.a(e)}}]),Vi);function Vi(){l(this,Vi);var e=u(this,(Vi.__proto__||Object.getPrototypeOf(Vi)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(mi),e.setHeight(wi),e}function _i(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,s=e.boundWidth,h=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<h){var c=l/h;if(Ii({x:a+n-u,y:r-i*c,width:u,height:l*c},o))return!0}if(n<s-2){var d=n/s;if(Ii({x:a-t*d,y:r+l-u,width:n*d,height:u},o))return!0}return!1}return!1}var Ii=ht.Default.containsPoint,Di=(t(Ti,nt),e(Ti,[{key:"onDown",value:function(s,h,e,t,i,o){var u=this,c=Ba(e,h,this,t),l=wa(e,h,this),d=l.rootTree,a=l.scrollBarInfo,r=l.translateX,n=l.translateY,g=l.isScrollBarDragging,f=l.rectInfo,v=l.onClickBadge,p=l.onClickBack,x=l.onCheck,y=l.onSelect,b=l.onExpand,m=l.loadData,w=l.accordion,k=l.multiSelect,C=l.selectableFunc,V=l.expandableFunc,_=l.checkableFunc;if(g)l.isScrollBarDragging=!1;else if(!_i(a,r,n,c)&&f){for(var I=f.expandIconRects,D=f.checkIconRects,T=f.treeBackRects,S=f.badgeRects,L=0,P=S.length;L<P;L++){var A=S[L],M=A.treeItem,B=A.info,E=A.badgeRect;if(Ii(E,c)&&!M.disabled)return v.call(this,s,M,B),void h.iv()}for(var R=0,O=D.length;R<O;R++){var W=D[R],H=(M=W.treeItem,W.checkIconRect);if(Ii(H,c)&&!M.disabled&&_(M))return M.checked=!M.checked,x.call(this,s,M,M.checked),M.checkAfter(),M.checkBefore(),void h.iv()}for(var F=function(e,t){var i=I[e],o=i.treeItem,a=i.expandIconRect;if(Ii(a,c)){if(o._isLoading)return{v:void 0};if(!o.disabled&&V(o)){w&&o.getSiblings().forEach(function(e){e.expanded=!1}),o.expanded=!o.expanded;var r=o.children,n=o.dataInfo,l=o.expanded;return 0===r.length&&n.children?(o.addChildren(n.children),b.call(u,s,o,o.expanded)):l&&0===r.length?new Promise(function(e){o._isLoading=!0,m.call(u,o,e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];o._isLoading=!1,o.addChildren(e),o.checkAfter(),b.call(u,s,o,o.expanded),h.iv()}):b.call(u,s,o,o.expanded),h.iv(),{v:void 0}}}},j=0,N=I.length;j<N;j++){var G=F(j);if("object"===(void 0===G?"undefined":_e(G)))return G.v}for(var Y=function(e,t){var i=T[e],o=i.treeItem,a=i.backRect;if(Ii(a,c)){if(!o.disabled&&C(o)){var r=d.getSelected(),n=[];r.forEach(function(e){var t=e.id,i=e.text;n.push({id:t,text:i}),k||e===o||(e.selected=!1)}),l.selectedInfos=n,o.selected=!o.selected,y.call(u,s,o,o.selected),h.iv()}return{v:void 0}}},z=0,X=T.length;z<X;z++){var U=Y(z);if("object"===(void 0===U?"undefined":_e(U)))return U.v}p&&p(s)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Ba(i,t,this,o),l=wa(i,t,this),s=l.scrollBarInfo,h=l.translateX,u=l.translateY,c=l.isScrollBarDragging,d=l.rectInfo,g=l.preHoverTreeItem,f=l.selectableFunc;if(!c)if(_i(s,h,u,n))g&&(g.disabled&&Ia(i,"default"),g._isHovering=!1,t.iv());else if(d){for(var v=d.treeBackRects,p=0,x=v.length;p<x;p++){var y=v[p],b=y.treeItem,m=y.backRect;if(Ii(m,n)&&f(b)){g!==b&&(g&&(g._isHovering=!1),l.preHoverTreeItem=b),b.disabled?(Ia(i,"not-allowed"),g!==b&&t.iv()):b._isHovering||(Ia(i,"default"),b._isHovering=!0,t.iv());break}}p===x&&g&&(Ia(i,"default"),g._isHovering=!1,delete l.preHoverTreeItem,t.iv())}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.preHoverTreeItem;l&&(Ia(i,"default"),l._isHovering=!1,delete n.preHoverTreeItem,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Ba(i,t,this,o),l=wa(i,t,this),s=l.scrollBarInfo,h=l.translateX,u=l.translateY;_i(s,h,u,n)&&(l.isScrollBarDragging=!0),m.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){w.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);n&&(n.isScrollBarDragging=!1),S.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){L.apply(this,arguments)}}]),Ti);function Ti(){return l(this,Ti),u(this,(Ti.__proto__||Object.getPrototypeOf(Ti)).call(this))}var Si=new Ci,Li=(t(Pi,nt),e(Pi,[{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.ui,s=n.option;if(s&&l&&(n._moveTimer&&clearTimeout(n._moveTimer),s&&s.tooltip.show&&!n._dragging)){var h=l.interactiveInfo,u=l.bounds.bodyRect,c=h.axisInfos,d=Ba(i,t,this,o);if(ja(u,d)&&c.length){for(var g=l.valueAxis===_?d.y:d.x,f=void 0,v=1/0,p=c[0],x=0;x<p.length;x++){var y=Math.abs(p[x].position-g);y<v&&(v=y,f=x)}if(p[f]){var b=[],m=l.seriesColors.slice(0);c.forEach(function(e){var t=e[f];b.push({label:t.label,datas:t.series,colors:m.splice(0,t.series.length)})}),Si.setInfo(b),ka.show(Si.getView(),e)}n.hoverIndex!==f&&(n.hoverIndex=f,t.iv())}else delete n.hoverIndex,t.iv(),ka.hide()}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),ka.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=ma(i,t,this),l=wa(i,t,this),s=l.option,h=l.ui;if(l&&s.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ka.hide());var u=h.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};ja(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ma(i,t,this),l=wa(i,t,this);if(l&&l._dragging){var s=l.ui.bounds.bodyRect,h={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=Xa(s,h),t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(n&&n._dragging){var d=n.ui,l=n.option,s=d.rectPoint1,h=d.rectPoint2,u=d.valueAxis,c=l.xAxis,g=l.yAxis,f=Na(s,h);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};c.forEach(function(e){var t=e.type,i=[];if(v.x.push(i),p===t){var o=d.interactiveInfo;o.axisInfos&&o.axisInfos.length&&o.axisInfos[0].forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&i.push(t)})}else if(B===t){var a=e._axisObj.timeRange;if(a){var r=Ie(a,2),n=r[0],l=r[1],s=l-n,h=d.bounds.bodyRect,u=Math.floor((f.x-h.x)/h.width*s+n),c=Math.floor((f.x-h.x+f.width)/h.width*s+n);u=Math.max(u,n),c=Math.min(c,l),i.push(u),i.push(c)}}}),g.forEach(function(e){e.type;var t=[];if(v.y.push(t),X===u){var i=Ie(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=d.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,s=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),s=Math.min(s,a),t.push(l),t.push(s)}}),l.onRectSelected(v,t,i)}}}]),Pi);function Pi(){return l(this,Pi),u(this,(Pi.__proto__||Object.getPrototypeOf(Pi)).call(this))}var Ai=(t(Mi,xt),e(Mi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(!n.disabled){var l=Ta(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&function(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Nt(e,t,i,o),i.dropDown=a),a.open()}(t,i,n,"a@"+l)}}}]),Mi);function Mi(){return l(this,Mi),u(this,(Mi.__proto__||Object.getPrototypeOf(Mi)).call(this))}function Bi(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=o.rect,r=o.index;if(ht.Default.containsPoint(a,t))return r}}var Ei=(t(Ri,nt),e(Ri,[{key:"onEnter",value:function(e,t,i,o,a,r){var n="pointer";wa(i,t,this).disabled&&(n="not-allowed"),Ia(i,n)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,"default"),n.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.buttonRects,s=(n.values,n.disabled),h=Ba(i,t,this,o),u=null;s||(l&&(u=Bi(l,h)),u!==n.hoverIndex&&(n.hoverIndex=u,t.iv()))}},{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.buttonRects,s=n.values,h=n.disabled,u=n.onChange,c=Ba(i,t,this,o),d=Ta(this,"value"),g=null;if(!h&&d){l&&(g=Bi(l,c));var f=Va(g)?null:s[g],v=t.a(d);f!==v&&(t.a(d,f),u&&u(v,f,t,i))}}}]),Ri);function Ri(){return l(this,Ri),u(this,(Ri.__proto__||Object.getPrototypeOf(Ri)).apply(this,arguments))}var Oi=Math.PI,Wi=Math.pow,Hi=Math.sin,Fi={swing:function(e){return-Math.cos(e*Oi)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-Wi(2,10*(e-=1))*Hi(2*Oi*(e-.075)/.3)},elasticOut:function(e){return 0===e||1===e?e:Wi(2,-10*e)*Hi(2*Oi*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Wi(2,10*(e-=1))*Hi(2*Oi*(e-.1125)/.45)*-.5:Wi(2,-10*(e-=1))*Hi(2*Oi*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},ji=(t(Ni,nt),e(Ni,[{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ba(i,t,this,o),s=n.itemInfos,h=n.index,u=n.animation,c=n.onClickItem,d=n.dataSource,g=void 0;if(s&&s.length)for(var f=0;f<s.length;f++){var v=s[f];if(ja(v.rect,l)){g=v.index;break}}if(Oa(g)&&h!==g){var p=Ta(this,"index");if(p)if(u){n._animationObj&&n._animationObj.stop();var x=g-h;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Fi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,h+x*e)}})}else t.a(p,g)}Oa(g)&&c&&c(d[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ba(i,t,this,o),s=n.itemInfos,h=!1;if(s&&s.length)for(var u=0;u<s.length;u++){var c=s[u];if(ja(c.rect,l)){h=!0;break}}Ia(i,h?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.scrollable,s=n.index,h=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var c=h.length,d=Ta(this,"index"),g=s+u;0<=g&&g<c&&t.a(d,g)}}}]),Ni);function Ni(){return l(this,Ni),u(this,(Ni.__proto__||Object.getPrototypeOf(Ni)).apply(this,arguments))}var Gi=(t(Yi,nt),e(Yi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ba(i,t,this,o),s=n.itemInfos,h=n.index,u=n.animation,c=n.onClickItem,d=n.dataSource,g=void 0;if(s&&s.length)for(var f=0;f<s.length;f++){var v=s[f];if(ja(v.rect,l)){g=v.index;break}}if(Oa(g)&&h!==g){var p=Ta(this,"index");if(p)if(u){n._animationObj&&n._animationObj.stop();var x=g-h;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Fi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,h+x*e)}})}else t.a(p,g)}Oa(g)&&c&&c(d[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ba(i,t,this,o),s=n.itemInfos,h=!1;if(s&&s.length)for(var u=0;u<s.length;u++){var c=s[u];if(ja(c.rect,l)){h=!0;break}}Ia(i,h?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.scrollable,s=n.index,h=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var c=h.length,d=Ta(this,"index"),g=s+u;0<=g&&g<c&&t.a(d,g)}}}]),Yi);function Yi(){return l(this,Yi),u(this,(Yi.__proto__||Object.getPrototypeOf(Yi)).apply(this,arguments))}var zi=new Ci,Xi=(t(Ui,nt),e(Ui,[{key:"onMove",value:function(e,t,i,o,a,r){ma(i,t,this);var n=wa(i,t,this),l=n.ui,s=n.option;if(l&&s&&s.tooltip.show){var h=s.tooltip;if(n._dragging)return delete n.hoverTime,delete n.hoverPositionX,t.iv(),void ka.hide();n._moveTimer&&clearTimeout(n._moveTimer);var u,c=Ba(i,t,this,o),d=l.xAxisRange&&2<=l.xAxisRange.length?l.xAxisRange:s.xAxis[0]._axisObj.timeRange;if(d&&s.series){var g=l.seriesDatas,f=l.bounds.bodyRect,v=f.x,p=(f.y,d[0]),x=d[1],y={},b=[];if(u=s.series.map(function(e){return e.name}),ja(f,c)){for(var m in g.forEach(function(e,i){e&&e.forEach(function(e){var t=y[e[0]];(t=t||(y[e[0]]={time:e[0],series:[]})).series.push([u[i],e[1]])})}),y)b.push(y[m]);if(b.sort(function(e,t){return e.time>t.time?1:-1}),b.length){var w=Math.floor((c.x-v)/f.width*(x-p)+p),k=function(e,t){var i=t.length;if(1===i)return t[0];for(var o=void 0,a=void 0,r=void 0;1!==i;){var n=Math.floor(i/2),l=t[n],s=l.time;if(e===s)return l;if(r=Math.abs(e-s),Oa(o)&&a<r){for(var h=1/0,u=void 0,c=0;c<t.length;c++){var d=t[c],g=Math.abs(e-d.time);g<h&&(u=d,h=g)}return h<a&&u?u:o}i=(t=s<e?t.slice(Math.min(i-1,n+1)):t.slice(0,n)).length,o=l,a=r}var f=t[0];return a<(r=Math.abs(f.time-e))?o:f}(w,b);if(k){var C=s.xAxis[0]._axisObj.formatter;if("string"==typeof C){var V=C;C=function(e){return za(new Date(e),V)}}var _=C(k.time),I=l.seriesColors.slice(0),D=[{label:_,datas:k.series,colors:I.splice(0,k.series.length)}];h.formatter&&h.formatter(D,k.time,t,i),zi.setInfo(D),w=k.time,n.hoverTime!==w&&(n.hoverTime=w,t.iv()),ka.show(zi.getView(),e)}}}else delete n.hoverTime,t.iv(),ka.hide()}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);void 0!==n.hoverTime&&(delete n.hoverTime,t.iv(),ka.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=ma(i,t,this),l=wa(i,t,this),s=l.option,h=l.ui;if(l&&s.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ka.hide());var u=h.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};ja(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ma(i,t,this),l=wa(i,t,this);if(l&&l._dragging){var s=l.ui.bounds.bodyRect,h={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=Xa(s,h),l._drawTimer&&clearTimeout(l._drawTimer),l._drawTimer=setTimeout(function(){t.iv(),delete l._drawTimer},2)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=wa(i,t,this);if(n&&n._dragging){var u=n.ui,l=n.option,s=u.rectPoint1,h=u.rectPoint2,c=u.valueAxis,d=l.xAxis,g=l.yAxis,f=Na(s,h);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};d.forEach(function(e){e.type;var t=[];v.x.push(t);var i=e._axisObj.timeRange;if(i){var o=Ie(i,2),a=o[0],r=o[1],n=r-a,l=u.bounds.bodyRect,s=Math.floor((f.x-l.x)/l.width*n+a),h=Math.floor((f.x-l.x+f.width)/l.width*n+a);s=Math.max(s,a),h=Math.min(h,r),t.push(s),t.push(h)}}),g.forEach(function(e){var t=[];if(v.y.push(t),X===c){var i=Ie(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=u.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,s=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),s=Math.min(s,a),t.push(l),t.push(s)}}),l.onRectSelected(v,t,i)}}}]),Ui);function Ui(){return l(this,Ui),u(this,(Ui.__proto__||Object.getPrototypeOf(Ui)).call(this))}var Ki=(t(Zi,nt),e(Zi,[{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.hoverIndex;if(n.tipShow){var s,h=void 0,u=t._div;if(!u){var c=(u=t._div=document.createElement("div")).style;c.boxSizing="border-box",c.position="absolute",c.background="rgba(0,0,0,0.3)",c.margin=0,c.padding="8px",c.borderRadius="5px",c.color="#fff",c.pointerEvents="none"}if(s=n.tipInfoList){for(var d=0;d<s.length;d++)if(ja(s[d],o)){var g=ht.Default.getClientPoint(e),f=g.x+10,v=g.y-40;u.style.left=f+"px",u.style.top=v+"px",h=d;break}if(l!==h&&(n.hoverIndex=h,t.iv()),void 0===h)u.parentNode&&u.parentNode.removeChild(u);else if(u.parentNode||document.body.appendChild(u),h!==l){var p=n.tipInfoList[h];p.name,p.text&&(p.name,p.text),t._div.innerHTML=p.text?p.name+":"+p.text:p.name}}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ht.vector.getVectorInfo(i,t,this);if(n.tipShow){void 0!==n.hoverIndex&&(n.hoverIndex=void 0,t.iv());var l=t._div;l.parentNode&&l.parentNode.removeChild(l)}}}]),Zi);function Zi(){return l(this,Zi),u(this,(Zi.__proto__||Object.getPrototypeOf(Zi)).call(this))}function $i(e,t){for(var i=0;i<e.length;i++)if(ja(e[i].rect,t))return e[i]}var qi=[be,me,Ce,Ve,we,ke],Ji=(t(Qi,nt),e(Qi,[{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ba(i,t,this,o);if(n.itemList){var s=$i(n.itemList,l);Ia(i,s?s.isDisabled?"not-allowed":"pointer":"default");var h=s?s.label:void 0;n.hoverLabel!==h&&(n.hoverLabel=h,t.iv())}}},{key:"onDown",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=Ba(i,t,this,o);if(n.itemList){var s=$i(n.itemList,l),h=s?s.label:void 0,u=Ta(this,"current"),c=n.onChange,d=n.totalPage,g=t.a(u),f=h;!s||s&&s.isDisabled||(0<=qi.indexOf(f)&&(f=f===be?g-1:f===me?g+1:f===Ce?1:f===we?Math.max(1,g-5):f===ke?Math.min(d,g+5):n.itemList.length),g!==f&&(t.a(u,f),c&&c(g,f,t,i)))}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Ia(i,"default"),n.hoverLabel&&(delete n.hoverLabel,t.iv())}}]),Qi);function Qi(){return l(this,Qi),u(this,(Qi.__proto__||Object.getPrototypeOf(Qi)).call(this))}var eo=(t(to,nt),e(to,[{key:"onBeginDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){w.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){S.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){L.apply(this,arguments)}}]),to);function to(){return l(this,to),u(this,(to.__proto__||Object.getPrototypeOf(to)).call(this))}var io=ht.Default.setImage;io("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),io("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),io("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",closePath:!0,points:[0,0,10,5,0,10]}]}),io("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",closePath:!0,points:[0,0,10,0,5,10]}]}),io("ht.vector.treeDefIcon",{width:22,height:16,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),io("ht.vector.treeLoadIcon",{width:32,height:32,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),io("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),io("ht.vector.treeUnCheckIcon",{width:160,height:160,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),io("ht.vector.treeUnCheckAllIcon",{width:160,height:160,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]}),io("ht.vector.pagination.previous",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",points:[28,17,18,25,28,33]}]}),io("ht.vector.pagination.next",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[32,17,22,25,32,33]}]}),io("ht.vector.pagination.first",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[35,17,25,25,35,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[29,17,19,25,29,33]}]}),io("ht.vector.pagination.last",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[29,17,19,25,29,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[35,17,25,25,35,33]}]}),io("ht.vector.pagination.ellipsis",{modified:"Mon Aug 26 2019 15:46:29 GMT+0800 (中国标准时间)",background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.18756,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[23,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[33.81244,23,4,4]}]});var oo=(e(ao,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:(this._container.innerHTML="",this._container.appendChild(e)),document.body.appendChild(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),i=ht.Default.getWindowInfo(),o=this._container.style,a=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;o.pointerEvents="none",a=Math.max(0,a),r=Math.max(0,r),a+t.width>i.width&&(a=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=a+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){this._container.parentNode===document.body&&document.body.removeChild(this._container)}}]),ao);function ao(){l(this,ao),(this._container=document.createElement("div")).className="ht-vector-tooltip"}var ro=function(o,e,t,i,a){var r=a.seriesDatas[t],n=e.name,l=e.itemStyle||{},s=e.lineStyle||{},h=e.areaStyle||{},u=a.bounds,c=(u.xAxisRects,u.yAxisRects,u.bodyRect),d=(c.x,c.y),g=(c.width,c.height),f=Da(i.color,t),v=i.xAxis[e.xAxisIndex||0],p=i.yAxis[e.yAxisIndex||0],x=(v._axisObj.unitWidth,p._axisObj.valueRange),y=a.hoverIndex,b=x[0],m=x[1]-b,w=v._axisObj.axisInfos,k=e.smooth,C=void 0,V=void 0;if(r&&r.length&&w){var _=[],I=a.interactiveInfo.axisInfos[a.valueAxis===X?e.xAxisIndex||0:e.yAxisIndex||0];if(r.forEach(function(e,t){if(w[t]){var i={x:w[t].position,y:d+g*(1-Math.abs(e-b)/m)};_.push(i),I[t].series.push([n,e,s.color||f,i.x,i.y])}}),V=_.slice(0),k&&2<=_.length){var D=Ua(_,"number"==typeof k?k:void 0);_=D.points,C=D.segments}if(o.save(),h.color){var T=_[0],S=_[_.length-1];Wa(o,_,C),o.lineTo(S.x,d+g),o.lineTo(T.x,d+g),o.closePath(),o.fillStyle=Ja(o,h.color,c),o.fill()}var L=s.color||f;o.lineWidth=s.width||2,o.strokeStyle=Ja(o,L),a.seriesColors.push(L),s.pattern&&o.setLineDash(s.pattern),Wa(o,_,C),o.stroke(),o.restore();var P=l.size||0,A=l.activeSize||3;P||1!==_.length||(P=1);var M=l.background,B=void 0===M?L:M,E=l.borderWidth,R=void 0===E?1:E,O=l.borderColor,W=void 0===O?L:O;if(P&&(o.beginPath(),V.forEach(function(e,t){var i=y===t?A:P;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),R&&W&&(o.lineWidth=R,o.strokeStyle=W,o.stroke()),B&&(o.fillStyle=B,o.fill())),void 0!==y&&A){var H=l.activeBackground,F=void 0===H?B:H,j=l.activeBorderColor,N=void 0===j?W:j,G=l.activeBorderWidth,Y=void 0===G?R:G;a._hoverHandlers||(a._hoverHandlers=[]);var z=V[y];if(!z)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(z.x,z.y),o.arc(z.x,z.y,A,0,2*Math.PI),F&&(o.fillStyle=F,o.fill()),Y&&N&&(o.lineWidth=Y,o.strokeStyle=N,o.stroke())})}}},no=function(n,e,t,l,i){var o=i.seriesDatas[t],a=e.name,r=(e.itemStyle,i.bounds),s=(r.xAxisRects,r.yAxisRects,r.bodyRect),h=(s.x,s.y),u=(s.width,s.height),c=e.color||Da(l.color,t),d=l.xAxis[e.xAxisIndex||0],g=l.yAxis[e.yAxisIndex||0],f=d._axisObj.unitWidth,v=g._axisObj.valueRange,p=(i.hoverIndex,v[0]),x=v[1]-p,y=d._axisObj.axisInfos,b=e.shadow,m=e.barWidth||.8,w=i.barSeries,k=w.length,C=w.indexOf(e),V=i.barCategoryGap||0,_=(f-2*(1<=V?V:f*V))/k,I=e.drawBar;if(m<1&&(m*=_),o&&o.length&&y){var D=[],T=i.interactiveInfo.axisInfos[i.valueAxis===X?e.xAxisIndex||0:e.yAxisIndex||0];o.forEach(function(e,t){var i=void 0;if(i="function"==typeof c?c(e,t,Da(l.color,t)):c,y[t]){var o={x:y[t].position,y:h+(1-e/x)*u};T[t].series.push([a,e,i,o.x,o.y]),D.push({x:o.x-f/2+_*C+(_-m)/2+V,y:o.y,width:m,height:(e-p)/x*u})}}),i.seriesColors.push(Da(l.color,t)),n.save(),D.forEach(function(a,e){var r=void 0;r=Ja(n,"function"==typeof c?c(o[e],e,Da(l.color,e)):c,a);function t(){if(n.fillStyle=r,b){var e=b.color||ht.Default.darker(r),t=b.opacity;if(Oa(t)){var i=Za(e),o=i.splice(3,1)[0]||255;e="rgba("+i.join(",")+","+o/255*t+")"}n.shadowColor=e,n.shadowBlur=b.blur||0,n.shadowOffsetX=b.offsetX||0,n.shadowOffsetY=b.offsetY||0}n.fillRect(a.x,a.y,a.width,a.height)}I?I(n,o[e],a,{defaultDraw:t,color:r,data:i.data,view:i.view}):t()}),n.restore()}};function lo(n,e){var l=n.xAxis.map(function(e){return e._axisObj.boundHeight}),s=n.yAxis.map(function(e){return e._axisObj.boundWidth}),t=2,h=[],u=[],c=[],d=[],g=0,i=0,f=0,o=0;n.xAxis.forEach(function(e,t){e.show&&(e._axisObj.position===ne?(f+=l[t],c.push(t)):(o+=l[t],d.push(t)))}),n.yAxis.forEach(function(e,t){e.show&&(e._axisObj.position===xe?(i+=s[t],u.push(t)):(g+=s[t],h.push(t)))}),n.yAxis.forEach(function(e){t=Math.max(t,2+e._axisObj.labelHeight)}),f<t&&(f=t),o<t&&(o=t);var a=e.contentRect,v=0,p=0;if(e.valueAxis===X&&n.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=oa(e.axisLabel.font,e.data[0]),i=t.width/2;p<i&&(p=i),t=oa(e.axisLabel.font,e.data[e.data.length-1]),v=Math.max(t.width/2,v)}else if(e.axisLabel.show&&e.type===B){var o=e._axisObj.formatter;if("string"==typeof o){var a=o;o=function(e){return za(new Date(e),a)}}var r=oa(e.axisLabel.font,o?o(Date.now()):"e"),n=r.width/2;p<n&&(p=n),v=Math.max(r.width/2,v)}}),g<p){var r=p-g;s[0]+=r,g=p}var x,y=a.x,b=a.y,m=a.width,w=a.height,k=[],C=[],V=y,_=b,I=m-g-i,D=w-f-o;i<v&&(I=I-v+i),I=Math.max(0,I),D=Math.max(0,D),_=b+f,s.forEach(function(e,t){if(n.yAxis[t]._axisObj.position===xe){for(var i=0,o=u.indexOf(t);0<o;)i+=s[u[--o]];k.push({x:y+g+I+i,y:_,width:e,height:D})}else{for(var a=0,r=h.indexOf(t);0<r;)a+=s[h[--r]];k.push({x:V+a,y:_,width:e,height:D})}}),V=y+g,_=b,l.forEach(function(e,t){if(n.xAxis[t]._axisObj.position===ne){for(var i=0,o=c.indexOf(t);0<o;)i+=l[c[--o]];C.push({x:V,y:_+i,width:I,height:e})}else{for(var a=0,r=d.indexOf(t);0<r;)a+=l[d[--r]];C.push({x:V,y:_+D+f+a,width:I,height:e})}}),x={x:y+g,y:b+f,width:Math.max(0,I),height:Math.max(0,D)},e.bounds={xAxisRects:C,yAxisRects:k,bodyRect:x}}function so(o,a,e){return(o=go(o)?o.slice(0):[o]).forEach(function(e,t){var i=fo(a);_a(i,e),o[t]=i}),o}var ho={show:!0,type:"value",splitNumber:5,axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},uo={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},co=ht.Default,go=co.isArray,fo=co.clone;window.caluValueInterval=function(e,t){var i=void 0;if(!e)return 1;var o=1,a=e/o;if(e/t%1==0&&(i=e/t),10<e){for(;100<=parseInt(a);)a=e/(o*=10);i=(a=Math.ceil(a)*o)/t}return i};var vo=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],po=(e(xo,[{key:"initTimeAxis",value:function(){var o=this,e=this.series,t=this.ui.xAxisRange;if(t&&2<=t.length)this.timeRange=t;else{var a=[];if(e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))}),!a.length)return;var i=[];a.forEach(function(e){Ea(e)&&i.push(e[0])}),i.sort(function(e,t){return t<e?1:-1}),this.timeRange=[i[0],i[i.length-1]]}var r=this.axisOption.axisLabel.formatter;if(!r){var n=this.adjustTimeFormatString(this.timeRange);r=function(e){return za(new Date(e),n)}}this.formatter=r}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var s=this,e=this.series,h=this.seriesIndexs,u=[];e.forEach(function(e,t){var i=s.ui.seriesDatas[h[t]];if(i)if(Ea(i))u=u.concat(i);else if(Ra(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([0,a[l]]);u=u.concat(n)}});var t=[];return u.forEach(function(e){Ea(e)?t.push(e[1]):t.push(parseFloat(e))}),t}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues();this.valueRange||this.caluValueRange(t);var i=Ie(this.valueRange,2),o=i[0],a=i[1],r=o.toString().length>a.toString().length?o:a,n=e.axisLabel.formatter;return n&&(r=n(r)),Ya(e.axisLabel.font,r,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t=this.axisOption,i=t.max,o=t.min,a=void 0,r=t.splitNumber||5,n=Math.max.apply(this,e),l=Math.min.apply(this,e);n<0&&(n=0);var s=n,h=l,u=l<0?n-l:n;if(Oa(o)&&Oa(i))a=(i-o)/r;else if(Oa(i)&&i/r%1==0){var c=Oa(o)?o:h;Va(o)&&0<h&&(c=0),a=(i-(Oa(c)?c:h))/r}else if(1<n||n<=0){for(var d=1,g=u/d;100<=parseInt(g);)g=u/(d*=10);for(g=Math.ceil(g)*d;g%r!=0||g/r%d!=0;)g+=d;a=(n=g)/r}else a=n/r;if(a=a||1,Va(o))if(0<=l)o=0;else{for(var f=0;l<f;)f-=a;l=f}if(Va(i))for(i=n+(l<0?l:0);i<s;)i+=a;Va(o)&&(o=l),o||i||(a=i=1),this.valueRange=[o,i,a]}},{key:"caluValueRange2",value:function(e){var t,i,o=this.axisOption,a=o.max,r=o.min;o.splitNumber,i=Math.min(this,e),t=Math.max(this,e),Va(r)&&Va(a)?t<0?a=0:0<i?(r=0,valueMax):(valueMax,valueMin):Va(r)&&Oa(a)||Oa(r)&&Va(a),this.valueRange=[r,a,void 0]}},{key:"adjustTimeFormatString",value:function(e){e.sort(function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}}]),xo);function xo(e,t,i){l(this,xo),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=Ma(e.data,i.data,i.view)}var yo=(t(bo,po),e(bo,[{key:"getTimeAxisTimes",value:function(){var o=this,e=this.series,a=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))});var t=[];return a.forEach(function(e){Ea(e)?t.push(e[0]):t.push(parseFloat(e))}),t.sort(function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0;if(this.isValueAxis)return 2;var o=e.data,a=Y;return o&&(e.type===B?(this.getTimeAxisTimes(),a=this.formatter(Date.now())):e.type===p&&o.forEach(function(e){e.toString().length>a.length&&(a=e)})),t?(t=Math.max(-45,t),t=Math.min(45,t),Ya(e.axisLabel.font,a,t).height+4+i):oa(e.axisLabel.font,Y).height+4+i}},{key:"draw",value:function(a){var o=this,e=this.ui,t=this.axisOption,i=t.type===B,r=this.axisIndex,n=e.bounds.xAxisRects[r],l=e.boundaryGap,s=n.x,h=n.y,u=n.width,c=n.height,d=this.data||[],g=this.formatter||t.axisLabel.formatter,f=(t.axisLabel.interval,this.timeRange),v=void 0;if(!1!==t.show&&t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),this.position===ne?(a.moveTo(s,h+c),a.lineTo(s+u,h+c)):(a.moveTo(s,h),a.lineTo(s+u,h)),a.stroke()),t.type===B){if(d=[],this.series.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&i.length>d.length&&(d=i.map(function(e){return e[0]}))}),!(f&&f[0]&&f[1]))return;v=f[1]-f[0]}var p=0,x=0,y=1,b=void 0;if(1<d.length?x=p=l?(y=1,u/(d.length-1+y)):(y=1,u/(d.length-1)):p=u/2,d&&d.length&&(this.unitWidth=p,b=1===d.length?this.axisInfos=[{position:s+p,label:g?g(d[0]):d[0]}]:this.axisInfos=d.map(function(e,t){return{position:(i?s+(e-f[0])/v*u:s+t*p)+l*p/2,label:g?g(e):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show))){var m=t.axisLabel.font,w=t.axisLabel.color,k=t.axisLabel.align,C=t.axisTick.length,V=this.position===ne?h:h+2+(t.axisTick.show?t.axisTick.length:0),_=0,I=[];if(d.forEach(function(e){g&&(e=g(e));var t=oa(m,e);I.push(t),_+=t.width}),_>n.width&&!r&&(y=Math.ceil(_/n.width)),t.axisTick.show&&C){var D=Oa(t.axisTick.interval)?t.axisTick.interval:y;0===D&&(D=1),a.strokeStyle=t.axisTick.color,a.beginPath(),d.forEach(function(e,t){if(t%D==0){var i=s+t*x;o.position===ne?(a.moveTo(i,h+c),a.lineTo(i,h+c-C)):(a.moveTo(i,h),a.lineTo(i,h+C))}}),a.stroke()}if(t.axisLabel.show){var T=Oa(t.axisLabel.interval)?t.axisLabel.interval:y;0===T&&(T=1),d.forEach(function(e,t){if(t%T==0){var i=I[t],o=b[t].position;Va(e)&&(e=""),g&&(e=g(e)),l?ht.Default.drawText(a,e.toString(),m,w,o-p/2,V,p,i.height,"center"):ht.Default.drawText(a,e.toString(),m,w,o-i.width/2,V,i.width,i.height,k)}})}if(a.save(),t.splitLine.show){var S=Oa(t.splitLine.interval)?t.splitLine.interval:y;0===S&&(S=1);var L=e.bounds.bodyRect,P=L.x,A=L.y,M=(L.width,L.height);a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),d.forEach(function(e,t){if(t&&t%S==0){var i=P+t*x;a.moveTo(i,A),a.lineTo(i,A+M)}}),a.stroke()}a.restore()}}}]),bo);function bo(e,t,i){l(this,bo);var o=u(this,(bo.__proto__||Object.getPrototypeOf(bo)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),o.isValueAxis=i.valueAxis===_,o.position=e.position||(o.axisIndex?ne:le),t.series.forEach(function(e){(e.xAxisIndex||0)===o.axisIndex&&o.series.push(e)}),o.boundHeight=o.getBoundHeight(),e.type===B&&o.initTimeAxis(),o}var mo=(t(wo,po),e(wo,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption,t=this.getMaxValueBound(),i=e.axisTick.show?e.axisTick.length:0;return this.isValueAxis?t.width+i+4:50}},{key:"draw",value:function(o){var i=this,e=this.ui,t=this.axisOption,a=this.axisIndex,r=e.bounds.yAxisRects[a],n=r.x,l=r.y,s=r.width,h=r.height;if(!1!==t.show&&(t.axisLine.show&&(o.strokeStyle=t.axisLine.color,o.lineWidth=t.axisLine.width,o.beginPath(),this.position===xe?(o.moveTo(n,l),o.lineTo(n,l+h)):(o.moveTo(n+s,l),o.lineTo(n+s,l+h)),o.stroke()),t.axisLabel.show)){for(var u=this.valueRange,c=Ie(u,3),d=c[0],g=c[1],f=c[2],v=g-d,p=[],x=d;x<=g&&d<=x;)p.push(x),x+=f;if(g!==p[p.length-1]&&p.push(g),0<d&&g<=0){for(x=0-f;d<=x;)p.unshift(x),x-=f;d!==p[0]&&p.unshift(d)}var y=void 0;t.axisTick.show&&(y=t.axisTick.length)&&(o.strokeStyle=t.axisTick.color,o.beginPath(),p.forEach(function(e){var t=l+h*(1-(e-d)/v);i.position===xe?(o.moveTo(n,t),o.lineTo(n+y,t)):(o.moveTo(n+s,t),o.lineTo(n+s-y,t))}),o.stroke());var b=s-2-(t.axisTick.show?y:0),m=t.axisLabel.font,w=t.axisLabel.color,k="auto"===t.axisLabel.align?this.position===ye?xe:ye:t.axisLabel.align,C=t.axisLabel.formatter,V=oa(m,Y),_=n+(this.position===xe?y:0);if(p.forEach(function(e){var t=l+h*(1-(e-d)/v)-V.height/2;"function"==typeof C&&(e=C(e)),ht.Default.drawText(o,e.toString(),m,w,_,t,b,V.height,k)}),o.save(),t.splitLine.show){var I=e.bounds.bodyRect,D=I.x,T=I.y,S=I.width,L=I.height;o.strokeStyle=t.splitLine.color,o.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&o.setLineDash(t.splitLine.pattern),o.beginPath(),p.forEach(function(e,t){if(0!==t){var i=T+L*(1-(e-d)/v);o.moveTo(D,i),o.lineTo(D+S,i)}}),o.stroke()}o.restore()}}}]),wo);function wo(e,t,i){l(this,wo);var o=u(this,(wo.__proto__||Object.getPrototypeOf(wo)).call(this,e,t,i));return o.axisIndex=t.yAxis.indexOf(e),o.isValueAxis=i.valueAxis===X,o.position=e.position||(o.axisIndex?xe:ye),t.series.forEach(function(e,t){(e.yAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getLabelHeight(),o.boundWidth=o.getBoundWidth(),e.type===B&&o.initTimeAxis(),o}var ko=ht.Default,Co=ko.clone,Vo=ko.unionPoint;var _o={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},Io=(t(Do,yo),e(Do,[{key:"draw",value:function(e){var t=this.ui,i=this.axisOption,o=this.axisIndex,a=t.bounds.xAxisRects[o],r=a.x,n=a.y,l=a.width,s=a.height,h=(i.data,this.getTimeAxisTimes()),u=this.formatter||i.axisLabel.formatter,c=this.timeRange,d=void 0;if(i.show){if("string"==typeof u){var g=u;u=function(e){return za(new Date(e),g)}}if(i.axisLine.show&&(e.strokeStyle=i.axisLine.color,e.lineWidth=i.axisLine.width,e.beginPath(),this.position===ne?(e.moveTo(r,n+s),e.lineTo(r+l,n+s)):(e.moveTo(r,n),e.lineTo(r+l,n)),e.stroke()),h&&h.length){var f=oa(u(Date.now()),i.axisLabel.font);if(i.type===B){if(!(c&&c[0]&&c[1]))return;d=c[1]-c[0]}var v=0,p=0;if(d){var x=Math.max(Math.floor((l+2)/f.width)-2,1);v=l/x,p=d/x}else v=l/2;if(v&&(this.unitWidth=v,i.axisLabel.show||i.axisTick.show)){var y=i.axisLabel.font,b=i.axisLabel.color,m=i.axisLabel.align,w=i.axisTick.length,k=this.position===ne?n:n+2+(i.axisTick.show?i.axisTick.length:0);if(i.axisTick.show&&w){e.strokeStyle=i.axisTick.color,e.beginPath();var C=r;if(d)for(;C<=r+l+2;)e.moveTo(C,n),e.lineTo(C,n+w),C+=v;else e.moveTo(C+l/2,n),e.lineTo(C+l/2,n+w);e.stroke()}if(i.axisLabel.show){var V=r,_=c[0];if(d)for(;V<=r+l+2;)ht.Default.drawText(e,u(_),y,b,V-f.width/2,k,f.width,f.height,m),V+=v,_+=p;else ht.Default.drawText(e,u(_),y,b,V+l/2-f.width/2,k,f.width,f.height,m)}if(e.save(),i.splitLine.show){var I=Oa(i.splitLine.interval)?i.splitLine.interval:1;0===I&&(I=1);var D=t.bounds.bodyRect,T=D.x,S=D.y,L=D.width,P=D.height;e.strokeStyle=i.splitLine.color,e.lineWidth=i.splitLine.width||1,i.splitLine.pattern&&e.setLineDash(i.splitLine.pattern),e.beginPath();var A=T;if(c[0],d)for(;A<=T+L+2;)0%I==0&&(e.moveTo(A,S),e.lineTo(A,S+P)),A+=v;else{var M=A+L/2;e.moveTo(M,S),e.lineTo(M,S+P)}e.stroke()}e.restore()}}}}}]),Do);function Do(e,t,i){return l(this,Do),u(this,(Do.__proto__||Object.getPrototypeOf(Do)).call(this,e,t,i))}var To=function(o,e,t,i,a){var r=a.seriesDatas[t],n=i.xAxis[e.xAxisIndex||0],l=n._axisObj.timeRange;if(r&&r.length){var s=function(e,t,i,o){var a=e.slice(0);if(o){for(var r=o[0],n=o[1],l=void 0,s=void 0,h=0;h<a.length;h++)if(a[h][0]>=r){l=h;break}for(var u=a.length-1;0<=u;u--)if(a[u][0]<=n){s=u+1;break}a=a.slice(l,s)}if(!t)return a;var c=[],d=a.length;if(i){if(d<=i)return a;Array.prototype.push.apply(c,a.splice(d-i,i))}var g=[];if(!(t<(d=a.length)))return i&&a.push.apply(a,c),a;var f=2*(d/t|0);if(f<3)return i&&a.push.apply(a,c),a;for(var v=0;v<d;v+=f){for(var p=a.slice(v,Math.min(v+10,d)),x=p.length,y=p[0],b=p[0],m=1;m<x;m++){var w=p[m];w[1]<b[1]&&(b=w),w[1]>y[1]&&(y=w)}y[0]>b[1]?(g.push(b),g.push(y)):(g.push(y),g.push(b))}return c=g.concat(c)}(r,a.maxVisiblePoint,a.endProtectPoint,l),h=(e.name,e.itemStyle||{}),u=e.lineStyle||{},c=e.areaStyle||{},d=a.bounds.bodyRect,g=d.x,f=d.y,v=d.width,p=d.height,x=Da(i.color,t),y=i.yAxis[e.yAxisIndex||0],b=(n._axisObj.unitWidth,y._axisObj.valueRange),m=b[0],w=b[1]-m,k=l[0],C=l[1]-k,V=e.smooth,_=[],I=void 0,D=void 0;if(s.forEach(function(e){var t=e[0],i=e[1],o={x:g+v*((t-k)/C),y:f+p*(1-Math.abs(i-m)/w)};_.push(o)}),D=_.slice(0),V&&2<=_.length){var T=Ua(_,"number"==typeof V?V:void 0);_=T.points,I=T.segments}if(o.save(),c.color&&1<_.length){var S=_[0],L=_[_.length-1];Wa(o,_,I),o.lineTo(L.x,f+p),o.lineTo(S.x,f+p),o.closePath(),o.fillStyle=Ja(o,c.color,d),o.fill()}var P=u.color||x;o.lineWidth=u.width||2,o.strokeStyle=Ja(o,P),a.seriesColors.push(P),u.pattern&&o.setLineDash(u.pattern),Wa(o,_,I),o.stroke(),o.restore();var A=h.size||0,M=h.activeSize||3;A||1!==_.length||(A=1);var B=h.background,E=void 0===B?P:B,R=h.borderWidth,O=void 0===R?1:R,W=h.borderColor,H=void 0===W?P:W;if(A&&(o.beginPath(),D.forEach(function(e,t){var i=A;i&&(o.moveTo(e.x+i,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),o.closePath(),E&&(o.fillStyle=E,o.fill()),O&&H&&(o.lineWidth=O,o.strokeStyle=H,o.stroke())),a.hoverTime&&M){var F=h.activeBackground,j=void 0===F?E:F,N=h.activeBorderColor,G=void 0===N?H:N,Y=h.activeBorderWidth,z=void 0===Y?O:Y;a._hoverHandlers||(a._hoverHandlers=[]);for(var X=void 0,U=0;U<s.length;U++)if(s[U][0]===a.hoverTime){X=D[U];break}if(!X)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(X.x,X.y),o.arc(X.x,X.y,M,0,2*Math.PI),j&&(o.fillStyle=j,o.fill()),z&&G&&(o.lineWidth=z,o.strokeStyle=G,o.stroke())})}}};var So=function(o,e,a,t,i){var r=i.seriesDatas[a],n=e.name,l=e.itemStyle||{},s=e.lineStyle||{},h=(e.areaStyle,i.bounds),u=(h.xAxisRects,h.yAxisRects,h.bodyRect),c=u.x,d=u.y,g=u.width,f=u.height,v=Da(t.color,a),p=t.xAxis[e.xAxisIndex||0],x=t.yAxis[e.yAxisIndex||0]._axisObj.valueRange,y=x[0],b=x[1]-y,m=p._axisObj.valueRange,w=m[0],k=m[1]-w,C=e.smooth,V=void 0,_=void 0,I=i.hitSeriesIndex,D=i.hitPointIndex;if(!Ea(r)&&Ra(r)){var T=r.x||[],S=r.y||[],L=T.length>S;r=[],(L?T:S).forEach(function(e,t){L?r.push([e,S[t]]):r.push([T[t],e])})}if(r&&r.length){var P=[];if(r.forEach(function(e,t){var i=Ie(e,2),o=i[0],a=i[1],r={x:c+g*(Math.abs(o-w)/k),y:d+f*(1-Math.abs(a-y)/b)};P.push(r)}),i.pointsInfo[a]={values:r,name:n,points:P},_=P.slice(0),C&&2<=P.length){var A=Ua(P,"number"==typeof C?C:void 0);P=A.points,V=A.segments}o.save();var M=s.color||v;o.lineWidth=s.width||2,o.strokeStyle=Ja(o,M),i.seriesColors.push(M),s.pattern&&o.setLineDash(s.pattern),Wa(o,P,V),o.stroke(),o.restore();var B=l.size||2,E=l.activeSize||4;B||1!==P.length||(B=1);var R=l.background,O=void 0===R?M:R,W=l.borderWidth,H=void 0===W?1:W,F=l.borderColor,j=void 0===F?M:F;B&&(o.beginPath(),_.forEach(function(e,t){var i=I===a&&D===t?E:B;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),H&&j&&(o.lineWidth=H,o.strokeStyle=j,o.stroke()),O&&(o.fillStyle=O,o.fill()))}};var Lo=(t(Po,po),e(Po,[{key:"getAxisValues",value:function(){var s=this,e=this.series,h=this.seriesIndexs,u=[];e.forEach(function(e,t){var i=s.ui.seriesDatas[h[t]];if(i)if(Ea(i))u=u.concat(i);else if(Ra(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([o[l],0]);u=u.concat(n)}});var t=[];return u.forEach(function(e){t.push(e[0])}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0,o=Y,a=this.getAxisValues();return a&&a.forEach(function(e){e.toString().length>o.length&&(o=e)}),t?(t=Math.max(-45,t),t=Math.min(45,t),Ya(e.axisLabel.font,o,t).height+4+i):oa(e.axisLabel.font,Y).height+4+i}},{key:"draw",value:function(o){var e=this.ui,t=this.axisOption,i=this.axisIndex,a=e.bounds.xAxisRects[i],r=a.x,n=a.y,l=a.width,s=a.height;if(!1!==t.show&&(t.axisLine.show&&(o.strokeStyle=t.axisLine.color,o.lineWidth=t.axisLine.width,o.beginPath(),i?(o.moveTo(r,n+s),o.lineTo(r+l,n+s)):(o.moveTo(r,n),o.lineTo(r+l,n)),o.stroke()),t.axisLabel.show)){for(var h=this.valueRange,u=Ie(h,3),c=u[0],d=u[1],g=u[2],f=d-c,v=[],p=c;p<=d&&c<=p;)v.push(p),p+=g;if(d!==v[v.length-1]&&v.push(d),0<c&&d<=0){for(p=0-g;c<=p;)v.unshift(p),p-=g;c!==v[0]&&v.unshift(c)}var x=void 0;t.axisTick.show&&(x=t.axisTick.length)&&(o.strokeStyle=t.axisTick.color,o.beginPath(),v.forEach(function(e){var t=r+l*(1-(e-c)/f);i?(o.moveTo(t,n+s),o.lineTo(t,n+s-x)):(o.moveTo(t,n),o.lineTo(t,n+x))}),o.stroke()),t.axisTick.show;var y=t.axisLabel.font,b=t.axisLabel.color,m=t.axisLabel.formatter,w=n+(i?0:x);if(v.forEach(function(e){"function"==typeof m&&(e=m(e));var t=oa(y,e.toString()),i=r+l*((e-c)/f)-t.width/2;ht.Default.drawText(o,e.toString(),y,b,i,w,t.width,t.height,"center")}),o.save(),t.splitLine.show){var k=e.bounds.bodyRect,C=k.x,V=k.y,_=k.width,I=k.height;o.strokeStyle=t.splitLine.color,o.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&o.setLineDash(t.splitLine.pattern),o.beginPath(),v.forEach(function(e,t){if(0!==t){var i=C+_*((e-c)/f);o.moveTo(i,V),o.lineTo(i,V+I)}}),o.stroke()}o.restore()}}}]),Po);function Po(e,t,i){l(this,Po);var o=u(this,(Po.__proto__||Object.getPrototypeOf(Po)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),t.series.forEach(function(e,t){(e.xAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getMaxValueBound().height,o.boundHeight=o.getBoundHeight(),o}var Ao=ht.Default,Mo=Ao.clone;Ao.unionPoint;function Bo(e,t){for(var i=ht.Math.Vector2,o=Math.cos,a=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,s=e.innerRadius,h=s+l,u=n-r,c={x:h*o(r),y:h*a(r)},d={x:h*o(n),y:h*a(n)},g={x:s*o(r),y:s*a(r)},f={x:s*o(n),y:s*a(n)},v=t,p=v+Math.PI/2,x=p+Math.PI/2,y=x+Math.PI/2,b=[{x:h*o(v),y:h*a(v)},{x:h*o(p),y:h*a(p)},{x:h*o(x),y:h*a(x)},{x:h*o(y),y:h*a(y)}],m=[c,d,g,f],w=0;w<4;w++){var k=b[w],C=new i(c),V=new i(k),_=C.clone().normalize().dot(V.normalize()),I=Math.acos(_);0<C.x*V.y-V.x*C.y?I<u&&m.push(k):2*Math.PI-I<u&&m.push(k)}for(var D=-1/0,T=1/0,S=0,L=m.length;S<L;S++){var P=m[S].y;D=Math.max(D,P),T=Math.min(T,P)}return{minY:T,maxY:D}}function Eo(e,t){var i=t.isEmphasis,o=t.type,a=t.outFormatter,r=e.name,n=e.value,l=e.percent,s=e.seriesName,h=e.labelEmphasis,u=e.labelNormal,c=e.labelLineNormal,d=e.labelLineEmphasis,g=void 0,f=void 0;"label"===o?f=i?(g=h.font,h.formatter):(g=u.font,u.formatter):"labelLine"===o&&(f=i?(g=d.font,d.formatter):(g=c.font,c.formatter)),a&&(f=a);var v=r.toString();f&&(v=(f=f.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?s:"b"===t?r:"c"===t?n:"d"===t?(100*l).toFixed(1)+"%":e}));var p=v.split("<br>"),x=void 0,y=void 0;return g&&(y=(x=oa(g,"e").height+1)*p.length/2),{labelTextArray:p,textHeight:x,beginHeight:y}}var Ro=ht.Default.isBoolean,Oo=(e(Wo,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),o=e.getValue("label.normal.formatter"),a=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!Ro(t)||t,position:i||"center",formatter:o||"",color:a,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),s=e.getValue("label.emphasis.formatter"),h=e.getValue("label.emphasis.color"),u=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!Ro(n)||n,position:l||"center",formatter:s||"",color:h,font:u||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),o=e.getValue("labelLine.normal.length2"),a=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),s=e.getValue("labelLine.normal.lineColor"),h=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!Ro(t)||t,length:void 0===i?15:i,length2:void 0===o?10:o,formatter:a||"",width:void 0===r?1:r,type:n||"dashed",font:l||"12px serif",lineColor:s,textColor:h};var u=e.getValue("labelLine.emphasis.show"),c=e.getValue("labelLine.emphasis.length"),d=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),x=e.getValue("labelLine.emphasis.lineColor"),y=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!Ro(u)||u,length:void 0===c?15:c,length2:void 0===d?10:d,formatter:g||"",width:void 0===f?2:f,type:v||"dashed",font:p||"13px serif",lineColor:x,textColor:y}}}]),Wo);function Wo(e){l(this,Wo),this.initGLabel(e),this.initGLabelLine(e)}var Ho=ht.Default.isEmptyObject,Fo=(e(jo,[{key:"initDefaultValue",value:function(e){var t=this.data,i=this.index,o=this.color,a=t.name,r=void 0===a?"系列名":a,n=t.value,l=void 0===n?0:n,s=t.itemStyle,h=void 0===s?{}:s,u=t.labelLine,c=void 0===u?{}:u,d=t.label,g=void 0===d?{}:d,f=e.gLabelNormal,v=e.gLabelEmphasis,p=e.gLabelLineNormal,x=e.gLabelLineEmphasis,y=o[i%o.length];if(this.name=r,this.value=l,this.itemStyle=Object.assign({color:y,borderColor:"#000"},h),this.labelNormal=Object.assign({},f,g.normal||{}),this.labelEmphasis=Object.assign({},v,g.emphasis||{}),this.labelLineNormal=Object.assign({},p,c.normal||{}),this.labelLineEmphasis=Object.assign({},x,c.emphasis||{}),Ho(this.labelNormal.color)){var b=this.labelNormal.position;this.labelNormal.color="center"===b?y:"black"}if(Ho(this.labelEmphasis.color)){var m=this.labelEmphasis.position;this.labelEmphasis.color="center"===m?y:"black"}Ho(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=y),Ho(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=y),Ho(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=y),Ho(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=y),this.pieColor=y}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,o=this.roseRadius,a=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?o+a:r)*Math.cos(n),s=t+(i?o+a:r)*Math.sin(n);return{textX:(l+(e+a*Math.cos(n)))/2,textY:(s+(t+a*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return Eo(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t=this.labelLineNormal,i=this.labelLineEmphasis,o=this.centerX,a=this.centerY,r=this.roseType,n=this.roseRadius,l=this.innerRadius,s=this.outerRadius,h=this.lineAngle,u=this.hoverOffset,c=t.length,d=i.length,g=e?l+n+u:l+n,f=e?s+u:s,v=o+(r?g:f)*Math.cos(h),p=a+(r?g:f)*Math.sin(h),x=void 0,y=void 0;if(e){var b=s+u+d;x=o+b*Math.cos(h),y=a+b*Math.sin(h)}else{var m=s+c;x=o+m*Math.cos(h),y=a+m*Math.sin(h)}return{x0:v,y0:p,x1:x,y1:y}}},{key:"getLabelLineLabelInfo",value:function(e){return Eo(this,{isEmphasis:e,type:"labelLine"})}}]),jo);function jo(e,t){l(this,jo),Object.assign(this,e),this.initDefaultValue(t)}var No=ht.Default.isBoolean;function Go(e,t,i,o,a){var r=wa(i,t,a);if(r){var n=r.arcPoints,l=r.arcAngles,s=r.center,h=r.radius,u=r.foucusArcNum,c=r.hoverOffset,d=r.tooltip,g=void 0===d?{}:d,f=r.pieItems,v=Ba(i,t,a,o);if(n){var p=ht.Math.Vector2,x=2*Math.PI,y=new p(s),b=h.outerRadius,m=h.innerRadius,w=ht.Default.getDistance(v,s);if(m<w&&w<(void 0!==u?b+c:b))for(var k=0,C=l.length;k<C;k++){var V=f[k],_=V.roseType,I=V.roseRadius;if(_&&(k===u?m+I+c:m+I)<w)k===u&&(delete r.foucusArcNum,t.iv());else{var D=new p(n[k]).sub(y),T=new p(v).sub(y),S=D.clone().normalize().dot(T.normalize()),L=Math.acos(S);if(0<D.x*T.y-T.x*D.y){if(L<l[k]){u!=k&&(r.foucusArcNum=k,t.iv());break}u===k&&(delete r.foucusArcNum,t.iv())}else{if(x-L<l[k]){u!=k&&(r.foucusArcNum=k,t.iv());break}u===k&&(delete r.foucusArcNum,t.iv())}}}else void 0!==u&&(delete r.foucusArcNum,t.iv())}if(g.show){var P=r.foucusArcNum;if(void 0!==P){var A=f[P],M=A.value,B=A.percent,E=A.name,R=A.seriesName,O=g.formatter,W=[];if(O)Eo(A,{outFormatter:O}).labelTextArray.forEach(function(e,t){W.push([null,e])});else W=[["名称",E],["百分比",(100*B).toFixed(1)+"%"],["数值",M]];Yo.setInfo({label:R,datas:W}),ka.show(Yo.getView(),e)}else ka.hide()}}}var Yo=new Ci,zo=(t(Xo,nt),e(Xo,[{key:"onMove",value:function(e,t,i,o,a,r){Go(e,t,i,o,this)}},{key:"onUp",value:function(e,t,i,o,a,r){Go(e,t,i,o,this)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),ka.hide())}}]),Xo);function Xo(){return l(this,Xo),u(this,(Xo.__proto__||Object.getPrototypeOf(Xo)).call(this))}var Uo=(t(Ko,nt),e(Ko,[{key:"onMove",value:function(e,t,i,o,a,r){var n=wa(i,t,this),l=n.ui,s=n.option;if(l&&s&&s.tooltip.show){var h=6/(i.getZoom?i.getZoom():1),u=l.pointsInfo,c=Ba(i,t,this,o),d=void 0,g=void 0,f=void 0,v=function(o){var e=u[o],t=e.points,a=e.values;t.forEach(function(e,t){var i=qa(e,c);i<h&&i<1/0&&(d=parseInt(o),f=a[g=t])})};for(var p in u)v(p);Oa(f)?ka.show(f.join(","),e):ka.hide();var x=n.hitSeriesIndex,y=n.hitPointIndex;n.hitSeriesIndex=d,y===(n.hitPointIndex=g)&&x===d||t.iv()}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=wa(i,t,this);Oa(n.hitPointIndex)&&(delete n.hitSeriesIndex,delete n.hitPointIndex,ka.hide(),t.iv())}}]),Ko);function Ko(){return l(this,Ko),u(this,(Ko.__proto__||Object.getPrototypeOf(Ko)).call(this))}function Zo(e,t,i){for(var o=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);oa(i,l).width>t&&(a=r-1===a?(o.push(e.substring(a,r)),r):(o.push(e.substring(a,r-1)),r-1))}return a!==r-1&&o.push(e.substring(a,r)),o}function $o(e,t,i,o){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var s=r[n];if(""===s&&(s=" "),o)Array.prototype.push.apply(a,Zo(s,i,t));else{for(var h,u,c="",d=void 0,g=void 0,f=void 0,v="",p=0;p<s.length;p++){s.charAt(p).match(/[a-z|A-Z]/g)?c+="1":c+="2"}c=(c=c.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var x=0;x<c.length;x++){c.charAt(x).match(/\_/g)&&(s=ha(s,x+1,"|"))}h=s.split("|"),u=c.split("_");for(var y=0,b=h.length;y<b;y++)d=v+h[y],g=oa(t,d),"1"===u[y][0]?g.width>i?v?(a.push(v),v="",y--):(f=Zo(h[y],i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===i?(a.push(d),""):d:v=g.width>i?(f=Zo(d,i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):d;v&&a.push(v)}}return a}function qo(e,t,i,o,a,r){return e?(t=t&&new v(t),e.pressed?o||(a&&t&&0!==t.a?ht.Default.darker(t,De.activeDarker):r?null:De.emptyColor):e.hover?i||(a&&t&&0!==t.a?ht.Default.darker(t,De.hoverDarker):r?null:De.emptyColor):r?null:t?t.getRGBA():De.emptyColor):t}var Jo,Qo,ea,ta=/firefox/.test(window.navigator.userAgent.toLowerCase()),ia=/MSIE/.test(window.navigator.userAgent.toLowerCase()),oa=(Jo={},Qo=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){Qo.font=e||ht.Default.labelFont;var i=Jo[Qo.font];return i||(i=2*Qo.measureText("e").width,Jo[Qo.font]=i),{width:Qo.measureText(t).width+2,height:i}}),aa=function(e,t){if(!e)return ra([],t);var i=function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/^\s+|\s+$/g,"")):""}(e).split(/\s+/g),o=[];return i.forEach(function(e){isNaN(e)||o.push(parseInt(e))}),ra(o)},ra=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},na=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t},la=function(e,t,i){var o=t.style,a=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),sa(o,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),sa(o,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},sa=((ea=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var o=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+o]=i,e["moz"+o]=i,e["ms"+o]=i,e["o"+o]=i,e[t]=i}),ha=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)};function ua(e,t){var i=e.prototype,o=ht.Default.getMSMap();for(var a in t)o[a]&&o.hasOwnProperty(a)?o[a](i,t):i[a]=t[a]}function ca(e){var t=e.a(f.VALUE);return void 0===t?"":t}var da,ga=(da=null,function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,s=e.readType,h=e.filter,t=e.accept;da||((da=document.createElement("input")).setAttribute("type","file"),da.setAttribute("id","hiddenFile"),da.style.width=0,da.style.height=0,da.addEventListener("change",function(e){document.body.removeChild(da),da=null;for(var t=e.target.files,i={files:[]},o=0;o<t.length;o++)h?h(t[o])&&i.files.push(t[o]):i.files.push(t[o]);if(s&&0!==i.files.length)if(l){var a=0;i.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===i.files.length&&n(i)},fa(e,t,s)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(i)},fa(r,t[0],s)}else n(i)}),document.body.appendChild(da)),da.multiple=!!l,da.accept=t||"",da.click()});function fa(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function va(e,t){var i=t.borderWidth,o=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,s=t.bgGradientColor,h=t.contentRect;if(a&&e.setLineDash(r),n){var u;if(l&&s)n=(u=ht.Default).createGradient.apply(u,[e,l,n,s].concat(Ae(h)));e.fillStyle=n,e.fill()}i&&o&&(e.strokeStyle=o,e.lineWidth=i,e.stroke())}function pa(e,t,i,o){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),Fa(e,a,r,n,l,o),e.closePath(),e.fill()}function xa(e,t){return ht.Default.intersectsRect(e,t)}var ya=function(e){var t=Ie(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},ba=function(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null},ma=function(e,t,i,o){var a=function(e,t,i,o){if(!e||!e.interactiveInfo)return null;if(i){var a=void 0;if("billboard"===t.s("shape3d"))a=t.s("shape3d.image");else if(o){var r=e.gv.intersectObject(o,t);a=t.s("shape3d."+("body"===r.part?"":r.part+".")+"image")}return a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(ba(e,t),t,e instanceof ht.graph3d.Graph3dView,o);if(a)for(var r=0,n=a.length;r<n;r++){var l=a[r];if(l.comp===i)return l}return null},wa=function(e,t,i){var o=ba(e,t);if(!o)return{};if(o.vectorInfos){for(var a=o.vectorInfos,r=0;r<a.length;r++)if(a[r].comp===i)return a[r]}else o.vectorInfos=[];var n={comp:i};return o.vectorInfos.push(n),n},ka=new oo,Ca=function(e,t,i,o,a){o&&(o.editing=!1,delete o.dom),a&&e.a(a,i.value),e.iv(),t.getView().removeChild(i)},Va=function(e){return null==e},_a=function e(t,i,o){for(var a in i){var r=i[a];"object"!==(void 0===r?"undefined":_e(r))||ht.Default.isArray(r)||o?t[a]=i[a]:e(t[a],i[a])}},Ia=function(e,t){e.getView().style.cursor=t},Da=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]},Ta=function(e,t,i,o){var a=e[t];if(a&&a.func&&"string"==typeof a.func){var r=a.func.split("@"),n=Ie(r,2);n[0];return n[1]}return null},Sa=function(e,t){var i,o,a,r;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(r=Math.abs(i-o),a=Math.pow(10,Math.max(i,o)),0<r){var n=Math.pow(10,r);t=o<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},La=function(e,t){var i,o,a;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return((e*(a=Math.pow(10,Math.max(i,o)))-t*a)/a).toFixed(o<=i?i:o)},Pa=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},Aa=function(e,t,i){var o=ma(i,t,e).rect,a=t.getAnchor(),r=t.getWidth(),n=t.getHeight(),l=t.toGlobal({x:o.x-a.x*r,y:o.y-a.y*n}),s=t.toGlobal({x:o.x+o.width-a.x*r,y:o.y+o.height-a.y*n});return function(e,t){var i=t.getView().getBoundingClientRect(),o=t.getZoom(),a=t.tx(),r=t.ty(),n={};return n.height=e.height*o,n.width=e.width*o,n.x=i.left+a+e.x*o,n.y=i.top+r+e.y*o,n}(Na(l,s),i)},Ma=function(e,t,i){if(!e||!e.func)return e;var o,a=e.func,r=e.value;return o=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](i):r:r,void 0!==r&&null==o?r:o},Ba=function(e,t,i,o){var a=ma(e,t,i);return{x:o.x+a.rect.x,y:o.y+a.rect.y}},Ea=function(e){return ht.Default.isArray(e)},Ra=function(e){return ht.Default.isObject(e)},Oa=function(e){return!Va(e)},Wa=function(e,t,i,o){ht.Default.drawPoints(e,t,i,o)},Ha=function(e,t,i,o,a,r,n,l,s,h){ht.Default.drawText(e,t,i,o,a,r,n,l,s,h)},Fa=function(e,t,i,o,a,r,n,l,s){ht.Default.drawRoundRect.apply(ht.Default,arguments)},ja=function(e,t,i,o){return ht.Default.containsPoint(e,t,i,o)},Na=function(e,t){return ht.Default.unionPoint(e,t)},Ga=function(e,t,i,o,a,r,n,l,s,h){!h&&l&&(h=l.s("body.color")),ht.Default.drawStretchImage(e,t,i,o,a,r,n,l,s,h)},Ya=function(e,t,i){if(i){var o=oa(e,t),a=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(o.width,0),n=new ht.Math.Vector2(o.width,o.height),l=new ht.Math.Vector2(0,o.height),s=new ht.Math.Vector2(o.width/2,o.height/2),h=Math.PI*(i/180);return a.rotateAround(s,h),r.rotateAround(s,h),n.rotateAround(s,h),l.rotateAround(s,h),Na([a,r,n,l])}return oa(e,t)},za=function(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var o=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<o?o.toString():"0"+o)).replace(/M/g,o)).replace(/w|W/g,["日","一","二","三","四","五","六"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var a=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<a?a.toString():"0"+a)).replace(/H/g,a)).replace(/A/g,12<=a?"PM":"AM")).replace(/Aa/g,12<=a?"pm":"am"),a=12<a?a%12:a,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<a?a.toString():"0"+a)).replace(/h/g,a)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())},Xa=function(e,t){var i=e.x,o=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,i-1),n=Math.min(n,i+a+1),l=Math.max(l,o-1),{x:n,y:l=Math.min(l,o+r+1)}},Ua=function(e,t){var i=1<arguments.length&&void 0!==t?t:.1,o=e.length,a=[],r=[];if(o<=2)return{points:e,segments:null};for(var n=0;n<o;n++){var l=e[n],s=e[n-1]||l,h=e[n+1]||l,u=new ht.Math.Vector2(e[n]),c=new ht.Math.Vector2(s),d=new ht.Math.Vector2(h).clone().sub(c).multiplyScalar(i);if(0===n){a.push({x:u.x,y:u.y});var g=u.clone().add(d);a.push({x:g.x,y:g.y}),r.push(1)}else if(n===o-1){var f=u.clone().sub(d);a.push({x:f.x,y:f.y}),a.push({x:u.x,y:u.y}),r.push(4)}else{var v=u.clone().sub(d),p=u.clone().add(d);a.push({x:s?Math.max(s.x,v.x):v.x,y:v.y}),a.push({x:u.x,y:u.y}),a.push({x:h?Math.min(h.x,p.x):p.x,y:p.y}),r.push(4)}}return{points:a,segments:r}},Ka=function(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},Za=function(e){return ht.Default.toColorData(e)},$a=function(e){return ht.Default.getImage(e)},qa=function(e,t){return ht.Default.getDistance(e,t)},Ja=function(e,t,i){if("object"!==(void 0===t?"undefined":_e(t)))return t;var o=t.type,a=t.colorStops,r=t.coordinate,n=i.x,l=i.y,s=i.width,h=i.height,u=void 0;if("radial"===o){r=r||[0,0,0,1];var c=Math.min(s,h),d=[n+s*r[0],l+h*r[1],c*r[2],n+s*r[3],l+h*r[4],c*r[5]];u=e.createRadialGradient.apply(e,d),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}else{var g=[n+s*(r=r||[0,0,0,1])[0],l+h*r[1],n+s*r[2],l+h*r[3]];u=e.createLinearGradient.apply(e,g),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}return u},Qa={comp:{button:function(e,t,i,o,a){var r=i.getValue("text"),n=i.getValue("disabled"),l=i.getValue("font"),s=i.getValue("icon"),h=i.getValue("iconPosition"),u=i.getValue("iconWidth"),c=i.getValue("iconHeight"),d=i.getValue("iconGap"),g=i.getColor("iconColor"),f=i.getColor("hoverIconColor"),v=i.getColor("activeIconColor"),p=i.getColor("textColor"),x=i.getColor("hoverTextColor"),y=i.getColor("activeTextColor"),b=i.getColor("disabledTextColor"),m=i.getValue("borderWidth"),w=i.getColor("borderColor"),k=i.getColor("hoverBorderColor"),C=i.getColor("activeBorderColor"),V=i.getColor("disabledBorderColor"),_=i.getColor("background"),I=i.getColor("hoverBackground"),D=i.getColor("activeBackground"),T=i.getColor("disabledBackground"),S=i.getValue("borderRadius"),L=i.getValue("handleClick"),P=wa(a,o,i),A=ra(J),M=Ie(A,4),B=(M[0],M[1],M[2],M[3],aa(S)),E=Ie(B,4),R=E[0],O=E[1],W=E[2],H=E[3],F=t.x,j=t.y,N=t.width,G=t.height;if(n?(_=T,w=V,p=b,m=m||1):(_=qo(P,_,I,D,!0),w=qo(P,w,k,C,!0),g=qo(P,g,f,v,!1,!0),p=qo(P,p,x,y,!0)),e.fillStyle=_,e.beginPath(),Fa(e,F,j,N,G,R,O,H,W),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!s&&Oa(r))Z(e,r,l,p,F,j,N,G,"center","middle");else if(s&&!Oa(r))$(e,q(s),"uniform",F+.5*(N-u),j+.5*(G-c),u,c,o,a,g);else if(s&&Oa(r)){var Y=oa(l,r),z=void 0,X=void 0;if(ne===h||le===h){var U=j+.5*(G-c-Y.height-d);z={x:F,height:Y.height,width:N},X={x:F+.5*(N-u),width:u,height:c},ne===h?(z.y=U+c+d,X.y=U):le===h&&(z.y=U,X.y=U+Y.height+d)}else{var K=F+.5*(N-u-Y.width-d);z={width:Y.width,y:j,height:G},X={y:.5*(G-c),width:u,height:c},xe===h?(z.x=K,X.x=K+Y.width+d):(z.x=K+u+d,X.x=K)}Z(e,r,l,p,z.x,z.y,z.width,z.height,"center","middle"),$(e,q(s),"uniform",X.x,X.y,X.width,X.height,o,a,g)}P&&(P.disabled=n,P.onClick=L)},input:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),s=i.getValue("disabled"),h=i.getValue("borderWidth"),u=i.getColor("borderColor"),c=i.getColor("focusBorderColor")||u,d=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("icon"),x=i.getValue("iconWidth"),y=i.getValue("iconHeight"),b=i.getValue("iconAlign"),m=i.getValue("font"),w=i.getValue("textAlign"),k=i.getColor("textColor"),C=i.getValue("maxLength"),V=i.getValue("inputType"),_=i.getValue("enterEndInputable"),I=i.getValue("onKeyDown"),D=i.getValue("onKeyUp"),T=i.getValue("onChange"),S=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",L=wa(a,o,i),P=L&&L.editing,A=L&&L.editingValue,M=aa(g),B=Ie(M,4),E=B[0],R=B[1],O=B[2],W=B[3],H=aa(d),F=Ie(H,4),j=F[0],N=F[1],G=F[2],Y=F[3],z=t.x,X=t.y,U=t.width,K=t.height,Z=void 0;if(o&&P?(Z=v,u=c):Z=f,e.beginPath(),Fa(e,z,X,U,K,j,N,Y,G),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(h&&u||P&&h&&c)&&(e.strokeStyle=P?c:u,e.lineWidth=h,e.stroke()),r=(Oa(r)?r:"")+"",!A||!P){var $=!r&&n,q=r||n||"",J=r?k:l,Q=Math.max(0,U-W-R),ee=Math.max(0,K-E-O),te=z+W,ie=X+E;P&&(q=n||"",J=l),q&&(e.save(),e.beginPath(),e.rect(te,ie,Q,ee),e.clip(),!$&&o&&"password"===V&&(q=function(){for(var e="",t=0;t<q.length;t++)e+="•";return e}()),re(e,q,m,J,te,X+1,Q,K,w,"middle"),e.restore())}if(p){var oe=void 0;oe="left"===b?z:"center"===b?z+.5*(U-x):z+U-x,se(e,he(p),"uniform",oe,.5*(K-y),x,y,o,a)}if(s){var ae=h/2;e.beginPath(),Fa(e,z-ae,X-ae,U+h,K+h,j,N,Y,G),e.fillStyle=S,e.closePath(),e.fill()}L&&(L.disabled=s,L.font=m,L.value=r,L.placeholder=n,L.textAlign=w,L.maxLength=C,L.textColor=k,L.inputType=V,L.enterEndInputable=_,L.onKeyUp=D,L.onKeyDown=I,L.onChange=T,L.padding=g,L.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),s=i.getColor("min"),h=i.getColor("max"),u=i.getColor("step"),c=i.getValue("disabled"),d=i.getValue("borderWidth"),g=i.getColor("borderColor"),f=i.getColor("focusBorderColor")||g,v=i.getValue("borderRadius"),p=i.getValue("padding"),x=i.getColor("background"),y=i.getColor("focusBackground")||x,b=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),k=i.getValue("iconAlign"),C=i.getValue("font"),V=i.getValue("textAlign"),_=i.getColor("textColor"),I=i.getValue("maxLength"),D=i.getValue("enterEndInputable"),T=i.getValue("buttonVisible"),S=i.getValue("onKeyDown"),L=i.getValue("onKeyUp"),P=i.getValue("onChange"),A=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",M=wa(a,o,i),B=M&&M.editing,E=M&&M.editingValue,R=aa(p),O=Ie(R,4),W=O[0],H=O[1],F=O[2],j=O[3],N=aa(v),G=Ie(N,4),Y=G[0],z=G[1],X=G[2],U=G[3],K=t.x,Z=t.y,$=t.width,q=t.height,J=void 0;if(o&&B?(J=y,g=f):J=x,e.beginPath(),Fa(e,K,Z,$,q,Y,z,U,X),e.closePath(),J&&(e.fillStyle=J,e.fill()),(d&&g||B&&d&&f)&&(e.strokeStyle=B?f:g,e.lineWidth=d,e.stroke()),!E&&0!==E||!B){var Q=Oa(r)?r:Oa(n)?n:"",ee=Oa(r)?_:l,te=Math.max(0,$-j-H),ie=Math.max(0,q-W-F),oe=K+j,ae=Z+W;B&&(Q=Oa(n)?n:"",ee=l),Oa(Q)&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),ze(e,Q,C,ee,oe,Z+1,te,q,V,"middle"),e.restore())}if(T){var re=K+$-20,ne=Z+d/2,le=q-d,se=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+se),e.lineTo(10+re,ne+le/4-se),e.lineTo(14+re,ne+le/4+se),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-se),e.lineTo(10+re,ne+le/4*3+se),e.lineTo(14+re,ne+le/4*3-se),e.stroke(),M&&(M.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(b){var he=void 0;he="left"===k?K:"center"===k?K+.5*($-m):K+$-m,Xe(e,Ue(b),"uniform",he,.5*(q-w),m,w,o,a)}if(c){var ue=d/2;e.beginPath(),drowRou,Fa(e,K-ue,Z-ue,$+d,q+d,Y,z,U,X),e.fillStyle=A,e.closePath(),e.fill()}M&&(M.disabled=c,M.font=C,M.value=r,M.placeholder=n,M.textAlign=V,M.maxLength=I,M.textColor=_,M.enterEndInputable=D,M.onKeyUp=L,M.onKeyDown=S,M.onChange=P,M.padding=p,M.step=u,M.min=s,M.max=h,M.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),s=i.getValue("disabled"),h=i.getValue("borderWidth"),u=i.getColor("borderColor"),c=i.getColor("focusBorderColor"),d=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("textAlign"),x=i.getColor("textColor"),y=i.getValue("lineHeight"),b=i.getValue("font"),m=i.getValue("wordBreak"),w=i.getValue("maxLength"),k=i.getValue("enterEndInputable"),C=i.getValue("onKeyUp"),V=i.getValue("onKeyDown"),_=i.getValue("onChange"),I=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",D=wa(a,o,i),T=D&&D.editing,S=D&&D.editingValue,L=aa(g),P=Ie(L,4),A=P[0],M=P[1],B=P[2],E=P[3],R=aa(d),O=Ie(R,4),W=O[0],H=O[1],F=O[2],j=O[3],N=e.x,G=e.y,Y=e.width,z=e.height,X=void 0;if(o&&T?(X=v,u=c):X=f,t.beginPath(),Fa(t,N,G,Y,z,W,H,j,F),t.closePath(),X&&(t.fillStyle=X,t.fill()),(h&&u||T&&h&&c)&&(t.strokeStyle=T?c:u,t.lineWidth=h,t.stroke()),r=(Oa(r)?r:"")+"",!S||!T){var U=r||n||"",K=r?x:l,Z=Math.max(0,Y-E-M),$=Math.max(0,z-A-B);if(T&&(U=n||"",K=l),U){t.save(),t.beginPath(),t.rect(N+E,G+A,Z,$),t.clip();var q=$o(U,b,Z,m),J=G+A;q.forEach(function(e){G+z<J||(ee(t,e,b,K,N+E,J,Z,y,p,"middle"),J+=y)}),t.restore()}}if(s){var Q=h/2;t.beginPath(),Fa(t,N-Q,G-Q,Y+h,z+h,W,H,j,F),t.fillStyle=I,t.closePath(),t.fill()}D&&(D.disabled=s,D.font=b,D.value=r,D.placeholder=n,D.textAlign=p,D.maxLength=w,D.textColor=x,D.enterEndInputable=k,D.padding=g,D.wordBreak=m,D.onKeyUp=C,D.onKeyDown=V,D.onChange=_,D.lineHeight=y,D.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),s=i.getColor("background"),h=i.getColor("activeColor"),u=i.getColor("disabledColor"),c=i.getColor("disabledBackground"),d=(i.getValue("symbol"),wa(a,o,i)),g=n?h:l,f=t.x,v=t.y,p=t.width,x=t.height,y=Math.min(p,x);o&&(r?(g=u,s=c):d.pressed?n?g=ht.Default.darker(g,De.activeDarker):s=ht.Default.darker(s,De.activeDarker):d.hover&&(n?g=ht.Default.darker(g,De.hoverDarker):s=ht.Default.darker(s,De.hoverDarker))),s&&(e.beginPath(),e.fillStyle=s,e.arc(f+.5*p,v+.5*x,.5*y,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*y,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*y,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=b),d&&(d.disabled=r,d.onChange=i.getValue("onChange"),d.group=i.getValue("group"),d.value=i.getValue("value"))},checkbox:function(e,t,i,o,a){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),s=i.getColor("activeBorderColor"),h=i.getColor("disabledBorderColor"),u=i.getColor("background"),c=i.getColor("activeBackground"),d=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=wa(a,o,i),x=t.x,y=t.y,b=t.width,m=t.height,w=Math.min(b,m);u=r?c:u,u=n?(l=h,f=v,d):qo(o,u,null,null,!0),r&&!n&&(l=s),m<b?x+=.5*(b-m):b<m&&(y+=.5*(m-b)),e.beginPath(),Fa(e,x,y,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(x+.125*w,y+.5*w),e.lineTo(x+w*(3/8),y+.75*w),e.lineTo(x+.8125*w,y+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),o&&!o.__inputType&&(o.__inputType=k),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("borderWidth"),l=i.getValue("borderColor"),s=i.getValue("disabledBorderColor"),h=i.getValue("focusBorderColor"),u=i.getValue("borderRadius"),c=i.getValue("textColor"),d=i.getValue("value"),g=i.getValue("font"),f=i.getValue("fullMode"),v=i.getValue("showDropDownIcon"),p=i.getValue("dropDownIcon"),x=i.getValue("dropDownIconColor"),y=i.getValue("dropDownIconWidth"),b=i.getValue("dropDownIconHeight"),m=i.getValue("onChange"),w=wa(a,o,i),k=aa(u),C=Ie(k,4),V=C[0],_=C[1],I=C[2],D=C[3],T=t.x,S=t.y,L=t.width,P=t.height,A=T+L+5,M=S+P+5,B=!1,E=void 0;if(r?l=c=s:w&&w.editing&&h&&(l=h),e.save(),f){e.beginPath(),Fa(e,T,S,L,P,V,_,D,I),e.closePath(),e.clip();for(var R=S,O=0;R<M;R+=5,O++){B=O%2!=0;for(var W=T;W<A;W+=5)e.fillStyle=B?K:U,e.fillRect(W,R,5,5),B=!B}}else{A=(E={x:T+4,y:S+4,width:1.66*(P-8),height:P-8}).x+E.width,M=E.y+E.height,e.beginPath(),e.rect(E.x,E.y,E.width,E.height),e.closePath(),e.clip();for(var H=E.y,F=0;H<M;H+=5,F++){B=F%2!=0;for(var j=E.x;j<A;j+=5)e.fillStyle=B?K:U,e.fillRect(j,H,5,5),B=!B}}e.restore(),e.beginPath(),Fa(e,T,S,L,P,V,_,D,I),e.closePath(),d&&f?(e.fillStyle=d,e.fill()):d&&!f&&(e.fillStyle=d,e.fillRect(E.x,E.y,E.width,E.height),Q.setColor(d),N(e,Q,g,c,E.x+E.width+4,S,L-E.width-8,P,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&G(e,z(p||"ht.vector.dropDownIcon"),"uniform",T+L-8-y,S+.5*(P-b),y,b,o,a,x),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getValue("dataSource"),s=i.getValue("disabled"),h=i.getValue("borderWidth"),u=i.getValue("borderColor"),c=i.getValue("disabledBorderColor"),d=i.getValue("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getValue("background"),p=i.getValue("disabledBackground"),x=i.getValue("focusBackground")||v,y=i.getValue("icon"),b=i.getValue("iconWidth"),m=i.getValue("iconHeight"),w=i.getValue("iconAlign"),k=i.getValue("font"),C=i.getValue("textAlign"),V=i.getValue("textColor"),_=i.getValue("disabledTextColor"),I=i.getValue("dropDownIcon"),D=i.getValue("dropDownIconColor"),T=i.getValue("dropDownIconWidth"),S=i.getValue("dropDownIconHeight"),L=i.getValue("drawUnMatchValue"),P=wa(a,o,i),A=P&&P.editing,M=aa(f),B=Ie(M,4),E=B[0],R=B[1],O=B[2],W=B[3],H=aa(g),F=Ie(H,4),j=F[0],N=F[1],G=F[2],Y=F[3],z=t.x,X=t.y,U=t.width,K=t.height,Z=void 0;o?s?(Z=p,u=c,V=_,h=h||1):A?(Z=x,u=d):Z=v:Z=v,e.beginPath(),Fa(e,z,X,U,K,j,N,Y,G),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(h&&u||A&&h&&d)&&(e.strokeStyle=A?d:u,e.lineWidth=h,e.stroke());var $="";if(L)$=r;else if(!Va(r)&&l)for(var q=0,J=l.length;q<J;q++)if(l[q].value===r){$=l[q].label,y=l[q].icon;break}$||(y=null,Va(r)||($=r+""));var Q=$||n||"",ee=Math.max(0,U-W-R-T-8),te=Math.max(0,K-E-O),ie=z+W,oe=X+E;if(Va(r)&&!s&&(V=De.placeholderColor),e.save(),e.beginPath(),e.rect(ie,oe,ee,te),e.clip(),ue(e,Q,k,V,y?ie+b:ie,oe,ee,te,C,"middle"),e.restore(),y){var ae=void 0;ae="left"===w?ie:"center"===w?z+.5*(U-b):z+U-b-R,ce(e,de(y),"uniform",ae,.5*(K-m),b,m,o,a)}ce(e,de(I||"ht.vector.dropDownIcon"),"uniform",z+U-8-T,X+.5*(K-S),T,S,o,a,D),P&&(P.disabled=s,P.dataSource=l,P.dropIconWidth=i.getValue("dropIconWidth"),P.dropIconHeight=i.getValue("dropIconHeight"),P.dropRowHeight=i.getValue("dropRowHeight"),P.dropWidth=i.getValue("dropWidth"),P.dropBackground=i.getValue("dropBackground"),P.dropLabelFont=i.getValue("dropLabelFont"),P.dropLabelColor=i.getValue("dropLabelColor"),P.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),P.dropActiveBackground=i.getValue("dropActiveBackground"),P.dropHoverBackground=i.getValue("dropHoverBackground"),P.dropMaxHeight=i.getValue("dropMaxHeight"),P.onChange=i.getValue("onChange"),P.dropBorderColor=i.getValue("dropBorderColor"),P.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,o,a){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),s=i.getValue("max"),h=i.getValue("showTick"),u=i.getValue("tickEvery"),c=i.getColor("tickColor"),d=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),x=i.getValue("labelEvery"),y=i.getColor("labelColor"),b=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),k=i.getValue("shadowBlur"),C=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),_=i.getValue("shadowOffsetY");Te=i.getValue("clockwise"),Se=i.getValue("min"),ve=i.getValue("startAngle"),pe=i.getValue("endAngle"),oe=Math.abs(s-Se),ae=Math.abs(pe-ve);var I=t.x,D=t.y,T=t.width,S=t.height,L=Math.min(T,S)/2,P=ie(l,Te);if(e.save(),w&&(e.shadowColor=C,e.shadowBlur=k,e.shadowOffsetX=V,e.shadowOffsetY=_),e.translate(I+.5*T,D+.5*S),h){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var A=Se;A<=s;A+=g){var M=ie(A,Te),B=L*Math.cos(M),E=L*Math.sin(M);e.moveTo(.84*B,.84*E),e.lineTo(B,E)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=c,e.lineWidth=d;for(var R=Se;R<=s;R+=u){var O=ie(R,Te),W=L*Math.cos(O),H=L*Math.sin(O);e.moveTo(.9*W,.9*H),e.lineTo(W,H)}e.stroke()}}if(p&&x){m=te(m,L),e.font=b,e.fillStyle=y,e.textAlign="center",e.textBaseline="middle";for(var F=Se;F<=s;F+=x){var j=ie(F,Te),N=m*Math.cos(j),G=m*Math.sin(j);e.fillText(F,N,G)}}var Y=.05*(r=te(r,L));e.rotate(P),e.beginPath(),e.moveTo(-1.5*Y,0),e.lineTo(0,-Y),e.lineTo(r,0),e.lineTo(0,Y),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(p,x,o,y,b){var a,i=o.getValue("columns"),e=o.getValue("dataSource"),t=o.getColor("thBackground"),r=o.getColor("tdBackground"),m=o.getValue("thHeight"),n=o.getValue("tdHeight"),w=o.getValue("textLineHeight"),h=o.getColor("thColor"),k=o.getColor("tdColor"),u=o.getValue("thFont"),C=o.getValue("tdFont"),V=o.getValue("borderWidth"),l=o.getColor("borderColor"),s=o.getColor("columnLineColor"),_=o.getValue("columnLineWidth"),c=o.getValue("columnLinePattern"),d=o.getColor("rowLineColor"),I=o.getValue("rowLineWidth"),g=o.getValue("rowLinePattern"),D=o.getValue("showHeadRowLine"),T=o.getValue("cellPadding"),S=o.getValue("showHead"),L=o.getColor("hoverBackground"),P=o.getColor("hoverColor"),A=o.getColor("selectBackground"),M=o.getColor("selectColor"),B=o.getValue("translateY")||0,E=o.getValue("translateX")||0,f=o.getValue("scrollable"),v=o.getValue("autoHideScrollBar"),R=o.getColor("scrollBarColor"),O=o.getValue("scrollBarWidth"),W=o.getValue("scrollBarWidthAbsolute"),H=o.getValue("drawRow"),F=o.getValue("multiple"),j=o.getValue("onSelectRow"),N=o.getValue("onHoverCell"),G=o.getValue("onClickCell"),Y=o.getValue("selectedIndex")||[],z=o.getValue("visibleFunc"),X=o.getValue("columnVisibleFunc"),U=o.getValue("resizable"),K=o.getValue("resizeLineWidth"),Z=o.getValue("resizeLineColor"),$=o.getValue("resizeInteractiveSize"),q=o.getValue("showHeadColumnLineOnly"),J=wa(b,y,o),Q=x.x,ee=x.y,te=x.width,ie=x.height,oe=te-2*V,ae=ie-2*V,re=void 0,ne=[],le=[],se=[],he=[];if(S&&(re=[Q+V,ee+V,oe,m]),a=[Q+V,ee+m*S+V,te,ae-m*S],Va(Y)||ht.Default.isArray(Y)||(Y=[Y]),p.save(),p.beginPath(),p.rect(Q,ee,te,ie),p.clip(),t&&S&&(p.fillStyle=t,p.fillRect.apply(p,Ae(re))),r&&(p.fillStyle=r,p.fillRect.apply(p,Ae(a))),i&&0<i.length&&(i.forEach(function(e,t){(X&&X(e,t,y,b)||!X)&&(se.push(e),he.push(t))}),se.length)){var ue=se.length,ce=function(e,t){for(var i=[],o=0,a=0,r=void 0,n=void 0,l=0,s=e.length;l<s;l++){r=e[l];n=r.width||.1;if(isNaN(n)){var h=n.split("+"),u=parseFloat(h[0]),c=[];if(u>1){a+=u;c.push(u)}else{o+=u;c.push(u)}u=parseFloat(h[1]);if(u>1){a+=u;c.unshift(u)}else{o+=u;c.push(u)}i.push(c)}else{n=parseFloat(n);if(n>=1){n=Math.max(12,n);a+=n}else{o+=n}i.push(n)}}for(var l=0,s=i.length;l<s;l++){n=i[l];if(n<1){i[l]=Math.max(0,n/o*(t-a))}else if(n instanceof Array){i[l]=n[0]+Math.max(0,n[1]/o*(t-a))}}return i}(se,oe-_*(ue-1)),de=e.length,ge=[],fe=[],ve=J.customColWidths||[],pe=Q+V+E;if(S){var xe=1;b&&b.getZoom&&(xe=b.getZoom()),$*=1/xe;for(var ye=function(e){var t=se[e],i=t.drawHeadCell,o=ce[e]-2*T,a=t.headColor||t.color||h,r=t.headFont||t.font||u;"function"==typeof a&&(a=a(t)),"function"==typeof r&&(r=r(t)),pe+=T,p.save(),p.beginPath();var n,l=t.displayName||t.key,s=[pe,ee+V,o,m];p.rect.apply(p,s),p.clip(),n=function(){Me.apply(void 0,[p,l,r,a].concat(s,[t.align||"left","middle"]))},i?i(p,l,ya(s),{color:a,font:r,defaultDraw:n,data:y,column:t,colIndex:he[e]}):n(),p.restore(),pe+=o+_+T,fe.push({x:pe-$/2-_/2,y:ee,width:$,height:m})},be=0;be<ue;be++)ye(be)}p.save(),p.beginPath(),p.rect(Q+V,ee+V+(S?m:0),oe,ae-m*S),p.clip();var me=ee;if(e&&0<de&&(e.forEach(function(e,t){(z&&z(e,t,y,b)||!z)&&(ne.push(e),le.push(t))}),ne.forEach(function(e,t){ge.push(function(r,n,l,e,t){var s=Math.max(l,e);return t.forEach(function(e,t){var i=e.format,o=r[e.key];if(i&&(o=i(o,r,n,t)),"string"==typeof o){var a=o.match(We);a&&a.length&&(s=Math.max(s,l*(a.length+1)))}}),s}(e,le[t],w,n,i))}),!F&&1<Y.length&&(Y=Y.slice(0,1)),ne.forEach(function(h,u){var c=le[u],d=ge[u],g=me+I*(c+D*S*1)+m*S+V+B,e={x:Q,y:g,width:te,height:d};if(me+=d,pe=Q+V+E,Oe(ya(a),e)){p.save(),H&&H.call(o,p,h,c,e,le.indexOf(c),y,b);var f=J&&J.hoverIndex===c,v=Y&&-1!==Y.indexOf(c);v&&A?(p.fillStyle=A,p.fillRect(Q,g,te,d)):!v&&f&&L&&(p.fillStyle=L,p.fillRect(Q,g,te,d));for(var t=function(e){var a=se[e],t=he[e],i=a.drawCell,r=ce[e]-2*T,n=a.bodyFont||a.font||C,l=a.bodyColor||a.color||k;if(v&&M&&(l=M),!v&&f&&P&&(l=P),"function"==typeof l&&(l=l(h[a.key],h)),"function"==typeof n&&(n=n(h[a.key],h)),!Oe({x:pe+=T,y:g,width:r,height:d},x))return pe+=r+_+T,"continue";var s=h[a.key];a.format&&(s=a.format(s,h,c,t)),p.save(),p.beginPath(),p.rect(pe,g,r,d),p.clip();function o(){var e=a.isIcon;if(a.isIndex&&(e=!1,s=u+1),e)0<r&&Be(p,Ee(s),"centerUniform",pe,g+1,r,d-2,y,b);else{if(function(e){return e===undefined||e===null||e===""}(s))return;var t="string"==typeof s?s.match(We):null;if(t?t.length:0){var i=s.split(We),o=g;"middle"===a.vAlign?o=g+(d-i.length*w)/2:"bottom"===a.vAlign&&(o=g+(d-i.length*w)),i.forEach(function(e){Me(p,e,n,l,pe,o,r,w,a.align||"left",a.vAlign||"middle"),o+=w})}else Me(p,s,n,l,pe,g,r,d,a.align||"left",a.vAlign||"middle")}}i?i(p,s,{x:pe,y:g,width:r,height:d},{column:a,colIndex:t,row:h,rowIndex:c,font:n,color:l,defaultDraw:o,data:y}):o();pe+=r+_+T,p.restore()},i=0;i<ue;i++)t(i);p.restore()}})),J&&(J.rowHeights=ge,J.colWidths=ce,J.headHeight=S?m:0,J.rowLineWidth=I,J.columnLineWidth=_,J.translateX=E,J.translateY=B,J.autoHideScrollBar=v,J.multiple=F,J.selectedIndex=Y,J.dataSource=e,J.columns=i,J.onSelectRow=j,J.onHoverCell=N,J.onClickCell=G,J.rawDatas=ne,J.rawIndexs=le,J.rawCols=se,J.rawColIndexs=he,J.headRect=re,J.bodyRect=a,J.resizable=U,J.resizeRects=fe,J.customColWidths=ve,J.onClickHeadCell=o.getValue("onClickHeadCell"),J.pannable=o.getValue("pannable"),J.scrollBarInteractiveSize=o.getValue("scrollBarInteractiveSize"),J.scrollSpeed=o.getValue("scrollSpeed")),I){var we=ee+V+m*S+B;p.beginPath(),D&&S&&(we+=I/2,p.moveTo(Q,we),p.lineTo(Q+te,we),we+=I/2);for(be=0;be<de&&(we+=ge[be]+I/2,!(ee+ie<we));be++)we<ee||(p.moveTo(Q,we),p.lineTo(Q+te,we)),we+=I/2;p.strokeStyle=d,p.lineWidth=I,g&&1<g.length&&p.setLineDash(g),p.stroke()}if(p.restore(),_){var ke=Q+V+E,Ce=ee+(q&&S?m:ie);p.beginPath();for(var Ve=0;Ve<ue;Ve++)ke+=ce[Ve]+_/2,p.moveTo(ke,ee),p.lineTo(ke,Ce),ke+=_/2;p.strokeStyle=s,p.lineWidth=_,c&&1<c.length&&p.setLineDash(c),p.stroke()}if(y&&J&&f){var _e=_?_*(ue-1):0,Ie=I?(de-1)*I:0;ce.forEach(function(e){_e+=e}),ge.forEach(function(e){Ie+=e});var De={x:Q+V,y:ee+V+(S?m:0),width:oe,height:ae-(S?m:0)},Te={width:_e,height:Ie},Se={x:E,y:B},Le=b.getZoom?b.getZoom():1;Lt(p,De,Te,Se,{visible:!v||J.scrollBarVisible,color:R,barWidth:W?O/Le:O,gap:2/Le},J)}}if(V&&Re(p,l,Q,ee,te,ie,V),J.resizeDragPoint&&Z&&K){var Pe=J.resizeDragPoint.x;p.strokeStyle=Z,p.lineWidth=K,p.beginPath(),p.moveTo(Pe,ee),p.lineTo(Pe,ee+ie),p.stroke()}p.restore()},pie:function(V,e,t,i,o){var a=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),_=t.getValue("startAngle"),l=t.getValue("endAngle"),s=t.getValue("tooltip.show"),h=t.getValue("tooltip.formatter"),I=t.getValue("roseType"),u=t.getValue("seriesName"),D=t.getValue("hoverOffset"),c=t.getValue("avoidLabelOverlap"),d=t.getValue("color"),g=t.getValue("minRoseRadius");if(a instanceof Array){l<_&&(l=_),360<l-_&&(l=_+360),_=-Math.PI/180*_,l=Math.PI/180*l;var f=e.x,v=e.y,p=e.width,x=e.height,y=Math.min(p,x),b=0,m=0,w=-_,k=Ie(r,2),C=k[0],T=void 0===C?0:C,S=k[1],L=void 0===S?.5:S,P=Ie(n,2),A=P[0],M=void 0===A?.5:A,B=P[1],E=void 0===B?.5:B,R=l-Math.abs(_);0<=T&&T<=1&&(T*=y/2),0<=L&&L<=1&&(L*=y/2),M=0<=M&&M<=1?M*p+f:M+f,E=0<=E&&E<=1?E*x+v:E+v;var O=a.map(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),W=O.reduce(function(e,t){return e+t},0),H=O.map(function(e){return e/W}),F=Math.max.apply(Math,Ae(O)),j=L-T,N=O.map(function(e){var t=e/F*j;return t<g?g:t}),G=wa(o,i,t),Y=[],z=void 0,X=[],U=[],K=[],Z=[],$=void 0;if(G){0<a.length&&(z=new Oo(t),a.forEach(function(e,t){if(e){var i=H[t],o=N[t],a=i*R,r=w+a/2;b+=a,Y.push(new Fo({percent:i,roseRadius:o,lineAngle:r,arcAngle:a,arcEndAngle:b,arcStartAngle:m,seriesName:u,index:t,data:e,centerX:M,centerY:E,outerRadius:L,innerRadius:T,roseType:I,hoverOffset:D,color:d},z)),w+=a,m=b}}),w=-_,b=m=_),$=G.foucusArcNum;for(var q=0,J=Y.length;q<J;q++){var Q=Y[q].arcAngle;X.push({x:M+L*Math.cos(w),y:E+L*Math.sin(w)}),U.push(Q),w+=Q,q===J-1&&(w=-_)}!function(e,t,i){for(var o=0,a=e.length;o<a;o++){var r=e[o],n=i===o,l=r.getLabelLinePoints(n),s=l.x0,h=l.y0,u=l.x1,c=l.y1,d=r.getLabelLineLabelInfo(n),g=d.labelTextArray,f=d.textHeight,v=d.beginHeight;t.push({x0:s,y0:h,x1:u,y1:c,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(Y,K,$),c&&function(e,c,t,d,g){for(var i=[],o=[],a=0;a<e.length;a++)e[a].x0<c?i.push(e[a]):o.push(e[a]);function r(e,t){if(e.sort(function(e,t){return e.y0-t.y0}),0<(e=e.filter(function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2,o=e[e.length-1].allTextHeight/2,a=g-i-o,r=e.length,n=0,l=0,s=e.length;l<s;l++){if(a<(n+=e[l].allTextHeight)){r=l;break}}var h=a/(r-1);h===1/0&&(h=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=c+t*(d+10),e[u].y1=i+u*h}}0<i.length&&r(i,-1),0<o.length&&r(o,1)}(K,M,0,L,x);for(var ee=0,te=Y.length;ee<te;ee++){var ie=Y[ee],oe=(ge=$===ee)?ie.labelLineEmphasis:ie.labelLineNormal,ae=oe.show,re=oe.width,ne=oe.type,le=oe.font,se=oe.lineColor,he=oe.textColor;if(ie.value&&!1!==ae){var ue=function(){var e=K[ee],t=e.x0,i=e.y0,o=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,s=e.lineLength2,h=e.avoidIsShow;if(c&&!h)return{v:void 0};V.save(),V.lineWidth=re,V.font=le,V.strokeStyle=se,V.fillStyle=he,V.setLineDash("dashed"===ne?[2,2]:[]);var u=o<=t?-1:1;V.textAlign=o<=t?"right":"left",V.textBaseline="top",V.beginPath(),0<re?(V.moveTo(t,i),c&&V.lineTo(M+u*(L+5),i),V.lineTo(o,a),o+=u*s,V.lineTo(o,a),V.stroke()):o+=u*s,l.forEach(function(e,t){V.fillText(e,o+3*u,a-n/2+r*t)}),V.restore()}();if("object"===(void 0===ue?"undefined":_e(ue)))return ue.v}}V.save(),V.translate(M,E),V.rotate(-_),xe("fill"),xe("stroke"),V.restore(),function(e,t){for(var i=0,o=e.length;i<o;i++){var a=e[i].getLabelPoints(),r=a.textX,n=a.textY;t.push({textX:r,textY:n})}}(Y,Z),V.save(),V.textAlign="center",V.textBaseline="top";for(var ce=0,de=Y.length;ce<de;ce++){ie=Y[ce];var ge,fe=(ge=$===ce)?ie.labelEmphasis:ie.labelNormal,ve=(ae=fe.show,fe.position),pe=fe.color;le=fe.font;ie.value&&!1!==ae&&function(){V.save(),V.font=le,V.fillStyle=pe;var e=Z[ce],i="center"===ve?M:e.textX,o="center"===ve?E:e.textY,t=ie.getLabelInfo(ge),a=t.labelTextArray,r=t.textHeight,n=t.beginHeight;a.forEach(function(e,t){V.fillText(e,i,o-n+r*t)}),V.restore()}()}V.restore(),G&&(G.arcPoints=X,G.arcAngles=U,G.center={x:M,y:E},G.radius={outerRadius:L,innerRadius:T},G.hoverOffset=D,G.tooltip={show:!No(s)||s,formatter:h||""},G.pieItems=Y)}}function xe(e){for(var t=0,i=Y.length;t<i;t++){var o=Y[t],a=o.arcEndAngle,r=o.arcStartAngle,n=o.roseRadius,l=o.itemStyle,s=l.color,h=l.borderWidth,u=l.borderColor,c=l.borderType,d=void 0;if(o.value&&("stroke"===e&&0<h||"fill"===e)){if(V.save(),V.beginPath(),V.moveTo(T*Math.cos(r),T*Math.sin(r)),$===t?(d=I?n+D+T:L+D,V.arc(0,0,d,r,a,!1),V.arc(0,0,T,a,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(d=I?n+T:L,V.arc(0,0,d,r,a,!1),V.arc(0,0,T,a,r,!0)),V.closePath(),"fill"===e){if("string"==typeof s)V.fillStyle=s;else if("object"===(void 0===s?"undefined":_e(s))){var g=s.type,f=s.colorStops,v=null;if("radial"===g)v=V.createRadialGradient(0,0,T,0,0,d);else if("linear"===g){var p=Bo(o,_),x=p.minY,y=p.maxY;v=V.createLinearGradient(0,x,0,y)}if(v&&f instanceof Array){for(var b=0,m=f.length;b<m;b++){var w=f[b],k=w.offset,C=w.color;void 0!==k&&void 0!==C&&v.addColorStop(k,C)}V.fillStyle=v}}V.fill()}else"stroke"===e&&(V.strokeStyle=u,V.lineWidth=h,V.setLineDash("dashed"===c?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(u,e,t,i,o){t.getValue("value");var c=t.getValue("max"),d=t.getValue("min"),a=t.getValue("labelEvery"),r=t.getValue("labelFont"),n=t.getColor("labelColor"),l=t.getValue("labelAlign"),s=t.getValue("labelDistance"),h=t.getValue("labelOffsetX"),g=t.getValue("labelOffsetY"),f=t.getValue("direction"),v=t.getValue("paddingBefore"),p=t.getValue("paddingAfter"),x=t.getColor("background"),y=t.getValue("smallTickEvery"),b=t.getColor("smallTickColor"),m=t.getValue("smallTickWidth"),w=t.getValue("smallTickLongness"),k=t.getValue("mediumTickEvery"),C=t.getColor("mediumTickColor"),V=t.getValue("mediumTickWidth"),_=t.getValue("mediumTickLongness"),I=t.getValue("largeTickEvery"),D=t.getColor("largeTickColor"),T=t.getValue("largeTickWidth"),S=t.getValue("largeTickLongness"),L=t.getValue("reverse"),P=e.x,A=e.y,M=e.width,B=e.height;x&&(u.fillStyle=x,u.fillRect(P,A,M,B));var E=c-d,R=B;f!==ye&&f!==xe||(R=M);var O=[{every:y,color:b,longness:w,width:m},{every:k,color:C,longness:_,width:V},{every:I,color:D,longness:S,width:T}];if(L){if(O.forEach(function(e){if(e.every){var t=Le(e.longness,R);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var i=P+M-v,o=(M-v-p)*(e.every/E),a=f===ne?A:A+B;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i-=o}else{var n=A+B-v,l=(B-v-p)*(e.every/E),s=f===ye?P:P+M;f===xe&&(t=0-t);for(var h=d;h<=c;h+=e.every)u.moveTo(s,n),u.lineTo(s+t,n),n-=l}u.stroke()}}),a){var W=Le(s,R);if(u.fillStyle=n,u.font=r,f===ne||f===le){var H=P+M-v+h,F=a/E*(M-v-p),j=(f===ne?A:A+B)+g;if(f===le)W=0-W-oa(r,"1").height;else u.textBaseline="hanging";for(var N=d;N<=c;N+=a){var G=oa(r,N);l===ge?Pe(u,N,r,n,H-.5*G.width,j+W,G.width,G.height,l,"middle"):l===xe?u.fillText(N,H-oa(r,N).width+2,j+W):l===ye&&u.fillText(N,H,j+W),H-=F}}else{var Y=A+B-v+g,z=a/E*(B-v-p),X=(f===ye?P:P+M)+h;u.textBaseline="middle",f===xe&&(W=0-W);for(var U=d;U<=c;U+=a){var K=U+"";f===xe?u.fillText(K,X+W-oa(r,K).width+2,Y):u.fillText(K,X+W,Y),Y-=z}}}}else if(O.forEach(function(e){if(e.every){var t=Le(e.longness,R);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var i=P+v,o=(M-v-p)*(e.every/E),a=f===ne?A:A+B;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i+=o}else{var n=A+v,l=(B-v-p)*(e.every/E),s=f===ye?P:P+M;f===xe&&(t=0-t);for(var h=d;h<=c;h+=e.every)u.moveTo(s,n),u.lineTo(s+t,n),n+=l}u.stroke()}}),a){var Z=Le(s,R);if(u.fillStyle=n,u.font=r,f===ne||f===le){var $=P+v+h,q=a/E*(M-v-p),J=(f===ne?A:A+B)+g;if(f===le)Z=0-Z-oa(r,"1").height;else u.textBaseline="hanging";for(var Q=d;Q<=c;Q+=a){var ee=oa(r,Q);l===ge?Pe(u,Q,r,n,$-.5*ee.width,J+Z,ee.width,ee.height,l,"middle"):l===xe?u.fillText(Q,$-oa(r,Q).width+2,J+Z):l===ye&&u.fillText(Q,$,J+Z),$+=q}}else{var te=A+v+g,ie=a/E*(B-v-p),oe=(f===ye?P:P+M)+h;u.textBaseline="middle",f===xe&&(Z=0-Z);for(var ae=d;ae<=c;ae+=a){var re=ae+"";f===xe?u.fillText(re,oe+Z-oa(r,re).width+2,te):u.fillText(re,oe+Z,te),te+=ie}}}},multilineText:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),s=t.getValue("color"),h=t.getValue("lineHeight"),u=t.getColor("background"),c=t.getValue("padding"),d=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),x=e.x,y=e.y,b=e.width,m=e.height,w=aa(c),k=Ie(w,4),C=k[0],V=k[1],_=k[2],I=k[3],D=aa(f),T=Ie(D,4),S=T[0],L=T[1],P=T[2],A=T[3];i.beginPath(),Fa(i,x,y,b,m,S,L,A,P),i.closePath(),va(i,{borderWidth:g,borderColor:d,dash:v,dashPattern:p,background:u});var M=I,B=C,E=0,R=b-I-V,O=r.split(/\n/),W=O.length*h+C+_,H=I+C;O.forEach(function(e){var t=oa(n,e);E=Math.max(E,t.width),F(i,e,n,s,M,B,R,h,l,"middle"),B+=h}),H+=E,o&&o.constructor===ht.Node&&(o.getWidth()===H&&o.getHeight()===W||(o.setSize(H,W),o.setSize3d(H,100,W)))},slider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),s=i.getValue("step"),h=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),y=i.getColor("barBackground"),b=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),k=i.getValue("barWidth"),C=i.getValue("barBorderRadius"),V=i.getValue("padding"),_=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),D=i.getColor("showToolTip"),T=i.getColor("toolTipFormat"),S=wa(a,o,i);l=Math.min(n,Math.max(r,l));var L=t.x,P=t.y,A=t.width,M=t.height,B=Math.abs(n-r),E={x:L+V,y:P+(M-k)/2,width:A-2*V,height:k};C<1&&(C*=k),pa(e,E,y,C);var R=ht.Default.clone(E);R.width*=(l-r)/B,m&&(b=ht.Default.createGradient(e,m,b,w,E.x,E.y,E.width,E.height)),pa(e,R,b,C);var O=R.x+R.width-f/2+p,W=R.y+(k-v)/2+x;h?H(e,ht.Default.getImage(h),O,W,f,v):(c<1&&(c*=Math.min(f,v)),e.beginPath(),Fa(e,O,W,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=I,e.fillRect(L,P,A,M)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=s,S.showToolTip=D,S.toolTipFormat=T,S.barRect=E,S.onChange=i.getValue("onChange"),S.sliderRect={x:O,y:W,width:f,height:v})},rangeSlider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),s=i.getValue("step"),h=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),y=i.getColor("barBackground"),b=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),k=i.getValue("barWidth"),C=i.getValue("barBorderRadius"),V=i.getValue("padding"),_=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),D=i.getColor("showToolTip"),T=i.getColor("toolTipFormat"),S=wa(a,o,i),L=t.x,P=t.y,A=t.width,M=t.height,B=Ie(l,2),E=B[0],R=B[1];E=Math.max(r,E),R=Math.min(n,R);var O=Math.abs(n-r),W={x:L+V,y:P+(M-k)/2,width:A-2*V,height:k};C<1&&(C*=k),pa(e,W,y,C);var H=ht.Default.clone(W);H.width*=(R-E)/O,H.x+=(E-r)/O*W.width,m&&(b=ht.Default.createGradient(e,m,b,w,W.x,W.y,W.width,W.height)),pa(e,H,b,C);var F=H.x-f/2+p,j=H.x+H.width-f/2+p,N=H.y+(k-v)/2+x;h?(He(e,ht.Default.getImage(h),F,N,f,v),He(e,ht.Default.getImage(h),j,N,f,v)):(c<1&&(c*=Math.min(f,v)),e.beginPath(),Fa(e,F,N,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke()),e.beginPath(),Fa(e,j,N,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=I,e.fillRect(L,P,A,M)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=s,S.valueBarDraggable=i.getValue("valueBarDraggable"),S.onChange=i.getValue("onChange"),S.showToolTip=D,S.toolTipFormat=T,S.barRect=W,S.valueBarRect=H,S.sliderRect={x:F,y:N,width:f,height:v},S.sliderRect2={x:j,y:N,width:f,height:v})},multipleComboBox:function(r,e,t,i,o){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),s=t.getValue("disabled"),h=t.getValue("borderWidth"),u=t.getColor("borderColor"),c=t.getColor("focusBorderColor"),d=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),x=t.getColor("itemTextColor"),y=t.getColor("itemBorderWidth"),b=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),k=t.getColor("itemGradient"),C=t.getColor("itemGradientColor"),V=t.getValue("itemPadding"),_=t.getValue("itemHGap"),I=t.getValue("itemVGap"),D=t.getValue("closeIconOnLeft"),T=t.getValue("closeIconSize"),S=t.getColor("closeIconColor"),L=t.getValue("padding"),P=wa(o,i,t),A=P&&P.editing,M=e.x,B=e.y,E=e.width,R=e.height,O=aa(L),W=Ie(O,4),H=W[0],F=W[1],j=W[2],N=W[3],G=aa(d),Y=Ie(G,4),z=Y[0],X=Y[1],U=Y[2],K=Y[3],Z=void 0;i&&A?(Z=f,u=c):Z=g,r.beginPath(),Fa(r,M,B,E,R,z,X,K,U),r.closePath(),Z&&(r.fillStyle=Z,r.fill()),(h&&u||A&&h&&c)&&(r.strokeStyle=A?c:u,r.lineWidth=h,r.stroke());var $=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){$.push(n[t]);break}});var q=[],J=aa(V),Q=Ie(J,4),ee=Q[0],te=Q[1],ie=Q[2],oe=Q[3],ae=[M+N-y/2,B+H-y/2,E-N-F+y,R-H-j+y+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<$.length){var le=[M+N+y/2,B+H+y/2,E-N-F-y,R-H-j-y],se=le[0],he=le[1],ue=0,ce=aa(m),de=Ie(ce,4),ge=de[0],fe=de[1],ve=de[2],pe=de[3],xe=w;$.forEach(function(e){var t=e.label||e.value,i=oa(p,t);ne=ne||i.height,ue&&se+i.width+_+y+7>le[0]+le[2]&&(se=le[ue=0],he+=ne+I+y+ee+ie,re++);var o=[se,he,i.width+oe+te+T+2,i.height+ee+ie];y&&(r.beginPath(),r.strokeStyle=b,Fa.apply(void 0,[r].concat(o,[ge,fe,pe,ve])),r.closePath(),w&&(k&&C&&(xe=je.apply(void 0,[r,k,w,C].concat(o))),r.fillStyle=xe,r.fill()),r.stroke());var a=[o[0]+oe+i.width+2,o[1]+ee,T,o[3]-ie-ee];D&&(a[0]=o[0]+oe,o[0]+=T+2),o[2]=o[2]-T-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=S,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-T)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-T)/2+T),r.moveTo(a[0]+a[2],a[1]+(a[3]-T)/2),r.lineTo(a[0],a[1]+(a[3]-T)/2+T),r.stroke(),Fe.apply(void 0,[r,t,p,x].concat(o,["center","middle"])),se+=i.width+_+y+oe+te+T+2,ue++})}else if(l){var ye=oa(p,l),be=[M+N,B+H,E-N-F,ye.height+ee+ie];Fe.apply(void 0,[r,l,p,De.placeholderColor].concat(be,["left","middle"])),ne=ye.height}if(r.restore(),s){var me=[M-h/2,B-h/2,E+h,R+h];r.save(),r.beginPath(),Fa.apply(void 0,[r].concat(me,[z,X,K,U])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}i&&(i.__suggestHeight=H+j+(ee+ie+ne)*re+I*(re-1)),P&&(P.value=a,P.valueItemInfo=q,P.disabled=s,P.dataSource=n,P.dropIconWidth=t.getValue("dropIconWidth"),P.dropIconHeight=t.getValue("dropIconHeight"),P.dropRowHeight=t.getValue("dropRowHeight"),P.dropWidth=t.getValue("dropWidth"),P.dropBackground=t.getValue("dropBackground"),P.dropLabelFont=t.getValue("dropLabelFont"),P.dropLabelColor=t.getValue("dropLabelColor"),P.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),P.dropActiveBackground=t.getValue("dropActiveBackground"),P.dropHoverBackground=t.getValue("dropHoverBackground"),P.dropMaxHeight=t.getValue("dropMaxHeight"),P.onChange=t.getValue("onChange"),P.hideSelected=t.getValue("hideSelected"),P.maxSelection=t.getValue("maxSelection"))},richTextPane:function(s,e,t,h,u){var i=t.getValue("content"),o=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),c=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),d=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),x=t.getColor("borderColor"),y=t.getValue("borderWidth")||0,b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),k=aa(d),C=Ie(k,4),V=C[0],_=(C[1],C[2],C[3]),I=e.x+y/2,D=e.y+y/2,T=e.width-y,S=e.height-y,L=[I,D,T,S];if(s.save(),n)if(s.beginPath(),le===c){var P=T-10;s.moveTo(I,D),s.lineTo(I+T,D),s.lineTo(I+T,D+S-10),s.lineTo(I+P*l+10,D+S-10),s.lineTo(I+P*l+5,D+S),s.lineTo(I+P*l,D+S-10),s.lineTo(I,D+S-10),s.closePath(),L=[I,D,T,S-10]}else if(ye===c){var A=S-10;s.moveTo(I+10,D),s.lineTo(I+T,D),s.lineTo(I+T,D+S),s.lineTo(I+10,D+S),s.lineTo(I+10,D+A*l+10),s.lineTo(I,D+A*l+5),s.lineTo(I+10,D+A*l),s.closePath(),L=[I+10,D,T-10,S]}else if(xe===c){var M=S-10;s.moveTo(I,D),s.lineTo(I+T-10,D),s.lineTo(I+T-10,D+M*l),s.lineTo(I+T,D+M*l+5),s.lineTo(I+T-10,D+M*l+10),s.lineTo(I+T-10,D+S),s.lineTo(I,D+S),s.closePath(),L=[I,D,T-10,S]}else{var B=T-10;s.moveTo(I+B*l,D+10),s.lineTo(I+B*l+5,D),s.lineTo(I+B*l+10,D+10),s.lineTo(I+T,D+10),s.lineTo(I+T,D+S),s.lineTo(I,D+S),s.lineTo(I,D+10),s.closePath(),L=[I,D+10,T,S-10]}else s.beginPath(),s.rect(I,D,T,S);if(va(s,{borderWidth:y,borderColor:x,background:o,bgGradient:a,bgGradientColor:r,contentRect:L,dash:b,dashPattern:m}),o){var E;if(a)o=(E=ht.Default).createGradient.apply(E,[s,a,o,r].concat(Ae(L)));s.fillStyle=o,s.fill()}if(x&&y&&(s.lineWidth=y,s.strokeStyle=x,s.stroke()),s.textAlign="left",i){i.length;var R=D+V+(c===ne?10:0);i.forEach(function(e,t){var r=I+_+(c===ye?10:0),n=0,l=(i.length,[]);e.forEach(function(e,t){var i=Ma(e.text,h,u),o=oa(e.font||v,i);n=Math.max(n,o.height),o.width,l[t]=o.width}),e.forEach(function(e,t){var i=Ma(e.text,h,u),o=Ma(e.font,h,u)||v,a=Ma(e.vAlign,h,u)||w;s.fillStyle=Ma(e.color,h,u)||p,s.font=o,"top"===(s.textBaseline=a)?s.fillText(i,r,R):"middle"===a?s.fillText(i,r,R+n/2):s.fillText(i,r,R+n),r+=l[t]+f}),n,R+=g+n})}s.restore()},textBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),s=t.getValue("wordBreak"),h=t.getValue("vAlign"),u=t.getColor("color"),c=t.getValue("lineHeight"),d=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),x=t.getValue("borderWidth"),y=t.getValue("borderRadius"),b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),k=t.getColor("bgGradientColor"),C=t.getValue("translateX"),V=t.getValue("translateY"),_=t.getColor("scrollBarColor"),I=t.getValue("scrollable"),D=t.getValue("autoHideScrollBar"),T=t.getValue("scrollBarWidth"),S=t.getValue("scrollBarWidthAbsolute"),L=t.getValue("underline"),P=aa(g),A=Ie(P,4),M=A[0],B=A[1],E=A[2],R=A[3],O=aa(y),W=Ie(O,4),H=W[0],F=W[1],j=W[2],N=W[3];if(o.beginPath(),Fa(o,e.x,e.y,e.width,e.height,H,F,N,j),o.closePath(),va(o,{borderWidth:x,borderColor:p,dash:b,dashPattern:m,background:f,bgGradient:w,bgGradientColor:k,contentRect:[e.x,e.y,e.width,e.height]}),r&&i){o.save();var G=e.x,Y=e.y,z=G+R,X=Y+M,U=parseInt(e.width)-R-B,K=parseInt(e.height)-M-E,Z=$o(r,l,U,s);if(n&&Z.length*c>K){var $=U+"-"+K+l+c,q=Ke[$];q=q||(Ke[$]={});var J=0,Q=0,ee=void 0,te=void 0,ie=void 0,oe=void 0,ae=void 0,re=void 0;if(h="top",q&&q[r])te=1/(ee=q[r]),oe=ee*c,re=parseInt(U*te),o.scale(ee,ee),Z=$o(r,l,re,s);else{for(;J<4;){if(te=1/(ee=Math.sqrt(K/((Z.length+Q)*c))),oe=ee*c,re=parseInt(U*te),ae&&o.scale(ae,ae),o.scale(ee,ee),(ie=$o(r,l,re,s)).length*oe>K)Q+=Math.ceil((ie.length*oe-K)/oe+.5),ae=te;else{if(!(ie.length*oe<K&&Math.abs(K-ie.length*oe)>2*oe)){Z=ie;break}Q-=Math.floor((K-ie.length*oe)/oe),ae=te}4==++J&&(Z=ie)}q[r]=ee}z=(G+R)*te,X=(Y+M)*te,Z.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,z,X,re,oe,d,h),L){var i=oa(l,e);o.strokeStyle=u,o.beginPath(),o.moveTo(z,X+c),o.lineTo(z+i.width,X+c),o.stroke()}X+=c})}else if(v&&(Z.length+1)*c<K){var ne=U+"-"+K+l+c,le=Ke[ne];le=le||(Ke[ne]={});var se=0,he=void 0,ue=void 0,ce=void 0,de=void 0,ge=void 0,fe=void 0;if(h="top",le&&le[r])ue=1/(he=le[r]),de=he*c,fe=parseInt(U*ue),o.scale(he,he),Z=$o(r,l,fe,s);else{for(var ve=Math.sqrt(K/(Z.length*c));se<4;){if(ue=1/(he=ve),de=he*c,fe=parseInt(U*ue),ge&&o.scale(ge,ge),o.scale(he,he),!((ce=$o(r,l,fe,s)).length*de>K||ce.length*de<K&&K-ce.length*de>.8*de)){Z=ce;break}ge=ue,ve*=Math.sqrt(K/(ce.length*de)),4==++se&&(Z=ce)}le[r]=he}z=(G+R)*ue,X=(Y+M)*ue,Z.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,z,X,fe,de,d,h),L){var i=oa(l,e);o.strokeStyle=u,o.beginPath(),o.moveTo(z,X+de),o.lineTo(z+i.width,X+de),o.stroke()}X+=c})}else if(!n&&I){var pe=G+R,xe=Y+M,ye=xe-c,be=xe+K+c;o.save(),o.beginPath(),o.rect(pe,xe,U,K),o.clip(),X+=V,Z.forEach(function(e,t){if(ye<=X&&X<be&&(ht.Default.drawText(o,e,l,u,z,X,U,c,d,h),L)){var i=oa(l,e);o.strokeStyle=u,o.beginPath(),o.moveTo(z,X+c),o.lineTo(z+i.width,X+c),o.stroke()}X+=c}),o.restore();var me=wa(a,i,t),we=U,ke=Z.length*c,Ce=a.getZoom?a.getZoom():1,Ve=S?T/Ce:T;me&&(me.translateX=C,me.translateY=V),Lt(o,{x:z,y:Y+M,width:U,height:K},{width:we,height:ke},{x:C,y:V},{visible:!D||me.scrollBarVisible,color:_,gap:0,barWidth:Ve},me||{})}else"middle"===h?X+=(K-Z.length*c)/2:"bottom"===h&&(X+=K-Z.length*c),Z.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,z,X,U,c,d,h),L){var i=oa(l,e);o.strokeStyle=u,o.beginPath(),o.moveTo(z,X+c),o.lineTo(z+i.width,X+c),o.stroke()}X+=c});o.restore()}},textEllipsis:function(e,t,i,o,a){var r,n=i.getValue("content"),l=i.getValue("font"),s=i.getValue("align"),h=i.getValue("vAlign"),u=i.getColor("color"),c=i.getValue("padding"),d=i.getColor("background"),g=i.getColor("borderColor"),f=i.getValue("borderWidth"),v=i.getValue("borderRadius"),p=i.getValue("dash"),x=i.getValue("dashPattern"),y=i.getValue("bgGradient"),b=i.getColor("bgGradientColor"),m=aa(c),w=Ie(m,4),k=w[0],C=w[1],V=w[2],_=w[3],I=aa(v),D=Ie(I,4),T=D[0],S=D[1],L=D[2],P=D[3];e.beginPath(),Fa(e,t.x,t.y,t.width,t.height,T,S,P,L),e.closePath(),va(e,{borderWidth:f,borderColor:g,dash:p,dashPattern:x,background:d,bgGradient:y,bgGradientColor:b,contentRect:[t.x,t.y,t.width,t.height]});for(var A=[t.x+_,t.y+k,t.width-_-C,t.height-k-V],M=A[2],B="",E=0;E<n.length;E++){B+=n[E];var R=oa(l,B+"...").width;if(R<=M&&E==n.length-1){n=B;break}if(M<R){n=(B=B.slice(0,B.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,u].concat(A,[s,h]))},verticalTextBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),s=t.getValue("padding"),h=t.getValue("startOnRight"),u=t.getColor("background"),c=t.getColor("borderColor"),d=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),x=t.getColor("bgGradientColor"),y=t.getValue("wordBreak"),b=t.getValue("vGap"),m=t.getValue("hGap"),w=t.getValue("autoWrap"),k=aa(s),C=Ie(k,4),V=C[0],_=C[1],I=C[2],D=C[3],T=aa(g),S=Ie(T,4),L=S[0],P=S[1],A=S[2],M=S[3];if(o.beginPath(),Fa(o,e.x,e.y,e.width,e.height,L,P,M,A),o.closePath(),va(o,{borderWidth:d,borderColor:c,dash:f,dashPattern:v,background:u,bgGradient:p,bgGradientColor:x,contentRect:[e.x,e.y,e.width,e.height]}),r){var B={x:e.x+D,y:e.y+V,width:e.width-D-_,height:e.height-V-I},E=B.x,R=B.y,O=B.width,W=w?function(e,g,f,v,p){var x=[];return e.split("\n").forEach(function(e){if(""===e&&(e=Y),p)Array.prototype.push.apply(x,Ze(e,f,g,v));else{for(var t,i,o,a="",r=void 0,n=void 0,l="",s=0;s<e.length;s++){e.charAt(s).match(/[a-z|A-Z]/g)?a+="1":a+="2"}a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var h=0;h<a.length;h++){a.charAt(h).match(/\_/g)&&(e=ha(e,h+1,"|"))}t=e.split("|"),i=a.split("_");for(var u=(o=oa(g,"图")).height/3,c=0,d=t.length;c<d;c++)r=l+t[c],u+=o.height*t[c].length+v,"1"===i[c][0]?f<u?(l?(x.push(l),l="",c--):(n=Ze(t[c],f,g,v),Array.prototype.push.apply(x,n.slice(0,n.length-1)),l=n[n.length-1]),u=o.height/3):u===f?(x.push(r),l="",u=o.height/3):l=r:f<u?(n=Ze(r,f,g,v),Array.prototype.push.apply(x,n.slice(0,n.length-1)),l=n[n.length-1],u=o.height/3):l=r;l&&x.push(l)}}),x}(r,n,B.height,b,y):[r],H=oa(n,"图"),F=H.width,j=H.height,N=void 0,G=void 0;o.save(),o.fillStyle=l,o.textBaseline="top",o.font=n,h?(N=E+O-F,G=R,W.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,G),G+=b+j}G=R,N=N-F-m})):(N=E,G=R,W.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,G),G+=b+j}G=R,N+=F+m})),o.restore()}},tree:function(Me,Be,e,Ee,Re){var t=e.getValue("dataSource"),Oe=e.getValue("itemHeight"),We=e.getValue("indent"),He=e.getValue("badgeHeight"),Fe=e.getValue("badgeSpace"),je=e.getValue("badgeRadius"),Ne=e.getValue("translateX"),Ge=e.getValue("translateY"),Ye=e.getValue("treeFont"),ze=e.getValue("badgeFont"),i=e.getColor("textColor"),Xe=e.getColor("hoverBackColor"),Ue=e.getColor("hoverTextColor"),Ke=e.getColor("selectBackColor"),Ze=e.getColor("selectTextColor"),o=e.getColor("backColor"),$e=e.getColor("borderColor"),a=e.getColor("lineColor"),r=e.getColor("scrollBarColor"),qe=e.getValue("showLine"),Je=e.getValue("showCheckbox"),Qe=e.getValue("showBorder"),et=e.getValue("showIcon"),tt=e.getValue("showBadge"),n=e.getValue("scrollable"),l=e.getValue("autoHideScrollBar"),s=e.getValue("scrollBarWidth"),h=e.getValue("scrollBarWidthAbsolute"),it=e.getValue("expandIconSize"),ot=e.getValue("iconSize"),at=e.getValue("checkIconSize"),rt=e.getValue("space"),nt=e.getValue("visibleFunc")||function(){return!0},lt=Et(e.getValue("openIcon")),st=Et(e.getValue("closeIcon")),ht=Et(e.getValue("loadingIcon")),ut=Et(e.getValue("defaultIcon")),ct=Et(e.getValue("checkIcon")),dt=Et(e.getValue("unCheckIcon")),gt=Et(e.getValue("unCheckAllIcon")),ft=void 0,vt=void 0,pt=void 0,xt=void 0,yt=void 0,bt=void 0,mt=void 0;lt||(lt=Et("ht.vector.treeOpenIcon"),ft=e.getColor("openIconColor")),st||(st=Et("ht.vector.treeCloseIcon"),vt=e.getColor("closeIconColor")),ht||(ht=Et("ht.vector.treeLoadIcon"),pt=e.getColor("loadingIconColor")),ut||(ut=Et("ht.vector.treeDefIcon"),xt=e.getColor("defaultIconColor")),ct||(ct=Et("ht.vector.treeCheckIcon"),yt=e.getColor("checkIconColor")),dt||(dt=Et("ht.vector.treeUnCheckIcon"),bt=e.getColor("unCheckIconColor")),gt||(gt=Et("ht.vector.treeUnCheckAllIcon"),mt=e.getColor("unCheckAllIconColor"));var wt=Be.x,kt=Be.y,Ct=Be.width,u=Be.height,Vt=0,_t=0,It=Mt({showCheckbox:Je,showIcon:et,expandIconSize:it,iconSize:ot,checkIconSize:at,space:rt}),c=wa(Re,Ee,e),d=null;if(c){c.rootTree?(d=c.rootTree).clearExitChildsMap():(d=new R(Ee),c.rootTree=d);for(var g=0,f=t.length;g<f;g++){var v=t[g];v&&At(v,d)}d.traverseChildsMap(function(e,t){t.parent.removeChildren(t)}),d.clearChildsMap(),d.traverseExitChildsMap(function(e,t){d.addChildsMapById(e,t),Je&&t.checked&&(t.checkAfter(),t.checkBefore())})}if(d){Me.save(),Me.fillStyle=o,Me.beginPath(),Me.fillRect(wt,kt,Ct,u),Me.fill(),Me.restore(),Me.save(),Me.font=Ye,Me.fillStyle=i,Me.strokeStyle=a,Me.setLineDash([1,1]),Me.lineWidth=.5,Me.lineJoin="miter",Me.textBaseline="middle",Me.textAlign="start",Me.beginPath(),Me.rect(wt,kt,Ct,u),Me.clip();for(var p=d.children,Dt=null,Tt={expandIconRects:[],treeBackRects:[],checkIconRects:[],badgeRects:[]},x=0,y=p.length;x<y;x++)St(p[x]);Me.restore();var b=Re.getZoom?Re.getZoom():1,m=h?s/b:s,w=Vt+m,k=_t;if(Ct<Vt-2&&(k=_t+m),c&&(c.translateX=Ne,c.translateY=Ge,c.rectInfo=Tt,c.scrollBarInfo={x:wt,y:kt,width:Ct,height:u,boundWidth:w,boundHeight:k,absoluteScrollBarWidth:m},c.autoHideScrollBar=l,c.accordion=e.getValue("accordion"),c.multiSelect=e.getValue("multiSelect"),c.loadData=e.getValue("loadData")||function(e,t){return t()},c.onCheck=e.getValue("onCheck")||function(){},c.onExpand=e.getValue("onExpand")||function(){},c.onSelect=e.getValue("onSelect")||function(){},c.onClickBack=e.getValue("onClickBack")||function(){},c.onClickBadge=e.getValue("onClickBadge")||function(){},c.selectableFunc=e.getValue("selectableFunc")||function(){return!0},c.expandableFunc=e.getValue("expandableFunc")||function(){return!0},c.checkableFunc=e.getValue("checkableFunc")||function(){return!0}),n){var C={x:wt,y:kt,width:Ct,height:u},V={width:w,height:k},_={x:Ne,y:Ge};k<u&&0!==Ge&&(V.height=u-Ge),Lt(Me,C,V,_,{visible:!l||c.scrollBarVisible,color:r,gap:0,barWidth:m},c||{})}}function St(e){if(nt(e)){var t=e.text,i=e.parent,o=oa(Ye,t).width,a=i._treeItemRect;e._treeItemRect={x:a?a.x+We:wt+Ne+We,y:Dt?Dt._treeItemRect.y+Oe:kt+Ge,width:o+It,height:Oe};var r=e.text,n=e.children,l=e.expanded,s=e.selected,h=e.disabled,u=e.isLeaf,c=e.icon,d=e.badges,g=e._checkStatus,f=e._isLoading,v=e._isHovering,p=e._treeItemRect,x=function(e,t,i){var o=i.showCheckbox,a=i.showIcon,r=i.expandIconSize,n=i.iconSize,l=i.checkIconSize,s=i.space,h=Mt(i),u=e.x,c=e.y,d=e.width,g=e.height,f={x:u,y:c+(g-r)/2,width:r,height:r},v={x:f.x+r+s,y:c+(g-l)/2,width:l,height:l},p={x:null,y:c+(g-n)/2,width:n,height:n},x={x:null,y:c,width:d-h,height:g},y={x:t.x,y:c,width:t.width,height:g};return p.x=o?v.x+l+s:f.x+r+s,x.x=a?p.x+n+s:p.x,{expandIconRect:f,checkIconRect:v,iconRect:p,textRect:x,backRect:y}}(p,Be,{showCheckbox:Je,showIcon:et,expandIconSize:it,iconSize:ot,checkIconSize:at,space:rt}),y=x.expandIconRect,b=x.checkIconRect,m=x.iconRect,w=x.textRect,k=x.backRect;if(e._elementRect=x,Dt=e,_t+=Oe,Vt=Math.max(Vt,w.x-Ne+o),Ke&&s&&Rt(Be,k)){var C=k.x,V=k.y,_=k.width,I=k.height;Me.save(),Me.fillStyle=Ke,Me.fillRect(C,V,_,I),Me.restore()}if(Rt(Be,p)){if(Xe&&v){var D=k.x,T=k.y,S=k.width,L=k.height;Me.save(),Me.fillStyle=Xe,Me.fillRect(D,T,S,L),Me.restore()}if(Ke&&s){var P=k.x,A=k.y,M=k.width,B=k.height;Me.save(),Me.fillStyle=Ke,Me.fillRect(P,A,M,B),Me.restore()}if(!u){var E=y.x,R=y.y,O=y.width,W=y.height,H=void 0,F=void 0;F=f?(H=ht,pt):l?(H=st,vt):(H=lt,ft),Bt(Me,H,"fill",E,R,O,W,Ee,Re,F),Tt.expandIconRects.push({treeItem:e,expandIconRect:y})}if(Je){var j=b.x,N=b.y,G=b.width,Y=b.height,z=void 0,X=void 0;X="check"===g?(z=ct,yt):"unCheckAll"===g?(z=gt,mt):(z=dt,bt),Bt(Me,z,"fill",j,N,G,Y,Ee,Re,X),Tt.checkIconRects.push({treeItem:e,checkIconRect:b})}if(et){var U=m.x,K=m.y,Z=m.width,$=m.height,q=void 0,J=void 0;c?q=Et(c):(q=ut,J=xt),Bt(Me,q,"fill",U,K,Z,$,Ee,Re,J)}if(Qe){var Q=k.x,ee=k.y,te=k.width,ie=k.height;Me.save(),Me.strokeStyle=$e,Me.setLineDash([]),Me.beginPath(),Me.strokeRect(Q+.25,ee+.25,te-.5,ie),Me.stroke(),Me.restore()}if(tt&&0<d.length){var oe=Ct,ae=k.y+(k.height-He)/2;Me.save(),Me.font=ze,Me.textAlign="center",Me.fillStyle="#777777",Me.strokeStyle="white",Me.lineWidth=1,Me.setLineDash([]);for(var re=0,ne=d.length;re<ne;re++){var le=d[re],se=le.text,he=le.textColor,ue=le.backColor,ce=oa(ze,se).width;oe-=(ce+=2*je)+Fe,ue&&(Me.fillStyle=ue),Me.beginPath(),Fa(Me,oe,ae,ce,He,je),Me.closePath(),Me.fill(),he&&(Me.strokeStyle=he),Me.strokeText(se,oe+ce/2,ae+He/2),Me.stroke(),Tt.badgeRects.push({treeItem:e,info:le,badgeRect:{x:oe,y:ae,width:ce,height:He}})}Me.restore()}if(qe){var de=function(e,t){return e?"checkIconRect":t?"iconRect":"textRect"}(Je,et),ge=Pt(x[de]).leftMiddle,fe=Pt(y),ve=fe.rightMiddle,pe=fe.topMiddle,xe=fe.middleMiddle;Me.beginPath(),u?Me.moveTo(xe.x,xe.y):Me.moveTo(ve.x,ve.y),Me.lineTo(ge.x,ge.y);var ye=e.getPreVisibleSibling(nt);if(ye){var be=ye._elementRect,me=ye.isLeaf,we=be.expandIconRect,ke=Pt(we),Ce=ke.bottomMiddle,Ve=ke.middleMiddle;me?Me.moveTo(Ve.x,Ve.y):Me.moveTo(Ce.x,Ce.y),u?Me.lineTo(xe.x,xe.y):Me.lineTo(pe.x,pe.y)}else{var _e=e.parent._elementRect;if(_e){var Ie=Pt(_e[de]).bottomMiddle;Me.moveTo(xe.x,Ie.y),u?Me.lineTo(xe.x,xe.y):Me.lineTo(pe.x,pe.y)}}Me.stroke()}if(s&&Ze?(Me.save(),Me.fillStyle=Ze,Me.fillText(r,w.x,w.y+Oe/2),Me.restore()):v&&Ue?(Me.save(),Me.fillStyle=Ue,Me.fillText(r,w.x,w.y+Oe/2),Me.restore()):Me.fillText(r,w.x,w.y+Oe/2),h){var De=k.x,Te=k.y,Se=k.width,Le=k.height;Me.save(),Me.fillStyle="rgba(192, 192, 192, 0.5)",Me.fillRect(De,Te,Se,Le),Me.restore()}Tt.treeBackRects.push({treeItem:e,backRect:k})}if(l)for(var Pe=0,Ae=n.length;Pe<Ae;Pe++)St(n[Pe])}}},chart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),s=i.getValue("colors"),h=i.getColor("background"),u=i.getValue("onRectSelected"),c=i.getValue("rectSelectBorderColor"),d=i.getValue("rectSelectBackground"),g=i.getValue("boundaryGap"),f={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor")};if(r&&r.length){var v={color:s&&s.length?s:vo,xAxis:so(n,uo),yAxis:so(l,ho),series:r,tooltip:f,onRectSelected:u,rectSelectBorderColor:c,rectSelectBackground:d},p={data:o,view:a,boundaryGap:g,rect:e,contentRect:Co(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:Ma(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(v.xAxis.forEach(function(e){e._axisObj=new yo(e,v,p)}),v.yAxis.forEach(function(e){e._axisObj=new mo(e,v,p)}),lo(v,p),o){var x=wa(a,o,i);if(x){var y=x;p.hoverIndex=y.hoverIndex,p._dragging=y._dragging,p.rectPoint1=y.rectPoint1,p.rectPoint2=y.rectPoint2,y._dragging&&y.rectPoint1&&y.rectPoint2&&(p.selectRect=Vo(y.rectPoint1,y.rectPoint2))}}if(h&&(t.fillStyle=h,t.fillRect(e.x,e.y,e.width,e.height)),v.xAxis.forEach(function(e){e._axisObj.draw(t)}),v.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(a,r,n){var e=r.series,t=n.interactiveInfo.axisInfos=r.xAxis.map(function(e){return e._axisObj.axisInfos.map(function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barCategoryGap=null,e.forEach(function(e,t){e.type===I&&!1!==e.visible&&(n.barSeries.push(e),Oa(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),e.forEach(function(e,t){var i=e.type,o=void 0;i===D?o=ro:i===I&&(o=no),o&&o(a,e,t,r,n)}),void 0!==n.hoverIndex){var i=t[0][n.hoverIndex].position,o=n.bounds.bodyRect;a.strokeStyle=r.tooltip.lineColor,a.lineWidth=r.tooltip.lineWidth,a.beginPath(),a.moveTo(i,o.y),a.lineTo(i,o.y+o.height),a.stroke(),n._hoverHandlers&&n._hoverHandlers.forEach(function(e){e()})}}(t,v,p),p.selectRect){var b=p.selectRect,m=b.x,w=b.y,k=b.width,C=b.height;t.fillStyle=d,t.fillRect(m,w,k,C),t.strokeStyle=c,t.strokeRect(m,w,k,C)}if(o){var V=wa(a,o,i);V.ui=p,V.option=v}}},radioButton:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("values")||[],l=i.getValue("labels")||[],s=i.getValue("borderWidth"),h=i.getValue("borderRadius"),u=i.getValue("font"),c=i.getColor("labelColor"),d=i.getColor("borderColor"),g=i.getColor("background"),f=i.getColor("hoverLabelColor"),v=i.getColor("hoverBorderColor"),p=i.getColor("hoverBackground"),x=i.getColor("activeLabelColor"),y=i.getColor("activeBorderColor"),b=i.getColor("activeBackground"),m=i.getColor("disabledLabelColor"),w=i.getColor("disabledBorderColor"),k=i.getColor("disabledBackground"),C=i.getValue("vertical"),V=i.getValue("onChange"),_=i.getValue("disabled"),I=wa(a,o,i),D=t.x,T=t.y,S=t.width,L=t.height,P=Math.min(n.length,l.length);if(P){if(Qe=et=null,Oa(r)){var A=n.indexOf(r);et=0<=A?A:null}I&&Oa(I.hoverIndex)&&(Qe=I.hoverIndex);for(var M=[],B=0;B<P;B++)B!==Qe&&B!==et&&M.push(B);Oa(Qe)&&Qe===et?M.push(Qe):(Oa(et)&&M.push(et),Oa(Qe)&&M.push(Qe));var E,R,O,W,H,F,j,N,G,Y,z,X,U,K,Z,$,q,J,Q,ee,te,ie,oe,ae,re,ne,le,se,he=[];if(C)for(var ue=L/P,ce=0;ce<M.length;ce++){var de=M[ce],ge=l[de],fe={x:D,y:T+de*ue,width:S,height:ue};he.push({rect:fe,index:de});var ve=$e(de,_,c,f,x,m),pe=$e(de,_,d,v,y,w),xe=$e(de,_,g,p,b,k);Z=e,$=fe,q=qe(de,P),J=h,Q=ge,ee=u,te=ve,ie=s,oe=pe,ae=xe,void 0,re=$.x,ne=$.y,le=$.width,se=$.height,Z.save(),Z.beginPath(),0===q?Fa(Z,re,ne,le,se,J,J,0,0):1===q?Fa(Z,re,ne,le,se,0):2===q?Fa(Z,re,ne,le,se,0,0,J,J):Fa(Z,re,ne,le,se,J),Z.closePath(),ae&&(Z.fillStyle=ae,Z.fill()),oe&&ie&&(Z.strokeStyle=oe,Z.stroke()),Z.clip(),Je(Z,Q,ee,te,re,ne,le,se,"center","middle"),Z.restore()}else for(var ye=S/P,be=0;be<M.length;be++){var me=M[be],we=l[me],ke={x:D+ye*me,y:T,width:ye,height:L};he.push({rect:ke,index:me});var Ce=$e(me,_,c,f,x,m),Ve=$e(me,_,d,v,y,w),_e=$e(me,_,g,p,b,k);E=e,R=ke,O=qe(me,P),W=h,H=we,F=u,j=Ce,N=s,G=Ve,Y=_e,void 0,z=R.x,X=R.y,U=R.width,K=R.height,E.save(),E.beginPath(),0===O?Fa(E,z,X,U,K,W,0,W,0):1===O?Fa(E,z,X,U,K,0):2===O?Fa(E,z,X,U,K,0,W,0,W):Fa(E,z,X,U,K,W),E.closePath(),Y&&(E.fillStyle=Y,E.fill()),G&&N&&(E.strokeStyle=G,E.stroke()),E.clip(),Je(E,H,F,j,z,X,U,K,"center","middle"),E.restore()}I&&(I.disabled=_,I.onChange=V,I.buttonRects=he,I.values=n)}},carousel:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),s=i.getValue("vertical"),h=i.getValue("index"),u=i.getValue("gap"),c=i.getValue("itemWidth"),d=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),x=i.getValue("drawItem"),y=i.getValue("animation"),b=i.getValue("onClickItem"),m=wa(a,o,i),w=t.x,k=t.y,C=t.width,V=t.height,_=h%1;if(h|=0,p&&(e.fillStyle=p,e.fillRect(w,k,C,V)),r&&r.length){var I,D,T=1-l,S=[],L=void 0;if(I=(1-n)/(L=s?tt(d,V,u,n):tt(c,C,u,n)),D=T/L,e.save(),e.beginPath(),e.rect(w,k,C,V),e.clip(),s){for(var P=w+C/2,A=k+V/2-d/2-u-_*d,M=0;M<L;M++){var B=n+I*(L-M-1-_),E=l+D*(L-M-1-_),R=h-M-1;if(R<0||R>=r.length)break;var O=r[R],W=[(P-c*B/2)/B,(A-=d*B)/B,c,d];e.save(),e.globalAlpha=E,e.scale(B,B),x?x(e,O,ya(W),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,W)),Ha.apply(void 0,[e,O,v,f].concat(W,[ge,fe]))),e.restore(),A-=u,S.push({index:R,rect:{x:W[0]*B,y:W[1]*B,width:W[2]*B,height:W[3]*B}})}A=k+V/2+d/2+u-_*(d+u);for(var H=0;H<L;H++){var F=n+I*(L-H-1+_),j=l+D*(L-H-1+_),N=h+H+1;if(N<0||N>=r.length)break;var G=r[N],Y=[(P-c*F/2)/F,A/F,c,d];e.save(),e.globalAlpha=j,e.scale(F,F),x?x(e,G,ya(Y),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Y)),Ha.apply(void 0,[e,G,v,f].concat(Y,[ge,fe]))),e.restore(),A+=d*F+u,S.push({index:N,rect:{x:Y[0]*F,y:Y[1]*F,width:Y[2]*F,height:Y[3]*F}})}A=k+V/2-d/2-_*d;var z=r[h];if(z){var X=1-I*_,U=1-D*_,K=[(P-c*X/2)/X,A/X,c,d];e.save(),e.globalAlpha=U,e.scale(X,X),x?x(e,z,ya(K),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,K)),Ha.apply(void 0,[e,z,v,f].concat(K,[ge,fe]))),e.restore(),S.push({index:h,rect:{x:K[0]*X,y:K[1]*X,width:K[2]*X,height:K[3]*X}})}}else{for(var Z=k+V/2,$=w+C/2-c/2-u-_*c,q=0;q<L;q++){var J=n+I*(L-q-1-_),Q=l+D*(L-q-1-_),ee=h-q-1;if(ee<0||ee>=r.length)break;var te=r[ee],ie=[($-=c*J)/J,(Z-d*J/2)/J,c,d];e.save(),e.globalAlpha=Q,e.scale(J,J),x?x(e,te,ya(ie),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ie)),Ha.apply(void 0,[e,te,v,f].concat(ie,[ge,fe]))),e.restore(),$-=u,S.push({index:ee,rect:{x:ie[0]*J,y:ie[1]*J,width:ie[2]*J,height:ie[3]*J}})}$=w+C/2+c/2+u-_*(c+u);for(var oe=0;oe<L;oe++){var ae=n+I*(L-oe-1+_),re=l+D*(L-oe-1+_),ne=h+oe+1;if(ne<0||ne>=r.length)break;var le=r[ne],se=[$/ae,(Z-d*ae/2)/ae,c,d];e.save(),e.globalAlpha=re,e.scale(ae,ae),x?x(e,le,ya(se),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,se)),Ha.apply(void 0,[e,le,v,f].concat(se,[ge,fe]))),e.restore(),$+=c*ae+u,S.push({index:ne,rect:{x:se[0]*ae,y:se[1]*ae,width:se[2]*ae,height:se[3]*ae}})}$=w+C/2-c/2-_*c;var he=r[h];if(he){var ue=1-I*_,ce=1-D*_,de=[$/ue,(Z-d*ue/2)/ue,c,d];e.save(),e.globalAlpha=ce,e.scale(ue,ue),x?x(e,he,ya(de),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,de)),Ha.apply(void 0,[e,he,v,f].concat(de,[ge,fe]))),e.restore(),S.push({index:h,rect:{x:de[0]*ue,y:de[1]*ue,width:de[2]*ue,height:de[3]*ue}})}}e.restore(),m&&(m.itemInfos=S,m.index=h,m.animation=y,m.dataSource=r,m.onClickItem=b,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),s=i.getValue("itemWidth"),h=i.getValue("itemHeight"),u=i.getColor("itemBackground"),c=i.getColor("itemColor"),d=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(wa(a,o,i),t.x),x=t.y,y=t.width,b=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,x,y,b)),r&&r.length){e.save(),e.beginPath(),e.rect(p,x,y,b),e.clip();var m=r.length;if(n){var w=h+l,k=x+v,C=p+(y-s)/2,V=0;if((k%=w*r.length)<=x)for(;;){if(xa({x:C,y:k,width:s,height:h},t))break;V++,k+=w}else if(x<k)for(;;){if(!xa({x:C,y:k,width:s,height:h},t)&&k<x){k+=w,V++;break}k-=w,V--}for(;;){var _={x:C,y:k,width:s,height:h};if(!xa(_,t))break;var I,D=V%m;D<0&&(D=m+V),I=r[D],f?f(e,I,_,o,a):(u&&(e.fillStyle=u,e.fillRect(C,k,s,h)),Ha(e,I,d,c,C,k,s,h,ge,fe)),k+=w,V++}}else{var T=s+l,S=x+(b-h)/2,L=p+v,P=0;if((L%=T*r.length)<=p)for(;;){if(xa({x:L,y:S,width:s,height:h},t))break;P++,L+=T}else if(p<L)for(;;){if(!xa({x:L,y:S,width:s,height:h},t)&&L<p){L+=T,P++;break}L-=T,P--}for(;;){var A={x:L,y:S,width:s,height:h};if(!xa(A,t))break;var M,B=P%m;B<0&&(B=m+P),M=r[B],f?f(e,M,A,o,a):(u&&(e.fillStyle=u,e.fillRect(L,S,s,h)),Ha(e,M,d,c,L,S,s,h,ge,fe)),L+=T,P++}}e.restore()}},timeAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),s=i.getValue("colors"),h=i.getColor("background"),u=i.getValue("onRectSelected"),c=i.getValue("rectSelectBorderColor"),d=i.getValue("rectSelectBackground"),g=i.getValue("maxVisiblePoint"),f=i.getValue("endProtectPoint"),v=i.getValue("xAxisRange"),p={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){var x={color:s&&s.length?s:vo,xAxis:so(n,_o),yAxis:so(l,ho),series:r,tooltip:p,onRectSelected:u,rectSelectBorderColor:c,rectSelectBackground:d},y={data:o,view:a,maxVisiblePoint:g,endProtectPoint:f,xAxisRange:v,rect:e,contentRect:function(e){return ht.Default.clone(e)}(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:Ma(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(x.xAxis.forEach(function(e){e._axisObj=new Io(e,x,y)}),x.yAxis.forEach(function(e){e._axisObj=new mo(e,x,y)}),lo(x,y),o){var b=wa(a,o,i);if(b){var m=b;y.hoverTime=m.hoverTime,y._dragging=m._dragging,y.rectPoint1=m.rectPoint1,y.rectPoint2=m.rectPoint2,m._dragging&&m.rectPoint1&&m.rectPoint2&&(y.selectRect=Na(m.rectPoint1,m.rectPoint2))}}if(h&&(t.fillStyle=h,t.fillRect(e.x,e.y,e.width,e.height)),x.xAxis.forEach(function(e){e._axisObj.draw(t)}),x.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){if(o.series.forEach(function(e,t){"line"===e.type&&To(i,e,t,o,a)}),void 0!==a.hoverTime){var e=o.xAxis[0]._axisObj.timeRange,t=e[0],r=e[1]-t,n=a.bounds.bodyRect,l=n.x,s=n.y,h=n.width,u=n.height,c=l+(a.hoverTime-t)/r*h,d=o.tooltip,g=d.lineColor,f=d.lineWidth,v=d.pattern;i.strokeStyle=g,i.lineWidth=f,v&&i.setLineDash(v),i.beginPath(),i.moveTo(c,s),i.lineTo(c,s+u),i.stroke(),a._hoverHandlers&&a._hoverHandlers.forEach(function(e){e()})}}(t,x,y),y.selectRect){var w=y.selectRect,k=w.x,C=w.y,V=w.width,_=w.height;t.fillStyle=d,t.fillRect(k,C,V,_),t.strokeStyle=c,t.strokeRect(k,C,V,_)}if(o){var I=wa(a,o,i);I.ui=y,I.option=x}}},pagination:function(h,e,t,u,c){var d=t.getValue("current"),i=t.getValue("pageSize"),o=t.getValue("total"),a=t.getValue("align"),r=t.getValue("itemWidth"),g=t.getValue("itemHeight"),f=t.getValue("gap"),v=t.getColor("labelColor"),p=t.getColor("background"),x=t.getValue("borderWidth"),y=t.getColor("borderColor"),b=t.getValue("borderRadius"),m=t.getValue("font"),w=t.getColor("hoverLabelColor"),k=t.getColor("hoverBorderColor"),C=t.getColor("hoverBackground"),V=t.getColor("activeLabelColor"),_=t.getColor("activeBorderColor"),I=t.getColor("activeBackground"),D=t.getColor("disabledLabelColor"),T=t.getColor("disabledBorderColor"),S=t.getColor("disabledBackground"),L=t.getColor("disabledActiveLabelColor"),P=t.getColor("disabledActiveBorderColor"),A=t.getColor("disabledActiveBackground"),n=t.getColor("showFirstAndLast"),l=t.getValue("disabled"),s=u?wa(c,u,t):{},M=e.x,B=e.y,E=e.width,R=e.height;if(o){for(var O=Math.ceil(o/i),W=7<O,H=W&&4<d,F=W&&d<=O-4,j=1<d,N=d<O,G=[],Y=0;Y<O;Y++)W?((0===Y||Y===O-1||Math.abs(Y+1-d)<=2||!H&&Y<5||!F&&O-5<Y)&&G.push({label:Y+1,isDisabled:!!l}),1===Y&&H&&G.push({label:we,isDisabled:!!l}),Y===O-2&&F&&G.push({label:ke,isDisabled:!!l})):G.push({label:Y+1,isDisabled:!!l});G.unshift({label:be,isDisabled:!j||l}),n&&G.unshift({label:Ce,isDisabled:!j||l}),G.push({label:me,isDisabled:!N||l}),n&&G.push({label:Ve,isDisabled:!N||l});var z=s.hoverLabel;if(xe===a)for(var X=M+E-x/2,U=B+(R-g)/2,K=G.length-1;0<=K;K--){var Z=(ne=G[K]).label,$=ne.isDisabled,q=oa(m,Z),J={x:X-=le=0<=rt.indexOf(Z)?r:Math.max(r,q.width),y:U,width:le,height:g},Q={active:d===Z,hover:z===Z,disabled:$},ee=ot(Q,v,w,V,D,L),te=ot(Q,y,k,_,T,P),ie=ot(Q,p,C,I,S,A);it(h,J,Z,m,ee,te,b,x,ie,Q,u,c),X-=f,ne.rect=J}else if(ye===a)for(var oe=M+x/2,ae=B+(R-g)/2,re=0;re<G.length;re++){Z=(ne=G[re]).label,$=ne.isDisabled,q=oa(m,Z);var ne,le,se={x:oe,y:ae,width:le=0<=rt.indexOf(Z)?r:Math.max(r,q.width),height:g},he={active:d===Z,hover:z===Z,disabled:$},ue=ot(he,v,w,V,D,L),ce=ot(he,y,k,_,T,P),de=ot(he,p,C,I,S,A);it(h,se,Z,m,ue,ce,b,x,de,he,u,c),oe+=le+f,ne.rect=se}else{var ge=0,fe=B+(R-g)/2,ve=[],pe=void 0;G.forEach(function(e){var t=e.label,i=(e.isDisabled,oa(m,t)),o=0<=rt.indexOf(t)?r:Math.max(r,i.width);ge+=o,ve.push(o)}),ge+=(G.length-1)*f,pe=M+E/2-ge/2,G.forEach(function(e,t){var i=e.label,o=e.isDisabled,a={x:pe,y:fe,width:ve[t],height:g},r={active:d===i,hover:z===i,disabled:o},n=ot(r,v,w,V,D,L),l=ot(r,y,k,_,T,P),s=ot(r,p,C,I,S,A);it(h,a,i,m,n,l,b,x,s,r,u,c),pe+=a.width+f,e.rect=a})}u&&(s.itemList=G,s.totalPage=O,s.current=d,s.disabled=l,s.onChange=t.getValue("onChange"))}},gantt:function(v,e,t,i,o){var a=t.getValue("dataSource"),n=t.getValue("font"),r=t.getValue("xAxisStart"),l=t.getValue("xAxisEnd"),s=t.getValue("xAxisGroup"),h=t.getValue("xAxisLabelType"),u=(t.getValue("xAxisLabelLayout"),t.getValue("yAxisPercent")),c=t.getValue("overflow"),d=t.getValue("tipShow"),g=t.getValue("yAxisTipShow"),f=t.getValue("xAxisTipShow"),p=t.getValue("seriesTipShow"),x=t.getValue("barColorGradient"),y=t.getColor("backgroundColor"),b=t.getColor("yAxisLabelColor"),m=t.getColor("xAxisLabelColor"),w=t.getColor("barColor"),k=t.getColor("columnColors"),C=wa(o,i,t),V=e.x,_=e.y,I=e.width,D=e.height,T={tipInfoList:[]};if(v.font=n,v.textAlign="left",v.textBaseline="top",y&&(v.fillStyle=y,v.fillRect(V,_,I,D)),a&&0!==a.length){var S=new Date(r),L=new Date(l),P=(1-u)*I,A=L-S,M=A/(s-1),B=P/s,E=D/(a.length+1),R=I-P;v.fillStyle=m;for(var O=0;O<s;O++){var W=new Date(S.getTime()+M*O),H=V+R+O*B,F=_+.5*E-.3*oa(n,W).height,j=za(W,"YYYY-MM-DD hh:mm:ss");switch(h){case 0:W=za(W,"YYYY-MM-DD hh:mm:ss");break;case 1:W=za(W,"YYYY-MM-DD");break;case 2:W=za(W,"DD");break;case 3:W=za(W,"hh:mm:ss");break;default:W=za(W,"YYYY-MM-DD hh:mm:ss")}if(v.fillText(W,H,F),f){var N={x:H,y:F-4,width:oa(n,W).width,height:oa(n,W).height,name:j};T.tipInfoList.push(N)}}v.fillStyle=b,a.forEach(function(e,t){var i=V+2,o=_+(t+1)*E-.3*oa(n,e.name).height+.5*E,a=e.name;if(c&&oa(n,e.name).width>u*I&&(a=function(e,t,i,o){for(var a="",r=e.length;r>0;r--){a=e.slice(0,r)+o;if(oa(t,a).width<=i){break}}return a}(a,n,u*I,"...")),0<k.length&&(v.fillStyle=k[t%k.length],v.fillRect(V,_+E+t*E,I,E)),v.fillStyle=b,v.fillText(a,i,o),g){var r={x:i,y:o,width:oa(n,e.name).width,height:oa(n,e.name).height,name:e.name};T.tipInfoList.push(r)}}),a.forEach(function(e,t){var i=new Date(e.start),o=new Date(e.end),a=P*((o-i)/A),r=.6*E,n=V+R+(i-S)/A*P,l=_+(t+1)*E+(E-r)/2,s=8<a?4:0,h=a-2*s,u=r-8,c=n+s,d=_+(t+1)*E+(E-u)/2;v.strokeStyle=w,Fa(v,n,l,a,r,8),v.stroke();var g=v.createLinearGradient(c,_,c+h,_);if(g.addColorStop(0,"rgba(255,255,255,0)"),g.addColorStop(1,w),v.fillStyle=x?g:w,v.beginPath(),Fa(v,c,d,h,u,5),v.closePath(),v.fill(),p){var f={x:n,y:l,width:a,height:r,start:e.start,end:e.end,name:e.name,text:e.start+"~"+e.end};T.tipInfoList.push(f)}}),C&&(C.tipInfoList=T.tipInfoList,C.tipShow=d)}},radio2:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),s=i.getColor("background"),h=i.getColor("activeColor"),u=i.getColor("disabledColor"),c=i.getColor("disabledBackground"),d=(i.getValue("symbol"),wa(a,o,i));Oa(d.checked)&&(n=d.checked);var g=n?h:l,f=t.x,v=t.y,p=t.width,x=t.height,y=Math.min(p,x);o&&(r?(g=u,s=c):d.pressed?n?g=ht.Default.darker(g,De.activeDarker):s=ht.Default.darker(s,De.activeDarker):d.hover&&(n?g=ht.Default.darker(g,De.hoverDarker):s=ht.Default.darker(s,De.hoverDarker))),s&&(e.beginPath(),e.fillStyle=s,e.arc(f+.5*p,v+.5*x,.5*y,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*y,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*y,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=b),d&&(d.disabled=r,d.onChange=i.getValue("onChange"),d.group=i.getValue("group"),d.value=i.getValue("value"),d.checked=n,d.__inputType=b)},valueAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),s=i.getValue("colors"),h=i.getColor("background"),u={show:i.getValue("tooltip")};if(r&&r.length){var c={color:s&&s.length?s:vo,xAxis:so(n,uo),yAxis:so(l,ho),series:r,tooltip:u},d={data:o,view:a,rect:e,contentRect:Mo(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:Ma(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(c.xAxis.forEach(function(e){e._axisObj=new Lo(e,c,d)}),c.yAxis.forEach(function(e){e._axisObj=new mo(e,c,d)}),lo(c,d),h&&(t.fillStyle=h,t.fillRect(e.x,e.y,e.width,e.height)),o){var g=wa(a,o,i);if(g){var f=g;d.hitPointIndex=f.hitPointIndex,d.hitSeriesIndex=f.hitSeriesIndex}}if(c.xAxis.forEach(function(e){e._axisObj.draw(t)}),c.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){var e=o.series;a.pointsInfo={},e.forEach(function(e,t){So(i,e,t,o,a)})}(t,c,d),o){var v=wa(a,o,i);v.ui=d,v.option=c}}}},pieInteractor:new zo,buttonInteractor:new bt,inputInteractor:new ct,textAreaInteractor:new st,radioInteractor:new wt,checkboxInteractor:new _t,colorPickerInteractor:new zt,dateTimePickerInteractor:new Ut,comboBoxInteractor:new ri,tableInteractor:new si,sliderInteractor:new di,rangeSliderInteractor:new vi,multipleComboBoxInteractor:new yi,treeInteractor:new Di,chartInteractor:new Li,inputNumberInteractor:new vt,dateRangePickerInteractor:new Ai,radioButtonInteractor:new Ei,carouselInteractor:new ji,timeAxisChartInteractor:new Xi,carouselInteractor2:new Gi,paginationInteractor:new Ji,ganttInteractor:new Ki,textBoxInteractor:new eo,radioInteractor2:new Ct,valueAxisChartInteractor:new Uo,Color:v,ListView:ei,ListDropDown:ii,getVectorInfo:wa,caluMultilineSize:function(e,t){var i=e.a("ht.content"),o=e.a(f.FONT),a=e.a(f.LINE_HEIGHT),r=e.a(f.PADDING),n=aa(r),l=Ie(n,4),s=l[0],h=l[1],u=l[2],c=l[3],d=i.split(/\n/),g=0;return d.forEach(function(e){var t=oa(o,e);g=Math.max(g,t.width)}),{width:g+c+h,height:d.length*a+s+u}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),o=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),s=n.a("ht.hGap"),h=n.a("ht.font"),u=aa(i),c=Ie(u,4),d=c[0],g=c[1],f=c[2],v=c[3]+g+t,p=d+f+t;o&&(a===ye||a===xe?v+=10:p+=10);var x=0,y=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*s;e.forEach(function(e,t){var i=Ma(e.text,n,l),o=oa(e.font||h,i);a=Math.max(a,o.height),r+=o.width}),x=Math.max(x,r),y+=a}),y+=(e.length-1)*r),{width:v+=x,height:p+=y}}},er="0.0.7";return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),Qa.openColorDropDown=Wt,Qa.openDateTimeDropDown=jt,Qa.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP);if(t)n[t]=ca(e);else if(i&&!n[f.FORM_ITEM_GROUP])if(e.__inputType===b)for(var o=0;o<l.length;o++){var a=l.get(o);if(i===a.a(f.FORM_ITEM_GROUP)&&a.a(f.CHECKED)){n[i]=ca(a);break}}else if(e.__inputType===k){var r=[];l.each(function(e){i===e.a(f.FORM_ITEM_GROUP)&&e.a(f.CHECKED)&&r.push(ca(e))}),n[i]=r}}),n},Qa.selectFile=ga,Qa.getVersion=function(){return er},Qa}();
